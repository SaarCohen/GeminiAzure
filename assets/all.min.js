/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(n,t){function hf(n){var t=yt[n]={};return i.each(n.split(h),function(n,i){t[i]=!0}),t}function li(n,r,u){if(u===t&&n.nodeType===1){var f="data-"+r.replace(ci,"-$1").toLowerCase();if(u=n.getAttribute(f),typeof u=="string"){try{u=u==="true"?!0:u==="false"?!1:u==="null"?null:+u+""===u?+u:hi.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function pt(n){var t;for(t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function v(){return!1}function it(){return!0}function k(n){return!n||!n.parentNode||n.parentNode.nodeType===11}function nr(n,t){do n=n[t];while(n&&n.nodeType!==1);return n}function tr(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if(typeof t=="string"){var u=i.grep(n,function(n){return n.nodeType===1});if(df.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function ir(n){var i=rr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function oe(n,t){return n.getElementsByTagName(t)[0]||n.appendChild(n.ownerDocument.createElement(t))}function hr(n,t){if(t.nodeType===1&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle,r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function cr(n,t){var r;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(n),r=t.nodeName.toLowerCase(),r==="object"?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):r==="input"&&er.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):r==="option"?t.selected=n.defaultSelected:r==="input"||r==="textarea"?t.defaultValue=n.defaultValue:r==="script"&&t.text!==n.text&&(t.text=n.text),t.removeAttribute(i.expando))}function rt(n){return typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName("*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll("*"):[]}function lr(n){er.test(n.type)&&(n.defaultChecked=n.checked)}function pr(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=yr.length;i--;)if(t=yr[i]+r,t in n)return t;return u}function ft(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)}function wr(n,t){for(var r,o,e=[],f=0,s=n.length;f<s;f++)(r=n[f],r.style)&&(e[f]=i._data(r,"olddisplay"),t?(e[f]||r.style.display!=="none"||(r.style.display=""),r.style.display===""&&ft(r)&&(e[f]=i._data(r,"olddisplay",gr(r.nodeName)))):(o=u(r,"display"),e[f]||o==="none"||i._data(r,"olddisplay",o)));for(f=0;f<s;f++)(r=n[f],r.style)&&(t&&r.style.display!=="none"&&r.style.display!==""||(r.style.display=t?e[f]||"":"none"));return n}function br(n,t,i){var r=le.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function kr(n,t,r,f){for(var e=r===(f?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+c[e],!0)),f?(r==="content"&&(o-=parseFloat(u(n,"padding"+c[e]))||0),r!=="margin"&&(o-=parseFloat(u(n,"border"+c[e]+"Width"))||0)):(o+=parseFloat(u(n,"padding"+c[e]))||0,r!=="padding"&&(o+=parseFloat(u(n,"border"+c[e]+"Width"))||0));return o}function dr(n,t,r){var f=t==="width"?n.offsetWidth:n.offsetHeight,e=!0,o=i.support.boxSizing&&i.css(n,"boxSizing")==="border-box";if(f<=0||f==null){if(f=u(n,t),(f<0||f==null)&&(f=n.style[t]),ut.test(f))return f;e=o&&(i.support.boxSizingReliable||f===n.style[t]),f=parseFloat(f)||0}return f+kr(n,t,r||(o?"border":"content"),e)+"px"}function gr(n){if(ni[n])return ni[n];var f=i("<"+n+">").appendTo(r.body),t=f.css("display");return f.remove(),(t==="none"||t==="")&&(y=r.body.appendChild(y||i.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),p&&y.createElement||(p=(y.contentWindow||y.contentDocument).document,p.write("<!doctype html><html><body>"),p.close()),f=p.body.appendChild(p.createElement(n)),t=u(f,"display"),r.body.removeChild(y)),ni[n]=t,t}function ti(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||we.test(n)?u(n,i):ti(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)ti(n+"["+f+"]",t[f],r,u)}function eu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,o,f,s=t.toLowerCase().split(h),e=0,c=s.length;if(i.isFunction(r))for(;e<c;e++)u=s[e],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),o=n[u]=n[u]||[],o[f?"unshift":"push"](r)}}function et(n,i,r,u,f,e){f=f||i.dataTypes[0],e=e||{},e[f]=!0;for(var o,s=n[f],h=0,l=s?s.length:0,c=n===ii;h<l&&(c||!o);h++)o=s[h](i,r,u),typeof o=="string"&&(!c||e[o]?o=t:(i.dataTypes.unshift(o),o=et(n,i,r,u,o,e)));return!c&&o||e["*"]||(o=et(n,i,r,u,"*",e)),o}function ou(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);f&&i.extend(!0,n,f)}function fo(n,i,r){var o,u,e,s,h=n.contents,f=n.dataTypes,c=n.responseFields;for(u in c)u in r&&(i[c[u]]=r[u]);while(f[0]==="*")f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("content-type"));if(o)for(u in h)if(h[u]&&h[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}s||(s=u)}e=e||s}if(e)return e!==f[0]&&f.unshift(e),r[e]}function eo(n,t){var i,o,r,e,s=n.dataTypes.slice(),f=s[0],u={},h=0;if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if(r!=="*"){if(f!=="*"&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]],i)){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function cu(){try{return new n.XMLHttpRequest}catch(t){}}function ho(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function lu(){return setTimeout(function(){b=t},0),b=i.now()}function vo(n,t){i.each(t,function(t,i){for(var u=(d[t]||[]).concat(d["*"]),r=0,f=u.length;r<f;r++)if(u[r].call(n,t,i))return})}function au(n,t,r){var e,o=0,l=0,c=ct.length,f=i.Deferred().always(function(){delete h.elem}),h=function(){for(var o=b||lu(),t=Math.max(0,u.startTime+u.duration-o),s=t/u.duration||0,i=1-s,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:b||lu(),duration:r.duration,tweens:[],createTween:function(t,r){var e=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(e),e},stop:function(t){for(var i=0,r=t?u.tweens.length:0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(yo(s,u.opts.specialEasing);o<c;o++)if(e=ct[o].call(u,n,s,u.opts),e)return e;return vo(u,s),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(h,{anim:u,queue:u.opts.queue,elem:n})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function yo(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u),delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function po(n,t,r){var o,u,a,v,s,y,l,f,b,h=this,e=n.style,p={},w=[],c=n.nodeType&&ft(n);r.queue||(f=i._queueHooks(n,"fx"),f.unqueued==null&&(f.unqueued=0,b=f.empty.fire,f.empty.fire=function(){f.unqueued||b()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--,i.queue(n,"fx").length||f.empty.fire()})})),n.nodeType===1&&("height"in t||"width"in t)&&(r.overflow=[e.overflow,e.overflowX,e.overflowY],i.css(n,"display")==="inline"&&i.css(n,"float")==="none"&&(i.support.inlineBlockNeedsLayout&&gr(n.nodeName)!=="inline"?e.zoom=1:e.display="inline-block")),r.overflow&&(e.overflow="hidden",i.support.shrinkWrapBlocks||h.done(function(){e.overflow=r.overflow[0],e.overflowX=r.overflow[1],e.overflowY=r.overflow[2]}));for(o in t)if(a=t[o],co.exec(a)){if(delete t[o],y=y||a==="toggle",a===(c?"hide":"show"))continue;w.push(o)}if(v=w.length,v)for(s=i._data(n,"fxshow")||i._data(n,"fxshow",{}),("hidden"in s)&&(c=s.hidden),y&&(s.hidden=!c),c?i(n).show():h.done(function(){i(n).hide()}),h.done(function(){var t;i.removeData(n,"fxshow",!0);for(t in p)i.style(n,t,p[t])}),o=0;o<v;o++)u=w[o],l=h.createTween(u,c?s[u]:0),p[u]=s[u]||i.style(n,u),u in s||(s[u]=l.start,c&&(l.end=l.start,l.start=u==="width"||u==="height"?1:0))}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function lt(n,t){var r,i={height:n},u=0;for(t=t?1:0;u<4;u+=2-t)r=c[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function vu(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}var ui,g,r=n.document,yu=n.location,pu=n.navigator,wu=n.jQuery,bu=n.$,fi=Array.prototype.push,o=Array.prototype.slice,ei=Array.prototype.indexOf,ku=Object.prototype.toString,at=Object.prototype.hasOwnProperty,vt=String.prototype.trim,i=function(n,t){return new i.fn.init(n,t,ui)},nt=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,du=/\S/,h=/\s+/,gu=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nf=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,oi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tf=/^[\],:{}\s]*$/,rf=/(?:^|:|,)(?:\s*\[)+/g,uf=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ff=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ef=/^-ms-/,of=/-([\da-z])/gi,sf=function(n,t){return(t+"").toUpperCase()},tt=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",tt,!1),i.ready()):r.readyState==="complete"&&(r.detachEvent("onreadystatechange",tt),i.ready())},si={},yt,hi,ci,w,st,hu,ri;i.fn=i.prototype={constructor:i,init:function(n,u,f){var e,o,h,s;if(!n)return this;if(n.nodeType)return this.context=this[0]=n,this.length=1,this;if(typeof n=="string"){if(e=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:nf.exec(n),e&&(e[1]||!u)){if(e[1])return u=u instanceof i?u[0]:u,s=u&&u.nodeType?u.ownerDocument||u:r,n=i.parseHTML(e[1],s,!0),oi.test(e[1])&&i.isPlainObject(u)&&this.attr.call(n,u,!0),i.merge(this,n);if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1,this[0]=o}return this.context=r,this.selector=n,this}return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n)}return i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return o.call(this)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n,t,r){var u=i.merge(this.constructor(),n);return u.prevObject=this,u.context=this.context,t==="find"?u.selector=this.selector+(this.selector?" ":"")+r:t&&(u.selector=this.selector+"."+t+"("+r+")"),u},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},eq:function(n){return n=+n,n===-1?this.slice(n):this.slice(n,n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(o.apply(this,arguments),"slice",o.call(arguments).join(","))},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:fi,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n=="object"||i.isFunction(n)||(n={}),l===f&&(n=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=n[e],r=o[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n},i.extend({noConflict:function(t){return n.$===i&&(n.$=bu),t&&n.jQuery===i&&(n.jQuery=wu),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready,1);(i.isReady=!0,n!==!0&&--i.readyWait>0)||(g.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):si[ku.call(n)]||"object"},isPlainObject:function(n){if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!at.call(n,"constructor")&&!at.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}var r;for(r in n);return r===t||at.call(n,r)},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},error:function(n){throw new Error(n);},parseHTML:function(n,t,u){var f;return!n||typeof n!="string"?null:(typeof t=="boolean"&&(u=t,t=0),t=t||r,f=oi.exec(n))?[t.createElement(f[1])]:(f=i.buildFragment([n],t,u?null:[]),i.merge([],(f.cacheable?i.clone(f.fragment):f.fragment).childNodes))},parseJSON:function(t){if(!t||typeof t!="string")return null;if(t=i.trim(t),n.JSON&&n.JSON.parse)return n.JSON.parse(t);if(tf.test(t.replace(uf,"@").replace(ff,"]").replace(rf,"")))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(r){var u,f;if(!r||typeof r!="string")return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&du.test(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ef,"ms-").replace(of,sf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,r,u){var f,e=0,o=n.length,s=o===t||i.isFunction(n);if(u){if(s){for(f in n)if(r.apply(n[f],u)===!1)break}else for(;e<o;)if(r.apply(n[e++],u)===!1)break}else if(s){for(f in n)if(r.call(n[f],f,n[f])===!1)break}else for(;e<o;)if(r.call(n[e],e,n[e++])===!1)break;return n},trim:vt&&!vt.call("﻿ ")?function(n){return n==null?"":vt.call(n)}:function(n){return n==null?"":(n+"").replace(gu,"")},makeArray:function(n,t){var r,u=t||[];return n!=null&&(r=i.type(n),n.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(n)?fi.call(u,n):i.merge(u,n)),u},inArray:function(n,t,i){var r;if(t){if(ei)return ei.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if(typeof f=="number")for(;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;r<e;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,r,u){var f,h,e=[],s=0,o=n.length,c=n instanceof i||o!==t&&typeof o=="number"&&(o>0&&n[0]&&n[o-1]||o===0||i.isArray(n));if(c)for(;s<o;s++)f=r(n[s],s,u),f!=null&&(e[e.length]=f);else for(h in n)f=r(n[h],h,u),f!=null&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(n,r){var f,e,u;return(typeof r=="string"&&(f=n[r],r=n,n=f),!i.isFunction(n))?t:(e=o.call(arguments,2),u=function(){return n.apply(r,e.concat(o.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u)},access:function(n,r,u,f,e,o,s){var c,l=u==null,h=0,a=n.length;if(u&&typeof u=="object"){for(h in u)i.access(n,r,h,u[h],1,o,f);e=1}else if(f!==t){if(c=s===t&&i.isFunction(f),l&&(c?(c=r,r=function(n,t,r){return c.call(i(n),r)}):(r.call(n,f),r=null)),r)for(;h<a;h++)r(n[h],u,c?f.call(n[h],h,r(n[h],u)):f,s);e=1}return e?n:l?r.call(n):a?r(n[0],u):o},now:function(){return+new Date}}),i.ready.promise=function(t){if(!g)if(g=i.Deferred(),r.readyState==="complete")setTimeout(i.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",tt,!1),n.addEventListener("load",i.ready,!1);else{r.attachEvent("onreadystatechange",tt),n.attachEvent("onload",i.ready);var u=!1;try{u=n.frameElement==null&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}i.ready()}}()}return g.promise(t)},i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,t){si["[object "+t+"]"]=t.toLowerCase()}),ui=i(r),yt={},i.Callbacks=function(n){n=typeof n=="string"?yt[n]||hf(n):i.extend({},n);var f,c,o,l,s,e,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,e=l||0,l=0,s=r.length,o=!0;r&&e<s;e++)if(r[e].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}o=!1,r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);e==="function"?n.unique&&h.has(f)||r.push(f):f&&f.length&&e!=="string"&&u(f)})})(arguments),o?s=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),o&&(u<=s&&s--,u<=e&&e--)}),this},has:function(n){return i.inArray(n,r)>-1},empty:function(){return r=[],this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return t=t||[],t=[n,t.slice?t.slice():t],r&&(!c||u)&&(o?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h},i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(r){i.each(u,function(u,f){var e=f[0],o=n[u];t[f[1]](i.isFunction(o)?function(){var n=o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[e+"With"](this===t?r:this,[n])}:r[e])}),n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add,o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock),t[i[0]]=e.fire,t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=o.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),c=function(n,t,i){return function(r){t[n]=this,i[n]=arguments.length>1?o.call(arguments):r,i===s?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},s,l,h;if(r>1)for(s=new Array(r),l=new Array(r),h=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(c(t,h,u)).fail(f.reject).progress(c(t,l,s)):--e;return e||f.resolveWith(h,u),f.promise()}}),i.support=function(){var u,h,e,c,l,f,o,a,v,s,y,t=r.createElement("div");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",h=t.getElementsByTagName("*"),e=t.getElementsByTagName("a")[0],!h||!e||!h.length)return{};c=r.createElement("select"),l=c.appendChild(r.createElement("option")),f=t.getElementsByTagName("input")[0],e.style.cssText="top:1px;float:left;opacity:.5",u={leadingWhitespace:t.firstChild.nodeType===3,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:f.value==="on",optSelected:l.selected,getSetAttribute:t.className!=="t",enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",boxModel:r.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},f.checked=!0,u.noCloneChecked=f.cloneNode(!0).checked,c.disabled=!0,u.optDisabled=!l.disabled;try{delete t.test}catch(p){u.deleteExpando=!1}if(!t.addEventListener&&t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",y=function(){u.noCloneEvent=!1}),t.cloneNode(!0).fireEvent("onclick"),t.detachEvent("onclick",y)),f=r.createElement("input"),f.value="t",f.setAttribute("type","radio"),u.radioValue=f.value==="t",f.setAttribute("checked","checked"),f.setAttribute("name","t"),t.appendChild(f),o=r.createDocumentFragment(),o.appendChild(t.lastChild),u.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,u.appendChecked=f.checked,o.removeChild(f),o.appendChild(t),t.attachEvent)for(v in{submit:!0,change:!0,focusin:!0})a="on"+v,s=a in t,s||(t.setAttribute(a,"return;"),s=typeof t[a]=="function"),u[v+"Bubbles"]=s;return i(function(){var i,t,f,e,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=r.getElementsByTagName("body")[0];o&&(i=r.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(i,o.firstChild),t=r.createElement("div"),i.appendChild(t),t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",f=t.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",s=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",u.reliableHiddenOffsets=s&&f[0].offsetHeight===0,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",u.boxSizing=t.offsetWidth===4,u.doesNotIncludeMarginInBodyOffset=o.offsetTop!==1,n.getComputedStyle&&(u.pixelPosition=(n.getComputedStyle(t,null)||{}).top!=="1%",u.boxSizingReliable=(n.getComputedStyle(t,null)||{width:"4px"}).width==="4px",e=r.createElement("div"),e.style.cssText=t.style.cssText=h,e.style.marginRight=e.style.width="0",t.style.width="1px",t.appendChild(e),u.reliableMarginRight=!parseFloat((n.getComputedStyle(e,null)||{}).marginRight)),typeof t.style.zoom!="undefined"&&(t.innerHTML="",t.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",u.inlineBlockNeedsLayout=t.offsetWidth===3,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div><\/div>",t.firstChild.style.width="5px",u.shrinkWrapBlocks=t.offsetWidth!==3,i.style.zoom=1),o.removeChild(i),i=t=f=e=null)}),o.removeChild(t),h=e=c=l=f=o=t=null,u}(),hi=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ci=/([A-Z])/g,i.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(i.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!pt(n)},data:function(n,r,u,f){if(i.acceptData(n)){var s,h,c=i.expando,a=typeof r=="string",l=n.nodeType,o=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&o[e]&&(f||o[e].data)||!a||u!==t)return e||(l?n[c]=e=i.deletedIds.pop()||i.guid++:e=c),o[e]||(o[e]={},l||(o[e].toJSON=i.noop)),(typeof r=="object"||typeof r=="function")&&(f?o[e]=i.extend(o[e],r):o[e].data=i.extend(o[e].data,r)),s=o[e],f||(s.data||(s.data={}),s=s.data),u!==t&&(s[i.camelCase(r)]=u),a?(h=s[r],h==null&&(h=s[i.camelCase(r)])):h=s,h}},removeData:function(n,t,r){if(i.acceptData(n)){var e,o,h,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data,e)){for(i.isArray(t)||(t in e?t=[t]:(t=i.camelCase(t),t=t in e?[t]:t.split(" "))),o=0,h=t.length;o<h;o++)delete e[t[o]];if(!(r?pt:i.isEmptyObject)(e))return}(r||(delete u[f].data,pt(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}},_data:function(n,t,r){return i.data(n,t,r,!0)},acceptData:function(n){var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}}),i.fn.extend({data:function(n,r){var u,s,h,o,l,e=this[0],c=0,f=null;if(n===t){if(this.length&&(f=i.data(e),e.nodeType===1&&!i._data(e,"parsedAttrs"))){for(h=e.attributes,l=h.length;c<l;c++)o=h[c].name,o.indexOf("data-")||(o=i.camelCase(o.substring(5)),li(e,o,f[o]));i._data(e,"parsedAttrs",!0)}return f}return typeof n=="object"?this.each(function(){i.data(this,n)}):(u=n.split(".",2),u[1]=u[1]?"."+u[1]:"",s=u[1]+"!",i.access(this,function(r){if(r===t)return f=this.triggerHandler("getData"+s,[u[0]]),f===t&&e&&(f=i.data(e,n),f=li(e,n,f)),f===t&&u[1]?this.data(u[0]):f;u[1]=r,this.each(function(){var t=i(this);t.triggerHandler("setData"+s,u),i.data(this,n,r),t.triggerHandler("changeData"+s,u)})},null,r,arguments.length>1,null,!1))},removeData:function(n){return this.each(function(){i.removeData(this,n)})}}),i.extend({queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--),u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f)),!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i.removeData(n,t+"queue",!0),i.removeData(n,r,!0)})})}}),i.fn.extend({queue:function(n,r){var u=2;return(typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u)?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n),n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var s,ai,vi,yi=/[\t\r\n]/g,cf=/\r/g,lf=/^(?:button|input)$/i,af=/^(?:button|input|object|select|textarea)$/i,vf=/^a(?:rea|)$/i,pi=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,wi=i.support.getSetAttribute;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t,delete this[n]}catch(i){}})},addClass:function(n){var r,f,o,t,e,u,s;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(n&&typeof n=="string")for(r=n.split(h),f=0,o=this.length;f<o;f++)if(t=this[f],t.nodeType===1)if(t.className||r.length!==1){for(e=" "+t.className+" ",u=0,s=r.length;u<s;u++)e.indexOf(" "+r[u]+" ")<0&&(e+=r[u]+" ");t.className=i.trim(e)}else t.className=n;return this},removeClass:function(n){var e,r,u,f,s,o,c;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(n&&typeof n=="string"||n===t)for(e=(n||"").split(h),o=0,c=this.length;o<c;o++)if(u=this[o],u.nodeType===1&&u.className){for(r=(" "+u.className+" ").replace(yi," "),f=0,s=e.length;f<s;f++)while(r.indexOf(" "+e[f]+" ")>=0)r=r.replace(" "+e[f]+" "," ");u.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var r=typeof n,u=typeof t=="boolean";return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var f,s=0,o=i(this),e=t,c=n.split(h);f=c[s++];)e=u?e:!o.hasClass(f),o[e?"addClass":"removeClass"](f);else(r==="undefined"||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(yi," ").indexOf(i)>=0)return!0;return!1},val:function(n){var r,u,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f,o=i(this);this.nodeType===1&&(f=e?n.call(this,u,o.val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t)?u:(u=f.value,typeof u=="string"?u.replace(cf,""):u==null?"":u):void 0}}),i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,s=u?null:[],h=u?r+1:o.length,f=r<0?h:u?r:0;f<h;f++)if(t=o[f],(t.selected||f===r)&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attrFn:{},attr:function(n,r,u,f){var e,o,h,c=n.nodeType;if(n&&c!==3&&c!==8&&c!==2){if(f&&i.isFunction(i.fn[r]))return i(n)[r](u);if(typeof n.getAttribute=="undefined")return i.prop(n,r,u);if(h=c!==1||!i.isXMLDoc(n),h&&(r=r.toLowerCase(),o=i.attrHooks[r]||(pi.test(r)?ai:s)),u!==t){if(u===null){i.removeAttr(n,r);return}return o&&"set"in o&&h&&(e=o.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u)}return o&&"get"in o&&h&&(e=o.get(n,r))!==null?e:(e=n.getAttribute(r),e===null?t:e)}},removeAttr:function(n,t){var u,f,r,e,o=0;if(t&&n.nodeType===1)for(f=t.split(h);o<f.length;o++)r=f[o],r&&(u=i.propFix[r]||r,e=pi.test(r),e||i.attr(n,r,""),n.removeAttribute(wi?r:u),e&&u in n&&(n[u]=!1))},attrHooks:{type:{set:function(n,t){if(lf.test(n.nodeName)&&n.parentNode)i.error("type property can't be changed");else if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}},value:{get:function(n,t){return s&&i.nodeName(n,"button")?s.get(n,t):t in n?n.value:null},set:function(n,t,r){if(s&&i.nodeName(n,"button"))return s.set(n,t,r);n.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):af.test(n.nodeName)||vf.test(n.nodeName)&&n.href?0:t}}}}),ai={get:function(n,r){var u,f=i.prop(n,r);return f===!0||typeof f!="boolean"&&(u=n.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():t},set:function(n,t,r){var u;return t===!1?i.removeAttr(n,r):(u=i.propFix[r]||r,u in n&&(n[u]=!0),n.setAttribute(r,r.toLowerCase())),r}},wi||(vi={name:!0,id:!0,coords:!0},s=i.valHooks.button={get:function(n,i){var r;return r=n.getAttributeNode(i),r&&(vi[i]?r.value!=="":r.specified)?r.value:t},set:function(n,t,i){var u=n.getAttributeNode(i);return u||(u=r.createAttribute(i),n.setAttributeNode(u)),u.value=t+""}},i.each(["width","height"],function(n,t){i.attrHooks[t]=i.extend(i.attrHooks[t],{set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}})}),i.attrHooks.contenteditable={get:s.get,set:function(n,t,i){t===""&&(t="false"),s.set(n,t,i)}}),i.support.hrefNormalized||i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return i===null?t:i}})}),i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText.toLowerCase()||t},set:function(n,t){return n.style.cssText=t+""}}),i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),i.support.enctype||(i.propFix.enctype="encoding"),i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return n.getAttribute("value")===null?"on":n.value}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}})});var wt=/^(?:textarea|input|select)$/i,bi=/^([^\.]*|)(?:\.(.+)|)$/,yf=/(?:^|\s)hover(\.\S+|)\b/,pf=/^key/,wf=/^(?:mouse|contextmenu)|click/,ki=/^(?:focusinfocus|focusoutblur)$/,di=function(n){return i.event.special.hover?n:n.replace(yf,"mouseenter$1 mouseleave$1")};i.event={add:function(n,r,u,f,e){var a,s,v,y,p,o,b,l,w,c,h;if(n.nodeType!==3&&n.nodeType!==8&&r&&u&&(a=i._data(n))){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),v=a.events,v||(a.events=v={}),s=a.handle,s||(a.handle=s=function(n){return typeof i!="undefined"&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(s.elem,arguments):t},s.elem=n),r=i.trim(di(r)).split(" "),y=0;y<r.length;y++)p=bi.exec(r[y])||[],o=p[1],b=(p[2]||"").split(".").sort(),h=i.event.special[o]||{},o=(e?h.delegateType:h.bindType)||o,h=i.event.special[o]||{},l=i.extend({type:o,origType:p[1],data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},w),c=v[o],c||(c=v[o]=[],c.delegateCount=0,h.setup&&h.setup.call(n,f,b,s)!==!1||(n.addEventListener?n.addEventListener(o,s,!1):n.attachEvent&&n.attachEvent("on"+o,s))),h.add&&(h.add.call(n,l),l.handler.guid||(l.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,l):c.push(l),i.event.global[o]=!0;n=null}},global:{},remove:function(n,t,r,u,f){var l,p,e,w,h,b,a,v,c,o,s,y=i.hasData(n)&&i._data(n);if(y&&(v=y.events)){for(t=i.trim(di(t||"")).split(" "),l=0;l<t.length;l++){if(p=bi.exec(t[l])||[],e=w=p[1],h=p[2],!e){for(e in v)i.event.remove(n,e+t[l],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,o=v[e]||[],b=o.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a=0;a<o.length;a++)s=o[a],(f||w===s.origType)&&(!r||r.guid===s.guid)&&(!h||h.test(s.namespace))&&(!u||u===s.selector||u==="**"&&s.selector)&&(o.splice(a--,1),s.selector&&o.delegateCount--,c.remove&&c.remove.call(n,s));o.length===0&&b!==o.length&&(c.teardown&&c.teardown.call(n,h,y.handle)!==!1||i.removeEvent(n,e,y.handle),delete v[e])}i.isEmptyObject(v)&&(delete y.handle,i.removeData(n,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(u,f,e,o){if(!e||e.nodeType!==3&&e.nodeType!==8){var w,d,c,h,l,v,a,y,p,k,s=u.type||u,b=[];if(!ki.test(s+i.event.triggered)&&(s.indexOf("!")>=0&&(s=s.slice(0,-1),d=!0),s.indexOf(".")>=0&&(b=s.split("."),s=b.shift(),b.sort()),e&&!i.event.customEvent[s]||i.event.global[s])){if(u=typeof u=="object"?u[i.expando]?u:new i.Event(s,u):new i.Event(s),u.type=s,u.isTrigger=!0,u.exclusive=d,u.namespace=b.join("."),u.namespace_re=u.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v=s.indexOf(":")<0?"on"+s:"",!e){w=i.cache;for(c in w)w[c].events&&w[c].events[s]&&i.event.trigger(u,f,w[c].handle.elem,!0);return}if(u.result=t,u.target||(u.target=e),f=f!=null?i.makeArray(f):[],f.unshift(u),a=i.event.special[s]||{},!a.trigger||a.trigger.apply(e,f)!==!1){if(p=[[e,a.bindType||s]],!o&&!a.noBubble&&!i.isWindow(e)){for(k=a.delegateType||s,h=ki.test(k+s)?e:e.parentNode,l=e;h;h=h.parentNode)p.push([h,k]),l=h;l===(e.ownerDocument||r)&&p.push([l.defaultView||l.parentWindow||n,k])}for(c=0;c<p.length&&!u.isPropagationStopped();c++)h=p[c][0],u.type=p[c][1],y=(i._data(h,"events")||{})[u.type]&&i._data(h,"handle"),y&&y.apply(h,f),y=v&&h[v],y&&i.acceptData(h)&&y.apply&&y.apply(h,f)===!1&&u.preventDefault();return u.type=s,o||u.isDefaultPrevented()||a._default&&a._default.apply(e.ownerDocument,f)!==!1||s==="click"&&i.nodeName(e,"a")||!i.acceptData(e)||v&&e[s]&&(s!=="focus"&&s!=="blur"||u.target.offsetWidth!==0)&&!i.isWindow(e)&&(l=e[v],l&&(e[v]=null),i.event.triggered=s,e[s](),i.event.triggered=t,l&&(e[v]=l)),u.result}}}},dispatch:function(r){r=i.event.fix(r||n.event);var f,c,e,l,a,h,v,u,s,g,y=(i._data(this,"events")||{})[r.type]||[],p=y.delegateCount,k=o.call(arguments),d=!r.exclusive&&!r.namespace,w=i.event.special[r.type]||{},b=[];if(k[0]=r,r.delegateTarget=this,!w.preDispatch||w.preDispatch.call(this,r)!==!1){if(p&&!(r.button&&r.type==="click"))for(e=r.target;e!=this;e=e.parentNode||this)if(e.disabled!==!0||r.type!=="click"){for(a={},v=[],f=0;f<p;f++)u=y[f],s=u.selector,a[s]===t&&(a[s]=u.needsContext?i(s,this).index(e)>=0:i.find(s,this,null,[e]).length),a[s]&&v.push(u);v.length&&b.push({elem:e,matches:v})}for(y.length>p&&b.push({elem:this,matches:y.slice(p)}),f=0;f<b.length&&!r.isPropagationStopped();f++)for(h=b[f],r.currentTarget=h.elem,c=0;c<h.matches.length&&!r.isImmediatePropagationStopped();c++)u=h.matches[c],(d||!r.namespace&&!u.namespace||r.namespace_re&&r.namespace_re.test(u.namespace))&&(r.data=u.data,r.handleObj=u,l=((i.event.special[u.origType]||{}).handle||u.handler).apply(h.elem,k),l!==t&&(r.result=l,l===!1&&(r.preventDefault(),r.stopPropagation())));return w.postDispatch&&w.postDispatch.call(this,r),r.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,u,f,e=i.button,s=i.fromElement;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||r,u=o.documentElement,f=o.body,n.pageX=i.clientX+(u&&u.scrollLeft||f&&f.scrollLeft||0)-(u&&u.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(u&&u.scrollTop||f&&f.scrollTop||0)-(u&&u.clientTop||f&&f.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=e&1?1:e&2?3:e&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,t=n,u=i.event.fixHooks[n.type]||{},o=u.props?this.props.concat(u.props):this.props;for(n=i.Event(t),f=o.length;f;)e=o[--f],n[e]=t[e];return n.target||(n.target=t.srcElement||r),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,u.filter?u.filter(n,t):n},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(n,t,r){i.isWindow(this)&&(this.onbeforeunload=r)},teardown:function(n,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f),f.isDefaultPrevented()&&r.preventDefault()}},i.event.handle=i.event.dispatch,i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]=="undefined"&&(n[r]=null),n.detachEvent(r,i))},i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?it:v):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0},i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=it;var n=this.originalEvent;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=it;var n=this.originalEvent;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()},isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v},i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var f,e=this,r=n.relatedTarget,u=n.handleObj,o=u.selector;return r&&(r===e||i.contains(e,r))||(n.type=u.origType,f=u.handler.apply(this,arguments),n.type=t),f}}}),i.support.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"_submit_attached")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"_submit_attached",!0))})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}}),i.support.changeBubbles||(i.event.special.change={setup:function(){if(wt.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1),i.event.simulate("change",this,n,!0)})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;wt.test(t.nodeName)&&!i._data(t,"_change_attached")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"_change_attached",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!wt.test(this.nodeName)}}),i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){u++==0&&r.addEventListener(n,f,!0)},teardown:function(){--u==0&&r.removeEventListener(n,f,!0)}}}),i.fn.extend({on:function(n,r,u,f,e){var o,s;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=v;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=v),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},live:function(n,t,r){i(this.context).on(n,this.selector,t,r);return this},die:function(n,t){return i(this.context).off(n,this.selector||"**",t),this},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){if(this[0])return i.event.trigger(n,t,this[0],!0)},toggle:function(n){var t=arguments,u=n.guid||i.guid++,r=0,f=function(u){var f=(i._data(this,"lastToggle"+n.guid)||0)%r;return i._data(this,"lastToggle"+n.guid,f+1),u.preventDefault(),t[f].apply(this,arguments)||!1};for(f.guid=u;r<t.length;)t[r++].guid=u;return this.click(f)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return i==null&&(i=n,n=null),arguments.length>0?this.on(t,null,n,i):this.trigger(t)},pf.test(t)&&(i.event.fixHooks[t]=i.event.keyHooks),wf.test(t)&&(i.event.fixHooks[t]=i.event.mouseHooks)});
/*!
     * Sizzle CSS Selector Engine
     * Copyright 2012 jQuery Foundation and other contributors
     * Released under the MIT license
     * http://sizzlejs.com/
     */
(function(n,t){function r(n,t,i,r){i=i||[],t=t||h;var e,u,o,f,s=t.nodeType;if(!n||typeof n!="string")return i;if(s!==1&&s!==9)return[];if(o=g(t),!o&&!r&&(e=bi.exec(n)))if(f=e[1]){if(s===9)if(u=t.getElementById(f),u&&u.parentNode){if(u.id===f)return i.push(u),i}else return i;else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&gt(t,u)&&u.id===f)return i.push(u),i}else{if(e[2])return p.apply(i,w.call(t.getElementsByTagName(n),0)),i;if((f=e[3])&&oi&&t.getElementsByClassName)return p.apply(i,w.call(t.getElementsByClassName(f),0)),i}return dt(n.replace(it,"$1"),t,i,r,o)}function k(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function si(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function y(n){return s(function(t){return t=+t,s(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ut(n,t,i){if(n===t)return i;for(var r=n.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function ft(n,t){var o,f,h,s,i,c,l,a=ri[e][n+" "];if(a)return t?0:a.slice(0);for(i=n,c=[],l=u.preFilter;i;){(!o||(f=yi.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),c.push(h=[])),o=!1,(f=pi.exec(i))&&(h.push(o=new ti(f.shift())),i=i.slice(o.length),o.type=f[0].replace(it," "));for(s in u.filter)(f=rt[s].exec(i))&&(!l[s]||(f=l[s](f)))&&(h.push(o=new ti(f.shift())),i=i.slice(o.length),o.type=s,o.matches=f);if(!o)break}return t?i.length:i?r.error(n):ri(n,c).slice(0)}function pt(n,t,i){var r=t.dir,u=i&&t.dir==="parentNode",f=ci++;return t.first?function(t,i,f){while(t=t[r])if(u||t.nodeType===1)return n(t,i,f)}:function(t,i,o){if(o){while(t=t[r])if((u||t.nodeType===1)&&n(t,i,o))return t}else for(var s,h=tt+" "+f+" ",c=h+ot;t=t[r];)if(u||t.nodeType===1){if((s=t[e])===c)return t.sizset;if(typeof s=="string"&&s.indexOf(h)===0){if(t.sizset)return t}else{if(t[e]=c,n(t,i,o))return t.sizset=!0,t;t.sizset=!1}}}}function wt(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function et(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function bt(n,t,i,r,u,f){return r&&!r[e]&&(r=bt(r)),u&&!u[e]&&(u=bt(u,f)),s(function(f,e,o,s){var l,c,a,w=[],y=[],b=e.length,k=f||ur(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?et(k,w,n,o,s):k,h=i?u||(f?n:b||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=et(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?lt.call(f,a):w[c])>-1&&(f[l]=!(e[l]=a))}}else h=et(h===e?h.splice(b,h.length):h),u?u(null,e,h,s):p.apply(e,h)})}function kt(n){for(var s,r,i,o=n.length,h=u.relative[n[0].type],c=h||u.relative[" "],t=h?1:0,l=pt(function(n){return n===s},c,!0),a=pt(function(n){return lt.call(s,n)>-1},c,!0),f=[function(n,t,i){return!h&&(i||t!==nt)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];t<o;t++)if(r=u.relative[n[t].type])f=[pt(wt(f),r)];else{if(r=u.filter[n[t].type].apply(null,n[t].matches),r[e]){for(i=++t;i<o;i++)if(u.relative[n[i].type])break;return bt(t>1&&wt(f),t>1&&n.slice(0,t-1).join("").replace(it,"$1"),r,t<i&&kt(n.slice(t,i)),i<o&&kt(n=n.slice(i)),i<o&&n.join(""))}f.push(r)}return wt(f)}function rr(n,t){var f=t.length>0,e=n.length>0,i=function(o,s,c,l,a){var y,b,k,w=[],d=0,v="0",g=o&&[],it=a!=null,rt=nt,ft=o||e&&u.find.TAG("*",a&&s.parentNode||s),ut=tt+=rt==null?1:Math.E;for(it&&(nt=s!==h&&s,ot=i.el);(y=ft[v])!=null;v++){if(e&&y){for(b=0;k=n[b];b++)if(k(y,s,c)){l.push(y);break}it&&(tt=ut,ot=++i.el)}f&&((y=!k&&y)&&d--,o&&g.push(y))}if(d+=v,f&&v!==d){for(b=0;k=t[b];b++)k(g,w,s,c);if(o){if(d>0)while(v--)g[v]||w[v]||(w[v]=li.call(l));w=et(w)}p.apply(l,w),it&&!o&&w.length>0&&d+t.length>1&&r.uniqueSort(l)}return it&&(tt=ut,nt=rt),g};return i.el=0,f?s(i):i}function ur(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function dt(n,t,i,r,f){var o,e,s,c,l,h=ft(n),a=h.length;if(!r&&h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(s=e[0]).type==="ID"&&t.nodeType===9&&!f&&u.relative[e[1].type]){if(t=u.find.ID(s.matches[0].replace(v,""),t,f)[0],!t)return i;n=n.slice(e.shift().length)}for(o=rt.POS.test(n)?-1:e.length-1;o>=0;o--){if(s=e[o],u.relative[c=s.type])break;if((l=u.find[c])&&(r=l(s.matches[0].replace(v,""),yt.test(e[0].type)&&t.parentNode||t,f))){if(e.splice(o,1),n=r.length&&e.join(""),!n)return p.apply(i,w.call(r,0)),i;break}}}return ht(n,h)(r,t,f,i,yt.test(n)),i}function hi(){}var ot,st,u,d,g,gt,ht,ct,b,nt,ni=!0,c="undefined",e=("sizcache"+Math.random()).replace(".",""),ti=String,h=n.document,o=h.documentElement,tt=0,ci=0,li=[].pop,p=[].push,w=[].slice,lt=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},s=function(n,t){return n[e]=t==null||t,n},at=function(){var n={},t=[];return s(function(i,r){return t.push(i)>u.cacheLength&&delete n[t.shift()],n[i+" "]=r},n)},ii=at(),ri=at(),ui=at(),f="[\\x20\\t\\r\\n\\f]",a="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",ai=a.replace("w","w#"),vi="([*^$|!~]?=)",fi="\\["+f+"*("+a+")"+f+"*(?:"+vi+f+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ai+")|)|)"+f+"*\\]",vt=":("+a+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+fi+")|[^:]|\\\\.)*|.*))\\)|)",ei=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+f+"*((?:-\\d)?\\d*)"+f+"*\\)|)(?=[^-]|$)",it=new RegExp("^"+f+"+|((?:^|[^\\\\])(?:\\\\.)*)"+f+"+$","g"),yi=new RegExp("^"+f+"*,"+f+"*"),pi=new RegExp("^"+f+"*([\\x20\\t\\r\\n\\f>+~])"+f+"*"),wi=new RegExp(vt),bi=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,fr=/^:not/,yt=/[\x20\t\r\n\f]*[+~]/,er=/:not\($/,ki=/h\d/i,di=/input|select|textarea|button/i,v=/\\(?!\\)/g,rt={ID:new RegExp("^#("+a+")"),CLASS:new RegExp("^\\.("+a+")"),NAME:new RegExp("^\\[name=['\"]?("+a+")['\"]?\\]"),TAG:new RegExp("^("+a.replace("w","w*")+")"),ATTR:new RegExp("^"+fi),PSEUDO:new RegExp("^"+vt),POS:new RegExp(ei,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+f+"*(even|odd|(([+-]|)(\\d*)n|)"+f+"*(?:([+-]|)"+f+"*(\\d+)|))"+f+"*\\)|)","i"),needsContext:new RegExp("^"+f+"*[>+~]|"+ei,"i")},l=function(n){var t=h.createElement("div");try{return n(t)}catch(i){return!1}finally{t=null}},gi=l(function(n){return n.appendChild(h.createComment("")),!n.getElementsByTagName("*").length}),nr=l(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!==c&&n.firstChild.getAttribute("href")==="#"}),tr=l(function(n){n.innerHTML="<select><\/select>";var t=typeof n.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),oi=l(function(n){return(n.innerHTML="<div class='hidden e'><\/div><div class='hidden'><\/div>",!n.getElementsByClassName||!n.getElementsByClassName("e").length)?!1:(n.lastChild.className="e",n.getElementsByClassName("e").length===2)}),ir=l(function(n){n.id=e+0,n.innerHTML="<a name='"+e+"'><\/a><div name='"+e+"'><\/div>",o.insertBefore(n,o.firstChild);var t=h.getElementsByName&&h.getElementsByName(e).length===2+h.getElementsByName(e+0).length;return st=!h.getElementById(e),o.removeChild(n),t});try{w.call(o.childNodes,0)[0].nodeType}catch(or){w=function(n){for(var t,i=[];t=this[n];n++)i.push(t);return i}}r.matches=function(n,t){return r(n,null,null,t)},r.matchesSelector=function(n,t){return r(t,null,null,[n]).length>0},d=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=d(n)}else if(t===3||t===4)return n.nodeValue}else for(;r=n[u];u++)i+=d(r);return i},g=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1},gt=r.contains=o.contains?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&r.contains&&r.contains(i))}:o.compareDocumentPosition?function(n,t){return t&&!!(n.compareDocumentPosition(t)&16)}:function(n,t){while(t=t.parentNode)if(t===n)return!0;return!1},r.attr=function(n,t){var i,r=g(n);return(r||(t=t.toLowerCase()),i=u.attrHandle[t])?i(n):r||tr?n.getAttribute(t):(i=n.getAttributeNode(t),i?typeof n[t]=="boolean"?n[t]?t:null:i.specified?i.value:null:null)},u=r.selectors={cacheLength:50,createPseudo:s,match:rt,attrHandle:nr?{}:{href:function(n){return n.getAttribute("href",2)},type:function(n){return n.getAttribute("type")}},find:{ID:st?function(n,t,i){if(typeof t.getElementById!==c&&!i){var r=t.getElementById(n);return r&&r.parentNode?[r]:[]}}:function(n,i,r){if(typeof i.getElementById!==c&&!r){var u=i.getElementById(n);return u?u.id===n||typeof u.getAttributeNode!==c&&u.getAttributeNode("id").value===n?[u]:t:[]}},TAG:gi?function(n,t){if(typeof t.getElementsByTagName!==c)return t.getElementsByTagName(n)}:function(n,t){var f=t.getElementsByTagName(n),i,r,u;if(n==="*"){for(r=[],u=0;i=f[u];u++)i.nodeType===1&&r.push(i);return r}return f},NAME:ir&&function(n,t){if(typeof t.getElementsByName!==c)return t.getElementsByName(name)},CLASS:oi&&function(n,t,i){if(typeof t.getElementsByClassName!==c&&!i)return t.getElementsByClassName(n)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(v,""),n[3]=(n[4]||n[5]||"").replace(v,""),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1]==="nth"?(n[2]||r.error(n[0]),n[3]=+(n[3]?n[4]+(n[5]||1):2*(n[2]==="even"||n[2]==="odd")),n[4]=+(n[6]+n[7]||n[2]==="odd")):n[2]&&r.error(n[0]),n},PSEUDO:function(n){var t,i;return rt.CHILD.test(n[0])?null:(n[3]?n[2]=n[3]:(t=n[4])&&(wi.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),n[0]=n[0].slice(0,i)),n[2]=t),n.slice(0,3))}},filter:{ID:st?function(n){return n=n.replace(v,""),function(t){return t.getAttribute("id")===n}}:function(n){return n=n.replace(v,""),function(t){var i=typeof t.getAttributeNode!==c&&t.getAttributeNode("id");return i&&i.value===n}},TAG:function(n){return n==="*"?function(){return!0}:(n=n.replace(v,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===n})},CLASS:function(n){var t=ii[e][n+" "];return t||(t=new RegExp("(^|"+f+")"+n+"("+f+"|$)"))&&ii(n,function(n){return t.test(n.className||typeof n.getAttribute!==c&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var e=r.attr(u,n);return e==null?t==="!=":t?(e+="",t==="="?e===i:t==="!="?e!==i:t==="^="?i&&e.indexOf(i)===0:t==="*="?i&&e.indexOf(i)>-1:t==="$="?i&&e.substr(e.length-i.length)===i:t==="~="?(" "+e+" ").indexOf(i)>-1:t==="|="?e===i||e.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r){return n==="nth"?function(n){var t,u,f=n.parentNode;if(i===1&&r===0)return!0;if(f)for(u=0,t=f.firstChild;t;t=t.nextSibling)if(t.nodeType===1&&(u++,n===t))break;return u-=r,u===i||u%i==0&&u/i>=0}:function(t){var i=t;switch(n){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(n==="first")return!0;i=t;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0}}},PSEUDO:function(n,t){var f,i=u.pseudos[n]||u.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return i[e]?i(t):i.length>1?(f=[n,n,"",t],u.setFilters.hasOwnProperty(n.toLowerCase())?s(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=lt.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,f)}):i}},pseudos:{not:s(function(n){var i=[],r=[],t=ht(n.replace(it,"$1"));return t[e]?s(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:s(function(n){return function(t){return r(n,t).length>0}}),contains:s(function(n){return function(t){return(t.textContent||t.innerText||d(t)).indexOf(n)>-1}}),enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!u.pseudos.empty(n)},empty:function(n){var t;for(n=n.firstChild;n;){if(n.nodeName>"@"||(t=n.nodeType)===3||t===4)return!1;n=n.nextSibling}return!0},header:function(n){return ki.test(n.nodeName)},text:function(n){var t,i;return n.nodeName.toLowerCase()==="input"&&(t=n.type)==="text"&&((i=n.getAttribute("type"))==null||i.toLowerCase()===t)},radio:k("radio"),checkbox:k("checkbox"),file:k("file"),password:k("password"),image:k("image"),submit:si("submit"),reset:si("reset"),button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},input:function(n){return di.test(n.nodeName)},focus:function(n){var t=n.ownerDocument;return n===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},active:function(n){return n===n.ownerDocument.activeElement},first:y(function(){return[0]}),last:y(function(n,t){return[t-1]}),eq:y(function(n,t,i){return[i<0?i+t:i]}),even:y(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:y(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:y(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:y(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}},ct=o.compareDocumentPosition?function(n,t){return n===t?(b=!0,0):(!n.compareDocumentPosition||!t.compareDocumentPosition?n.compareDocumentPosition:n.compareDocumentPosition(t)&4)?-1:1}:function(n,t){var i;if(n===t)return b=!0,0;if(n.sourceIndex&&t.sourceIndex)return n.sourceIndex-t.sourceIndex;var e,h,u=[],f=[],o=n.parentNode,s=t.parentNode,r=o;if(o===s)return ut(n,t);if(o){if(!s)return 1}else return-1;while(r)u.unshift(r),r=r.parentNode;for(r=s;r;)f.unshift(r),r=r.parentNode;for(e=u.length,h=f.length,i=0;i<e&&i<h;i++)if(u[i]!==f[i])return ut(u[i],f[i]);return i===e?ut(n,f[i],-1):ut(u[i],t,1)},[0,0].sort(ct),ni=!b,r.uniqueSort=function(n){var r,u=[],t=1,i=0;if(b=ni,n.sort(ct),b){for(;r=n[t];t++)r===n[t-1]&&(i=u.push(t));while(i--)n.splice(u[i],1)}return n},r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);},ht=r.compile=function(n,t){var r,u=[],f=[],i=ui[e][n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=kt(t[r]),i[e]?u.push(i):f.push(i);i=ui(n,rr(f,u))}return i},h.querySelectorAll&&function(){var u,s=dt,h=/'|\\/g,c=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,n=[":focus"],t=[":active"],i=o.matchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||o.oMatchesSelector||o.msMatchesSelector;l(function(t){t.innerHTML="<select><option selected=''><\/option><\/select>",t.querySelectorAll("[selected]").length||n.push("\\["+f+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||n.push(":checked")}),l(function(t){t.innerHTML="<p test=''><\/p>",t.querySelectorAll("[test^='']").length&&n.push("[*^$]="+f+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||n.push(":enabled",":disabled")}),n=new RegExp(n.join("|")),dt=function(t,i,r,u,f){if(!u&&!f&&!n.test(t)){var o,l,a=!0,c=e,y=i,v=i.nodeType===9&&t;if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){for(o=ft(t),(a=i.getAttribute("id"))?c=a.replace(h,"\\$&"):i.setAttribute("id",c),c="[id='"+c+"'] ",l=o.length;l--;)o[l]=c+o[l].join("");y=yt.test(t)&&i.parentNode||i,v=o.join(",")}if(v)try{return p.apply(r,w.call(y.querySelectorAll(v),0)),r}catch(b){}finally{a||i.removeAttribute("id")}}return s(t,i,r,u,f)},i&&(l(function(n){u=i.call(n,"div");try{i.call(n,"[test!='']:sizzle"),t.push("!=",vt)}catch(r){}}),t=new RegExp(t.join("|")),r.matchesSelector=function(f,e){if(e=e.replace(c,"='$1']"),!g(f)&&!t.test(e)&&!n.test(e))try{var o=i.call(f,e);if(o||u||f.document&&f.document.nodeType!==11)return o}catch(s){}return r(e,null,null,[f]).length>0})}(),u.pseudos.nth=u.pseudos.eq,u.filters=hi.prototype=u.pseudos,u.setFilters=new hi,r.attr=i.attr,i.find=r,i.expr=r.selectors,i.expr[":"]=i.expr.pseudos,i.unique=r.uniqueSort,i.text=r.getText,i.isXMLDoc=r.isXML,i.contains=r.contains})(n);var bf=/Until$/,kf=/^(?:parents|prev(?:Until|All))/,df=/^.[^:#\[\.,]*$/,gi=i.expr.match.needsContext,gf={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,f,o,u,e,r,s=this;if(typeof n!="string")return i(n).filter(function(){for(t=0,f=s.length;t<f;t++)if(i.contains(s[t],this))return!0});for(r=this.pushStack("","find",n),t=0,f=this.length;t<f;t++)if(o=r.length,i.find(n,this[t],r),t>0)for(u=o;u<r.length;u++)for(e=0;e<o;e++)if(r[e]===r[u]){r.splice(u--,1);break}return r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;t<u;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(tr(this,n,!1),"not",n)},filter:function(n){return this.pushStack(tr(this,n,!0),"filter",n)},is:function(n){return!!n&&(typeof n=="string"?gi.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=gi.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r.ownerDocument&&r!==t&&r.nodeType!==11;){if(e?e.index(r)>-1:i.find.matchesSelector(r,n)){u.push(r);break}r=r.parentNode}return u=u.length>1?i.unique(u):u,this.pushStack(u,"closest",n)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(n,t){var u=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),r=i.merge(this.get(),u);return this.pushStack(k(u[0])||k(r[0])?r:i.unique(r))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}}),i.fn.andSelf=i.fn.addBack,i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return nr(n,"nextSibling")},prev:function(n){return nr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return bf.test(n)||(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),f=this.length>1&&!gf[n]?i.unique(f):f,this.length>1&&kf.test(n)&&(f=f.reverse()),this.pushStack(f,n,o.call(arguments).join(","))}}),i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),t.length===1?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&f.nodeType!==9&&(u===t||f.nodeType!==1||!i(f).is(u));)f.nodeType===1&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var rr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ne=/ jQuery\d+="(?:null|\d+)"/g,bt=/^\s+/,ur=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fr=/<([\w:]+)/,te=/<tbody/i,ie=/<|&#?\w+;/,re=/<(?:script|style|link)/i,ue=/<(?:script|object|embed|option|style)/i,kt=new RegExp("<(?:"+rr+")[\\s/>]","i"),er=/^(?:checkbox|radio)$/,or=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/\/(java|ecma)script/i,ee=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]},sr=ir(r),dt=sr.appendChild(r.createElement("div"));e.optgroup=e.option,e.tbody=e.tfoot=e.colgroup=e.caption=e.thead,e.th=e.td,i.support.htmlSerialize||(e._default=[1,"X<div>","<\/div>"]),i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11)&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(n,this.firstChild)})},before:function(){if(!k(this[0]))return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this)});if(arguments.length){var n=i.clean(arguments);return this.pushStack(i.merge(n,this),"before",this.selector)}},after:function(){if(!k(this[0]))return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this.nextSibling)});if(arguments.length){var n=i.clean(arguments);return this.pushStack(i.merge(this,n),"after",this.selector)}},remove:function(n,t){for(var r,u=0;(r=this[u])!=null;u++)(!n||i.filter(n,[r]).length)&&(t||r.nodeType!==1||(i.cleanData(r.getElementsByTagName("*")),i.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)for(n.nodeType===1&&i.cleanData(n.getElementsByTagName("*"));n.firstChild;)n.removeChild(n.firstChild);return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},u=0,f=this.length;if(n===t)return r.nodeType===1?r.innerHTML.replace(ne,""):t;if(typeof n=="string"&&!re.test(n)&&(i.support.htmlSerialize||!kt.test(n))&&(i.support.leadingWhitespace||!bt.test(n))&&!e[(fr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(ur,"<$1><\/$2>");try{for(;u<f;u++)r=this[u]||{},r.nodeType===1&&(i.cleanData(r.getElementsByTagName("*")),r.innerHTML=n);r=0}catch(o){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){return k(this[0])?this.length?this.pushStack(i(i.isFunction(n)?n():n),"replaceWith",n):this:i.isFunction(n)?this.each(function(t){var r=i(this),u=r.html();r.replaceWith(n.call(this,t,u))}):(typeof n!="string"&&(n=i(n).detach()),this.each(function(){var t=this.nextSibling,r=this.parentNode;i(this).remove(),t?i(t).before(n):i(r).append(n)}))},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,u){n=[].concat.apply([],n);var h,o,f,a,e=0,s=n[0],c=[],l=this.length;if(!i.support.checkClone&&l>1&&typeof s=="string"&&or.test(s))return this.each(function(){i(this).domManip(n,r,u)});if(i.isFunction(s))return this.each(function(f){var e=i(this);n[0]=s.call(this,f,r?e.html():t),e.domManip(n,r,u)});if(this[0]){if(h=i.buildFragment(n,this,c),f=h.fragment,o=f.firstChild,f.childNodes.length===1&&(f=o),o)for(r=r&&i.nodeName(o,"tr"),a=h.cacheable||l-1;e<l;e++)u.call(r&&i.nodeName(this[e],"table")?oe(this[e],"tbody"):this[e],e===a?f:i.clone(f,!0,!0));f=o=null,c.length&&i.each(c,function(n,t){t.src?i.ajax?i.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):i.error("no ajax"):i.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ee,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),i.buildFragment=function(n,u,f){var o,s,h,e=n[0];return u=u||r,u=!u.nodeType&&u[0]||u,u=u.ownerDocument||u,n.length===1&&typeof e=="string"&&e.length<512&&u===r&&e.charAt(0)==="<"&&!ue.test(e)&&(i.support.checkClone||!or.test(e))&&(i.support.html5Clone||!kt.test(e))&&(s=!0,o=i.fragments[e],h=o!==t),o||(o=u.createDocumentFragment(),i.clean(n,u,o,f),s&&(i.fragments[e]=h&&o)),{fragment:o,cacheable:s}},i.fragments={},i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(r){var o,u=0,s=[],f=i(r),h=f.length,e=this.length===1&&this[0].parentNode;if((e==null||e&&e.nodeType===11&&e.childNodes.length===1)&&h===1)return f[t](this[0]),this;for(;u<h;u++)o=(u>0?this.clone(!0):this).get(),i(f[u])[t](o),s=s.concat(o);return this.pushStack(s,n,f.selector)}}),i.extend({clone:function(n,t,r){var f,o,u,e;if(i.support.html5Clone||i.isXMLDoc(n)||!kt.test("<"+n.nodeName+">")?e=n.cloneNode(!0):(dt.innerHTML=n.outerHTML,dt.removeChild(e=dt.firstChild)),(!i.support.noCloneEvent||!i.support.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(cr(n,e),f=rt(n),o=rt(e),u=0;f[u];++u)o[u]&&cr(f[u],o[u]);if(t&&(hr(n,e),r))for(f=rt(n),o=rt(e),u=0;f[u];++u)hr(f[u],o[u]);return f=o=null,e},clean:function(n,t,u,f){var h,c,o,p,v,d,s,w,a,g,b,k,y=t===r&&sr,l=[];for(t&&typeof t.createDocumentFragment!="undefined"||(t=r),h=0;(o=n[h])!=null;h++)if(typeof o=="number"&&(o+=""),o){if(typeof o=="string")if(ie.test(o)){for(y=y||ir(t),s=t.createElement("div"),y.appendChild(s),o=o.replace(ur,"<$1><\/$2>"),p=(fr.exec(o)||["",""])[1].toLowerCase(),v=e[p]||e._default,d=v[0],s.innerHTML=v[1]+o+v[2];d--;)s=s.lastChild;if(!i.support.tbody)for(w=te.test(o),a=p==="table"&&!w?s.firstChild&&s.firstChild.childNodes:v[1]==="<table>"&&!w?s.childNodes:[],c=a.length-1;c>=0;--c)i.nodeName(a[c],"tbody")&&!a[c].childNodes.length&&a[c].parentNode.removeChild(a[c]);!i.support.leadingWhitespace&&bt.test(o)&&s.insertBefore(t.createTextNode(bt.exec(o)[0]),s.firstChild),o=s.childNodes,s.parentNode.removeChild(s)}else o=t.createTextNode(o);o.nodeType?l.push(o):i.merge(l,o)}if(s&&(o=s=y=null),!i.support.appendChecked)for(h=0;(o=l[h])!=null;h++)i.nodeName(o,"input")?lr(o):typeof o.getElementsByTagName!="undefined"&&i.grep(o.getElementsByTagName("input"),lr);if(u)for(b=function(n){if(!n.type||fe.test(n.type))return f?f.push(n.parentNode?n.parentNode.removeChild(n):n):u.appendChild(n)},h=0;(o=l[h])!=null;h++)i.nodeName(o,"script")&&b(o)||(u.appendChild(o),typeof o.getElementsByTagName!="undefined"&&(k=i.grep(i.merge([],o.getElementsByTagName("script")),b),l.splice.apply(l,[h+1,0].concat(k)),h+=k.length));return l},cleanData:function(n,t){for(var f,u,r,e,h=0,o=i.expando,s=i.cache,c=i.support.deleteExpando,l=i.event.special;(r=n[h])!=null;h++)if((t||i.acceptData(r))&&(u=r[o],f=u&&s[u],f)){if(f.events)for(e in f.events)l[e]?i.event.remove(r,e):i.removeEvent(r,e,f.handle);s[u]&&(delete s[u],c?delete r[o]:r.removeAttribute?r.removeAttribute(o):r[o]=null,i.deletedIds.push(u))}}}),function(){var t,n;i.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},t=i.uaMatch(pu.userAgent),n={},t.browser&&(n[t.browser]=!0,n.version=t.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0),i.browser=n,i.sub=function(){function n(t,i){return new n.fn.init(t,i)}i.extend(!0,n,this),n.superclass=this,n.fn=n.prototype=this(),n.fn.constructor=n,n.sub=this.sub,n.fn.init=function(r,u){return u&&u instanceof i&&!(u instanceof n)&&(u=n(u)),i.fn.init.call(this,r,u,t)},n.fn.init.prototype=n.fn;var t=n(r);return n}}();var u,y,p,gt=/alpha\([^)]*\)/i,se=/opacity=([^)]*)/,he=/^(top|right|bottom|left)$/,ce=/^(none|table(?!-c[ea]).+)/,ar=/^margin/,le=new RegExp("^("+nt+")(.*)$","i"),ut=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),ae=new RegExp("^([-+])=("+nt+")","i"),ni={BODY:"block"},ve={position:"absolute",visibility:"hidden",display:"block"},vr={letterSpacing:0,fontWeight:400},c=["Top","Right","Bottom","Left"],yr=["Webkit","O","Moz","ms"],ye=i.fn.toggle;i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return wr(this,!0)},hide:function(){return wr(this)},toggle:function(n,t){var r=typeof n=="boolean";return i.isFunction(n)&&i.isFunction(t)?ye.apply(this,arguments):this.each(function(){(r?n:ft(this))?i(this).show():i(this).hide()})}}),i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=u(n,"opacity");return i===""?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=pr(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u!==t){if(s=typeof u,s==="string"&&(o=ae.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),u==null||s==="number"&&isNaN(u))return;if(s!=="number"||i.cssNumber[h]||(u+="px"),!e||!("set"in e)||(u=e.set(n,u,f))!==t)try{c[r]=u}catch(l){}}else return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r]}},css:function(n,r,f,e){var o,c,s,h=i.camelCase(r);return(r=i.cssProps[h]||(i.cssProps[h]=pr(n.style,h)),s=i.cssHooks[r]||i.cssHooks[h],s&&"get"in s&&(o=s.get(n,!0,e)),o===t&&(o=u(n,r)),o==="normal"&&r in vr&&(o=vr[r]),f||e!==t)?(c=parseFloat(o),f||i.isNumeric(c)?c||0:o):o},swap:function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];u=i.call(n);for(r in t)n.style[r]=f[r];return u}}),n.getComputedStyle?u=function(t,r){var f,o,s,h,e=n.getComputedStyle(t,null),u=t.style;return e&&(f=e.getPropertyValue(r)||e[r],f!==""||i.contains(t.ownerDocument,t)||(f=i.style(t,r)),ut.test(f)&&ar.test(r)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=e.width,u.width=o,u.minWidth=s,u.maxWidth=h)),f}:r.documentElement.currentStyle&&(u=function(n,t){var f,u,i=n.currentStyle&&n.currentStyle[t],r=n.style;return i==null&&r&&r[t]&&(i=r[t]),ut.test(i)&&!he.test(t)&&(f=r.left,u=n.runtimeStyle&&n.runtimeStyle.left,u&&(n.runtimeStyle.left=n.currentStyle.left),r.left=t==="fontSize"?"1em":i,i=r.pixelLeft+"px",r.left=f,u&&(n.runtimeStyle.left=u)),i===""?"auto":i}),i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,f){if(r)return n.offsetWidth===0&&ce.test(u(n,"display"))?i.swap(n,ve,function(){return dr(n,t,f)}):dr(n,t,f)},set:function(n,r,u){return br(n,r,u?kr(n,t,u,i.support.boxSizing&&i.css(n,"boxSizing")==="border-box"):0)}}}),i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return se.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,t>=1&&i.trim(f.replace(gt,""))===""&&r.removeAttribute&&(r.removeAttribute("filter"),u&&!u.filter))||(r.filter=gt.test(f)?f.replace(gt,e):f+" "+e)}}),i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){return i.swap(n,{display:"inline-block"},function(){if(t)return u(n,"marginRight")})}}),!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,t){i.cssHooks[t]={get:function(n,r){if(r){var f=u(n,t);return ut.test(f)?i(n).position()[t]+"px":f}}}})}),i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return n.offsetWidth===0&&n.offsetHeight===0||!i.support.reliableHiddenOffsets&&(n.style&&n.style.display||u(n,"display"))==="none"},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)}),i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var u=typeof i=="string"?i.split(" "):[i],f={},r=0;r<4;r++)f[n+c[r]+t]=u[r]||u[r-2]||u[0];return f}},ar.test(n)||(i.cssHooks[n+t].set=br)});var pe=/%20/g,we=/\[\]$/,nu=/\r?\n/g,be=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ke=/^(?:select|textarea)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ke.test(this.nodeName)||be.test(this.type))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(nu,"\r\n")}}):{name:t.name,value:r.replace(nu,"\r\n")}}).get()}}),i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():t==null?"":t,f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ti(u,n[u],r,e);return f.join("&").replace(pe,"+")};var l,a,de=/#.*$/,ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,no=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,to=/^(?:GET|HEAD)$/,io=/^\/\//,tu=/\?/,ro=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,uo=/([?&])_=[^&]*/,iu=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ru=i.fn.load,ii={},uu={},fu=["*/"]+["*"];try{a=yu.href}catch(wo){a=r.createElement("a"),a.href="",a=a.href}l=iu.exec(a.toLowerCase())||[],i.fn.load=function(n,r,u){if(typeof n!="string"&&ru)return ru.apply(this,arguments);if(!this.length)return this;var f,o,s,h=this,e=n.indexOf(" ");return e>=0&&(f=n.slice(e,n.length),n=n.slice(0,e)),i.isFunction(r)?(u=r,r=t):r&&typeof r=="object"&&(o="POST"),i.ajax({url:n,type:o,dataType:"html",data:r,complete:function(n,t){u&&h.each(u,s||[n.responseText,t,n])}}).done(function(n){s=arguments,h.html(f?i("<div>").append(n.replace(ro,"")).find(f):n)}),this},i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({type:r,url:n,data:u,success:f,dataType:e})}}),i.extend({getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")},ajaxSetup:function(n,t){return t?ou(n,i.ajaxSettings):(t=n,n=i.ajaxSettings),ou(n,t),n},ajaxSettings:{url:a,isLocal:no.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":fu},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:eu(ii),ajaxTransport:eu(uu),ajax:function(n,r){function b(n,r,h,l){var a,tt,b,it,p,v=r;e!==2&&(e=2,d&&clearTimeout(d),c=t,k=l||"",f.readyState=n>0?4:0,h&&(it=fo(u,f,h)),n>=200&&n<300||n===304?(u.ifModified&&(p=f.getResponseHeader("Last-Modified"),p&&(i.lastModified[o]=p),p=f.getResponseHeader("Etag"),p&&(i.etag[o]=p)),n===304?(v="notmodified",a=!0):(a=eo(u,it),v=a.state,tt=a.data,b=a.error,a=!b)):(b=v,(!v||n)&&(v="error",n<0&&(n=0))),f.status=n,f.statusText=(r||v)+"",a?nt.resolveWith(s,[tt,v,f]):nt.rejectWith(s,[f,v,b]),f.statusCode(w),w=t,y&&g.trigger("ajax"+(a?"Success":"Error"),[f,u,a?tt:b]),rt.fireWith(s,[f,v]),y&&(g.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}var tt,it;typeof n=="object"&&(r=n,n=t),r=r||{};var o,k,p,c,d,a,y,v,u=i.ajaxSetup({},r),s=u.context||u,g=s!==u&&(s.nodeType||s instanceof i)?i(s):i.event,nt=i.Deferred(),rt=i.Callbacks("once memory"),w=u.statusCode||{},ut={},ft={},e=0,ot="canceled",f={readyState:0,setRequestHeader:function(n,t){if(!e){var i=n.toLowerCase();n=ft[i]=ft[i]||n,ut[n]=t}return this},getAllResponseHeaders:function(){return e===2?k:null},getResponseHeader:function(n){var i;if(e===2){if(!p)for(p={};i=ge.exec(k);)p[i[1].toLowerCase()]=i[2];i=p[n.toLowerCase()]}return i===t?null:i},overrideMimeType:function(n){return e||(u.mimeType=n),this},abort:function(n){return n=n||ot,c&&c.abort(n),b(0,n),this}};if(nt.promise(f),f.success=f.done,f.error=f.fail,f.complete=rt.add,f.statusCode=function(n){if(n){var t;if(e<2)for(t in n)w[t]=[w[t],n[t]];else t=n[f.status],f.always(t)}return this},u.url=((n||u.url)+"").replace(de,"").replace(io,l[1]+"//"),u.dataTypes=i.trim(u.dataType||"*").toLowerCase().split(h),u.crossDomain==null&&(a=iu.exec(u.url.toLowerCase()),u.crossDomain=!!(a&&(a[1]!==l[1]||a[2]!==l[2]||(a[3]||(a[1]==="http:"?80:443))!=(l[3]||(l[1]==="http:"?80:443))))),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),et(ii,u,r,f),e===2)return f;y=u.global,u.type=u.type.toUpperCase(),u.hasContent=!to.test(u.type),y&&i.active++==0&&i.event.trigger("ajaxStart"),u.hasContent||(u.data&&(u.url+=(tu.test(u.url)?"&":"?")+u.data,delete u.data),o=u.url,u.cache===!1&&(tt=i.now(),it=u.url.replace(uo,"$1_="+tt),u.url=it+(it===u.url?(tu.test(u.url)?"&":"?")+"_="+tt:""))),(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType),u.ifModified&&(o=o||u.url,i.lastModified[o]&&f.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&f.setRequestHeader("If-None-Match",i.etag[o])),f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+fu+"; q=0.01":""):u.accepts["*"]);for(v in u.headers)f.setRequestHeader(v,u.headers[v]);if(u.beforeSend&&(u.beforeSend.call(s,f,u)===!1||e===2))return f.abort();ot="abort";for(v in{success:1,error:1,complete:1})f[v](u[v]);if(c=et(uu,u,r,f),c){f.readyState=1,y&&g.trigger("ajaxSend",[f,u]),u.async&&u.timeout>0&&(d=setTimeout(function(){f.abort("timeout")},u.timeout));try{e=1,c.send(ut,b)}catch(st){if(e<2)b(-1,st);else throw st;}}else b(-1,"No Transport");return f},active:0,lastModified:{},etag:{}});var su=[],oo=/\?/,ot=/(=)\?(?=&|$)|\?\?/,so=i.now();i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=su.pop()||i.expando+"_"+so++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.data,c=r.url,l=r.jsonp!==!1,a=l&&ot.test(c),v=l&&!a&&typeof h=="string"&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&ot.test(h);if(r.dataTypes[0]==="jsonp"||a||v)return e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,s=n[e],a?r.url=c.replace(ot,"$1"+e):v?r.data=h.replace(ot,"$1"+e):l&&(r.url+=(oo.test(c)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",n[e]=function(){o=arguments},f.always(function(){n[e]=s,r[e]&&(r.jsonpCallback=u.jsonpCallback,su.push(e)),o&&i.isFunction(s)&&s(o[0]),o=s=t}),"script"}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1),n.crossDomain&&(n.type="GET",n.global=!1)}),i.ajaxTransport("script",function(n){if(n.crossDomain){var i,u=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(f,e){i=r.createElement("script"),i.async="async",n.scriptCharset&&(i.charset=n.scriptCharset),i.src=n.url,i.onload=i.onreadystatechange=function(n,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,u&&i.parentNode&&u.removeChild(i),i=t,r||e(200,"success"))},u.insertBefore(i,u.firstChild)},abort:function(){if(i)i.onload(0,1)}}}}),st=n.ActiveXObject?function(){for(var n in w)w[n](0,1)}:!1,hu=0,i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&cu()||ho()}:cu,function(n){i.extend(i.support,{ajax:!!n,cors:!!n&&"withCredentials"in n})}(i.ajaxSettings.xhr()),i.support.ajax&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null),u=function(n,f){var s,a,v,c,l;try{if(u&&(f||o.readyState===4))if(u=t,h&&(o.onreadystatechange=i.noop,st&&delete w[h]),f)o.readyState!==4&&o.abort();else{s=o.status,v=o.getAllResponseHeaders(),c={},l=o.responseXML,l&&l.documentElement&&(c.xml=l);try{c.text=o.responseText}catch(y){}try{a=o.statusText}catch(y){a=""}s||!r.isLocal||r.crossDomain?s===1223&&(s=204):s=c.text?200:404}}catch(p){f||e(-1,p)}c&&e(s,a,c,v)},r.async?o.readyState===4?setTimeout(u,0):(h=++hu,st&&(w||(w={},i(n).unload(st)),w[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(0,1)}}}});var b,ht,co=/^(?:toggle|show|hide)$/,lo=new RegExp("^(?:([-+])=|)("+nt+")([a-z%]*)$","i"),ao=/queueHooks$/,ct=[po],d={"*":[function(n,t){var o,s,r=this.createTween(n,t),e=lo.exec(t),h=r.cur(),u=+h||0,f=1,c=20;if(e){if(o=+e[2],s=e[3]||(i.cssNumber[n]?"":"px"),s!=="px"&&u){u=i.css(r.elem,n,!0)||o||1;do f=f||".5",u=u/f,i.style(r.elem,n,u+s);while(f!==(f=r.cur()/h)&&f!==1&&--c)}r.unit=s,r.start=u,r.end=e[1]?u+(e[1]+1)*o:o}return r}]};i.Animation=i.extend(au,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],d[r]=d[r]||[],d[r].unshift(t)},prefilter:function(n,t){t?ct.unshift(n):ct.push(n)}}),i.Tween=f,f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n,this.prop=r,this.easing=f||"swing",this.options=t,this.start=this.now=this.cur(),this.end=u,this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var t,r=f.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):f.propHooks._default.set(this),this}},f.prototype.init.prototype=f.prototype,f.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,!1,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}},f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(u,f,e){return u==null||typeof u=="boolean"||!n&&i.isFunction(u)&&i.isFunction(f)?r.apply(this,arguments):this.animate(lt(t,!0),u,f,e)}}),i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ft).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var e=i.isEmptyObject(n),f=i.speed(t,r,u),o=function(){var t=au(this,i.extend({},n),f);e&&t.stop(!0)};return e||f.queue===!1?this.each(o):this.queue(f.queue,o)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop,t(u)};return typeof n!="string"&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=n!=null&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&ao.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem===this&&(n==null||e[t].queue===n)&&(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})}}),i.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}}),i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this),u.queue&&i.dequeue(this,u.queue)},u},i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}},i.timers=[],i.fx=f.prototype.init,i.fx.tick=function(){var u,n=i.timers,r=0;for(b=i.now();r<n.length;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop(),b=t},i.fx.timer=function(n){n()&&i.timers.push(n)&&!ht&&(ht=setInterval(i.fx.tick,i.fx.interval))},i.fx.interval=13,i.fx.stop=function(){clearInterval(ht),ht=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fx.step={},i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length}),ri=/^(?:body|html)$/i,i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var u,o,s,h,c,l,a,f={top:0,left:0},r=this[0],e=r&&r.ownerDocument;if(e)return(o=e.body)===r?i.offset.bodyOffset(r):(u=e.documentElement,!i.contains(u,r))?f:(typeof r.getBoundingClientRect!="undefined"&&(f=r.getBoundingClientRect()),s=vu(e),h=u.clientTop||o.clientTop||0,c=u.clientLeft||o.clientLeft||0,l=s.pageYOffset||u.scrollTop,a=s.pageXOffset||u.scrollLeft,{top:f.top+l-h,left:f.left+a-c})},i.offset={bodyOffset:function(n){var t=n.offsetTop,r=n.offsetLeft;return i.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(i.css(n,"marginTop"))||0,r+=parseFloat(i.css(n,"marginLeft"))||0),{top:t,left:r}},setOffset:function(n,t,r){var f=i.css(n,"position");f==="static"&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=(f==="absolute"||f==="fixed")&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0),i.isFunction(t)&&(t=t.call(n,r,o)),t.top!=null&&(u.top=t.top-o.top+h),t.left!=null&&(u.left=t.left-o.left+c),"using"in t?t.using.call(n,u):e.css(u)}},i.fn.extend({position:function(){if(this[0]){var u=this[0],n=this.offsetParent(),t=this.offset(),r=ri.test(n[0].nodeName)?{top:0,left:0}:n.offset();return t.top-=parseFloat(i.css(u,"marginTop"))||0,t.left-=parseFloat(i.css(u,"marginLeft"))||0,r.top+=parseFloat(i.css(n[0],"borderTopWidth"))||0,r.left+=parseFloat(i.css(n[0],"borderLeftWidth"))||0,{top:t.top-r.top,left:t.left-r.left}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.body;n&&!ri.test(n.nodeName)&&i.css(n,"position")==="static";)n=n.offsetParent;return n||r.body})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=vu(n);if(e===t)return o?r in o?o[r]:o.document.documentElement[f]:n[f];o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e},n,f,arguments.length,null)}}),i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||typeof f!="boolean"),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:r.nodeType===9?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,f,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})}),n.jQuery=n.$=i,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})})(window);(function(n,t){function o(n,t){this._d=n,this._isUTC=!!t}function e(n){return n<0?Math.ceil(n):Math.floor(n)}function y(n){var t=this._data={},s=n.years||n.y||0,r=n.months||n.M||0,c=n.weeks||n.w||0,i=n.days||n.d||0,u=n.hours||n.h||0,f=n.minutes||n.m||0,o=n.seconds||n.s||0,h=n.milliseconds||n.ms||0;this._milliseconds=h+o*1e3+f*6e4+u*36e5,this._days=i+c*7,this._months=r+s*12,t.milliseconds=h%1e3,o+=e(h/1e3),t.seconds=o%60,f+=e(o/60),t.minutes=f%60,u+=e(f/60),t.hours=u%24,i+=e(u/24),i+=c*7,t.days=i%30,r+=e(i/30),t.months=r%12,s+=e(r/12),t.years=s}function r(n,t){for(var i=n+"";i.length<t;)i="0"+i;return i}function tt(n,t,i){var r=t._milliseconds,u=t._days,f=t._months,e;r&&n._d.setTime(+n+r*i),u&&n.date(n.date()+u*i),f&&(e=n.date(),n.date(1).month(n.month()+f*i).date(Math.min(e,n.daysInMonth())))}function p(n){return Object.prototype.toString.call(n)==="[object Array]"}function it(t){return new n(t[0],t[1]||0,t[2]||1,t[3]||0,t[4]||0,t[5]||0,t[6]||0)}function w(t,u){function a(u){var k,d;switch(u){case"M":return f+1;case"Mo":return f+1+l(f+1);case"MM":return r(f+1,2);case"MMM":return i.monthsShort[f];case"MMMM":return i.months[f];case"D":return o;case"Do":return o+l(o);case"DD":return r(o,2);case"DDD":return k=new n(h,f,o),d=new n(h,0,1),~~((k-d)/864e5+1.5);case"DDDo":return k=a("DDD"),k+l(k);case"DDDD":return r(a("DDD"),3);case"d":return s;case"do":return s+l(s);case"ddd":return i.weekdaysShort[s];case"dddd":return i.weekdays[s];case"w":return k=new n(h,f,o-s+5),d=new n(k.getFullYear(),0,4),~~((k-d)/6048e5+1.5);case"wo":return k=a("w"),k+l(k);case"ww":return r(a("w"),2);case"YY":return r(h%100,2);case"YYYY":return h;case"a":return y?y(e,v,!1):e>11?"pm":"am";case"A":return y?y(e,v,!0):e>11?"PM":"AM";case"H":return e;case"HH":return r(e,2);case"h":return e%12||12;case"hh":return r(e%12||12,2);case"m":return v;case"mm":return r(v,2);case"s":return b;case"ss":return r(b,2);case"S":return~~(p/100);case"SS":return r(~~(p/10),2);case"SSS":return r(p,3);case"Z":return(c<0?"-":"+")+r(~~(Math.abs(c)/60),2)+":"+r(~~(Math.abs(c)%60),2);case"ZZ":return(c<0?"-":"+")+r(~~(10*Math.abs(c)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return w(t,i.longDateFormat[u]);default:return u.replace(/(^\[)|(\\)|\]$/g,"")}}var f=t.month(),o=t.date(),h=t.year(),s=t.day(),e=t.hours(),v=t.minutes(),b=t.seconds(),p=t.milliseconds(),c=-t.zone(),l=i.ordinal,y=i.meridiem;return u.replace(d,a)}function rt(n){switch(n){case"DDDD":return ct;case"YYYY":return lt;case"S":case"SS":case"SSS":case"DDD":return ht;case"MMM":case"MMMM":case"ddd":case"dddd":case"a":case"A":return at;case"Z":case"ZZ":return l;case"T":return vt;case"MM":case"DD":case"dd":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return st;default:return new RegExp(n.replace("\\",""))}}function bt(n,t,r,u){var f;switch(n){case"M":case"MM":r[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(f=0;f<12;f++)if(i.monthsParse[f].test(t)){r[1]=f;break}break;case"D":case"DD":case"DDD":case"DDDD":r[2]=~~t;break;case"YY":t=~~t,r[0]=t+(t>70?1900:2e3);break;case"YYYY":r[0]=~~Math.abs(t);break;case"a":case"A":u.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":u.isUTC=!0,f=(t+"").match(wt),f&&f[1]&&(u.tzh=~~f[1]),f&&f[2]&&(u.tzm=~~f[2]),f&&f[0]==="+"&&(u.tzh=-u.tzh,u.tzm=-u.tzm)}}function c(t,i){for(var r=[0,0,1,0,0,0,0],u={tzh:0,tzm:0},e=i.match(d),o,f=0;f<e.length;f++)o=(rt(e[f]).exec(t)||[])[0],t=t.replace(rt(e[f]),""),bt(e[f],o,r,u);return u.isPm&&r[3]<12&&(r[3]+=12),u.isPm===!1&&r[3]===12&&(r[3]=0),r[3]+=u.tzh,r[4]+=u.tzm,u.isUTC?new n(n.UTC.apply({},r)):it(r)}function kt(n,t){for(var u=Math.min(n.length,t.length),f=Math.abs(n.length-t.length),r=0,i=0;i<u;i++)~~n[i]!=~~t[i]&&r++;return r+f}function dt(n,t){for(var f,h=n.match(g)||[],e,s=99,r,u,i=0;i<t.length;i++)r=c(n,t[i]),e=w(new o(r),t[i]).match(g)||[],u=kt(h,e),u<s&&(s=u,f=r);return f}function gt(t){var r="YYYY-MM-DDT",i;if(yt.exec(t)){for(i=0;i<4;i++)if(nt[i][1].exec(t)){r+=nt[i][0];break}return l.exec(t)?c(t,r+" Z"):c(t,r)}return new n(t)}function ni(n,t,r,u){var f=i.relativeTime[n];return typeof f=="function"?f(t||1,!!r,n,u):f.replace(/%d/i,t||1)}function ti(n,t){var e=f(Math.abs(n)/1e3),r=f(e/60),u=f(r/60),i=f(u/24),s=f(i/365),o=e<45&&["s",e]||r===1&&["m"]||r<45&&["mm",r]||u===1&&["h"]||u<22&&["hh",u]||i===1&&["d"]||i<=25&&["dd",i]||i<=45&&["M"]||i<345&&["MM",f(i/30)]||s===1&&["y"]||["yy",s];return o[2]=t,o[3]=n>0,ni.apply({},o)}function ut(n,t){i.fn[n]=function(n){var i=this._isUTC?"UTC":"";return n!=null?(this._d["set"+i+t](n),this):this._d["get"+i+t]()}}function ii(n){i.duration.fn[n]=function(){return this._data[n]}}function ft(n,t){i.duration.fn["as"+n]=function(){return+this/t}}var i,et="1.6.2",f=Math.round,u,s={},b="en",k=typeof module!="undefined",h="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),ot=/^\/?Date\((\-?\d+)/i,d=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,g=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,st=/\d\d?/,ht=/\d{1,3}/,ct=/\d{3}/,lt=/\d{4}/,at=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,l=/Z|[\+\-]\d\d:?\d\d/i,vt=/T/i,yt=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,pt="YYYY-MM-DDTHH:mm:ssZ",nt=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],wt=/([\+\-]|\d\d)/gi,a="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),v={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6};for(i=function(r,u){if(r===null||r==="")return null;var f,e,s;return i.isMoment(r)?(f=new n(+r._d),s=r._isUTC):u?f=p(u)?dt(r,u):c(r,u):(e=ot.exec(r),f=r===t?new n:e?new n(+e[1]):r instanceof n?r:p(r)?it(r):typeof r=="string"?gt(r):new n(r)),new o(f,s)},i.utc=function(t,r){return p(t)?new o(new n(n.UTC.apply({},t)),!0):r&&t?i(t+" +0000",r+" Z").utc():i(t&&!l.exec(t)?t+"+0000":t).utc()},i.unix=function(n){return i(n*1e3)},i.duration=function(n,t){var f=i.isDuration(n),u=typeof n=="number",r=f?n._data:u?{}:n;return u&&(t?r[t]=n:r.milliseconds=n),new y(r)},i.humanizeDuration=function(n,t,r){return i.duration(n,t===!0?null:t).humanize(t===!0?!0:r)},i.version=et,i.defaultFormat=pt,i.lang=function(n,t){var r,u,f=[];if(!n)return b;if(t){for(r=0;r<12;r++)f[r]=new RegExp("^"+t.months[r]+"|^"+t.monthsShort[r].replace(".",""),"i");t.monthsParse=t.monthsParse||f,s[n]=t}if(s[n]){for(r=0;r<h.length;r++)i[h[r]]=s[n][h[r]]||s.en[h[r]];b=n}else k&&(u=require("./lang/"+n),i.lang(n,u))},i.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(n){var t=n%10;return~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),i.isMoment=function(n){return n instanceof o},i.isDuration=function(n){return n instanceof y},i.fn=o.prototype={clone:function(){return i(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(n){return w(this,n?n:i.defaultFormat)},add:function(n,t){var r=t?i.duration(+t,n):i.duration(n);return tt(this,r,1),this},subtract:function(n,t){var r=t?i.duration(+t,n):i.duration(n);return tt(this,r,-1),this},diff:function(n,t,r){var e=this._isUTC?i(n).utc():i(n).local(),l=(this.zone()-e.zone())*6e4,u=this._d-e._d-l,s=this.year()-e.year(),h=this.month()-e.month(),c=this.date()-e.date(),o;return o=t==="months"?s*12+h+c/30:t==="years"?s+(h+c/30)/12:t==="seconds"?u/1e3:t==="minutes"?u/6e4:t==="hours"?u/36e5:t==="days"?u/864e5:t==="weeks"?u/6048e5:u,r?o:f(o)},from:function(n,t){return i.duration(this.diff(n)).humanize(!t)},fromNow:function(n){return this.from(i(),n)},calendar:function(){var n=this.diff(i().sod(),"days",!0),t=i.calendar,u=t.sameElse,r=n<-6?u:n<-1?t.lastWeek:n<0?t.lastDay:n<1?t.sameDay:n<2?t.nextDay:n<7?t.nextWeek:u;return this.format(typeof r=="function"?r.apply(this):r)},isLeapYear:function(){var n=this.year();return n%4==0&&n%100!=0||n%400==0},isDST:function(){return this.zone()<i([this.year()]).zone()||this.zone()<i([this.year(),5]).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n==null?t:this.add({d:n-t})},sod:function(){return i(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return i(this).month(this.month()+1).date(0).date()}},u=0;u<a.length;u++)ut(a[u].toLowerCase(),a[u]);ut("year","FullYear"),i.duration.fn=y.prototype={weeks:function(){return e(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(n){var r=+this,u=i.relativeTime,t=ti(r,!n);return n&&(t=(r<=0?u.past:u.future).replace(/%s/i,t)),t}};for(u in v)v.hasOwnProperty(u)&&(ft(u,v[u]),ii(u.toLowerCase()));ft("Weeks",6048e5),k&&(module.exports=i),typeof window!="undefined"&&typeof ender=="undefined"&&(window.moment=i),typeof define=="function"&&define.amd&&define("moment",[],function(){return i})})(Date);(function(){var a=this,ct=a._,e={},r=Array.prototype,g=Object.prototype,lt=Function.prototype,v=r.push,i=r.slice,o=r.concat,bt=r.unshift,f=g.toString,at=g.hasOwnProperty,nt=r.forEach,tt=r.map,it=r.reduce,rt=r.reduceRight,ut=r.filter,ft=r.every,et=r.some,s=r.indexOf,ot=r.lastIndexOf,vt=Array.isArray,yt=Object.keys,y=lt.bind,n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this._wrapped=t},t,p,h,w,b,k,c,u,st,ht,l;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports._=n):a._=n,n.VERSION="1.4.2",t=n.each=n.forEach=function(t,i,r){var u,o,f;if(t!=null)if(nt&&t.forEach===nt)t.forEach(i,r);else if(t.length===+t.length){for(u=0,o=t.length;u<o;u++)if(i.call(r,t[u],u,t)===e)return}else for(f in t)if(n.has(t,f)&&i.call(r,t[f],f,t)===e)return},n.map=n.collect=function(n,i,r){var u=[];return n==null?u:tt&&n.map===tt?n.map(i,r):(t(n,function(n,t,f){u[u.length]=i.call(r,n,t,f)}),u)},n.reduce=n.foldl=n.inject=function(i,r,u,f){var e=arguments.length>2;if(i==null&&(i=[]),it&&i.reduce===it)return f&&(r=n.bind(r,f)),e?i.reduce(r,u):i.reduce(r);if(t(i,function(n,t,i){e?u=r.call(f,u,n,t,i):(u=n,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return u},n.reduceRight=n.foldr=function(i,r,u,f){var s=arguments.length>2,e,o;if(i==null&&(i=[]),rt&&i.reduceRight===rt)return f&&(r=n.bind(r,f)),arguments.length>2?i.reduceRight(r,u):i.reduceRight(r);if(e=i.length,e!==+e&&(o=n.keys(i),e=o.length),t(i,function(n,t,h){t=o?o[--e]:--e,s?u=r.call(f,u,i[t],t,h):(u=i[t],s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return u},n.find=n.detect=function(n,t,i){var r;return p(n,function(n,u,f){if(t.call(i,n,u,f))return r=n,!0}),r},n.filter=n.select=function(n,i,r){var u=[];return n==null?u:ut&&n.filter===ut?n.filter(i,r):(t(n,function(n,t,f){i.call(r,n,t,f)&&(u[u.length]=n)}),u)},n.reject=function(n,i,r){var u=[];return n==null?u:(t(n,function(n,t,f){i.call(r,n,t,f)||(u[u.length]=n)}),u)},n.every=n.all=function(i,r,u){r||(r=n.identity);var f=!0;return i==null?f:ft&&i.every===ft?i.every(r,u):(t(i,function(n,t,i){if(!(f=f&&r.call(u,n,t,i)))return e}),!!f)},p=n.some=n.any=function(i,r,u){r||(r=n.identity);var f=!1;return i==null?f:et&&i.some===et?i.some(r,u):(t(i,function(n,t,i){if(f||(f=r.call(u,n,t,i)))return e}),!!f)},n.contains=n.include=function(n,t){var i=!1;return n==null?i:s&&n.indexOf===s?n.indexOf(t)!=-1:i=p(n,function(n){return n===t})},n.invoke=function(t,r){var u=i.call(arguments,2);return n.map(t,function(t){return(n.isFunction(r)?r:t[r]).apply(t,u)})},n.pluck=function(t,i){return n.map(t,function(n){return n[i]})},n.where=function(t,i){return n.isEmpty(i)?[]:n.filter(t,function(n){for(var t in i)if(i[t]!==n[t])return!1;return!0})},n.max=function(i,r,u){if(!r&&n.isArray(i)&&i[0]===+i[0]&&i.length<65535)return Math.max.apply(Math,i);if(!r&&n.isEmpty(i))return-Infinity;var f={computed:-Infinity};return t(i,function(n,t,i){var e=r?r.call(u,n,t,i):n;e>=f.computed&&(f={value:n,computed:e})}),f.value},n.min=function(i,r,u){if(!r&&n.isArray(i)&&i[0]===+i[0]&&i.length<65535)return Math.min.apply(Math,i);if(!r&&n.isEmpty(i))return Infinity;var f={computed:Infinity};return t(i,function(n,t,i){var e=r?r.call(u,n,t,i):n;e<f.computed&&(f={value:n,computed:e})}),f.value},n.shuffle=function(i){var u,f=0,r=[];return t(i,function(t){u=n.random(f++),r[f-1]=r[u],r[u]=t}),r},h=function(t){return n.isFunction(t)?t:function(n){return n[t]}},n.sortBy=function(t,i,r){var u=h(i);return n.pluck(n.map(t,function(n,t,i){return{value:n,index:t,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(i<r||r===void 0)return-1}return n.index<t.index?-1:1}),"value")},w=function(n,i,r,u){var f={},e=h(i);return t(n,function(t,i){var o=e.call(r,t,i,n);u(f,o,t)}),f},n.groupBy=function(t,i,r){return w(t,i,r,function(t,i,r){(n.has(t,i)?t[i]:t[i]=[]).push(r)})},n.countBy=function(t,i,r){return w(t,i,r,function(t,i){n.has(t,i)||(t[i]=0),t[i]++})},n.sortedIndex=function(t,i,r,u){var e;r=r==null?n.identity:h(r);for(var s=r.call(u,i),f=0,o=t.length;f<o;)e=f+o>>>1,r.call(u,t[e])<s?f=e+1:o=e;return f},n.toArray=function(t){return t?t.length===+t.length?i.call(t):n.values(t):[]},n.size=function(t){return t.length===+t.length?t.length:n.keys(t).length},n.first=n.head=n.take=function(n,t,r){return t!=null&&!r?i.call(n,0,t):n[0]},n.initial=function(n,t,r){return i.call(n,0,n.length-(t==null||r?1:t))},n.last=function(n,t,r){return t==null||r?n[n.length-1]:i.call(n,Math.max(n.length-t,0))},n.rest=n.tail=n.drop=function(n,t,r){return i.call(n,t==null||r?1:t)},n.compact=function(t){return n.filter(t,function(n){return!!n})},b=function(i,r,u){return t(i,function(t){n.isArray(t)?r?v.apply(u,t):b(t,r,u):u.push(t)}),u},n.flatten=function(n,t){return b(n,t,[])},n.without=function(t){return n.difference(t,i.call(arguments,1))},n.uniq=n.unique=function(i,r,u,f){var s=u?n.map(i,u,f):i,o=[],e=[];return t(s,function(t,u){(r?u&&e[e.length-1]===t:n.contains(e,t))||(e.push(t),o.push(i[u]))}),o},n.union=function(){return n.uniq(o.apply(r,arguments))},n.intersection=function(t){var r=i.call(arguments,1);return n.filter(n.uniq(t),function(t){return n.every(r,function(i){return n.indexOf(i,t)>=0})})},n.difference=function(t){var u=o.apply(r,i.call(arguments,1));return n.filter(t,function(t){return!n.contains(u,t)})},n.zip=function(){for(var r=i.call(arguments),u=n.max(n.pluck(r,"length")),f=new Array(u),t=0;t<u;t++)f[t]=n.pluck(r,""+t);return f},n.object=function(n,t){for(var r={},i=0,u=n.length;i<u;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r},n.indexOf=function(t,i,r){if(t==null)return-1;var u=0,f=t.length;if(r)if(typeof r=="number")u=r<0?Math.max(0,f+r):r;else return u=n.sortedIndex(t,i),t[u]===i?u:-1;if(s&&t.indexOf===s)return t.indexOf(i,r);for(;u<f;u++)if(t[u]===i)return u;return-1},n.lastIndexOf=function(n,t,i){var u,r;if(n==null)return-1;if(u=i!=null,ot&&n.lastIndexOf===ot)return u?n.lastIndexOf(t,i):n.lastIndexOf(t);for(r=u?i:n.length;r--;)if(n[r]===t)return r;return-1},n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0),i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);u<r;)f[u++]=n,n+=i;return f},k=function(){},n.bind=function(t,r){var f,u;if(t.bind===y&&y)return y.apply(t,i.call(arguments,1));if(!n.isFunction(t))throw new TypeError;return u=i.call(arguments,2),f=function(){if(!(this instanceof f))return t.apply(r,u.concat(i.call(arguments)));k.prototype=t.prototype;var e=new k,n=t.apply(e,u.concat(i.call(arguments)));return Object(n)===n?n:e}},n.bindAll=function(r){var u=i.call(arguments,1);return u.length==0&&(u=n.functions(r)),t(u,function(t){r[t]=n.bind(r[t],r)}),r},n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}},n.delay=function(n,t){var r=i.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},n.defer=function(t){return n.delay.apply(n,[t,1].concat(i.call(arguments,1)))},n.throttle=function(t,i){var r,u,f,e,o,s,h=n.debounce(function(){o=e=!1},i);return function(){r=this,u=arguments;var n=function(){f=null,o&&(s=t.apply(r,u)),h()};return f||(f=setTimeout(n,i)),e?o=!0:(e=!0,s=t.apply(r,u)),h(),s}},n.debounce=function(n,t,i){var r,u;return function(){var f=this,e=arguments,o=function(){r=null,i||(u=n.apply(f,e))},s=i&&!r;return clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},n.once=function(n){var i=!1,t;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}},n.wrap=function(n,t){return function(){var i=[n];return v.apply(i,arguments),t.apply(this,i)}},n.compose=function(){var n=arguments;return function(){for(var i=arguments,t=n.length-1;t>=0;t--)i=[n[t].apply(this,i)];return i[0]}},n.after=function(n,t){return n<=0?t():function(){if(--n<1)return t.apply(this,arguments)}},n.keys=yt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&(i[i.length]=r);return i},n.values=function(t){var r=[],i;for(i in t)n.has(t,i)&&r.push(t[i]);return r},n.pairs=function(t){var r=[],i;for(i in t)n.has(t,i)&&r.push([i,t[i]]);return r},n.invert=function(t){var r={},i;for(i in t)n.has(t,i)&&(r[t[i]]=i);return r},n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()},n.extend=function(n){return t(i.call(arguments,1),function(t){for(var i in t)n[i]=t[i]}),n},n.pick=function(n){var u={},f=o.apply(r,i.call(arguments,1));return t(f,function(t){t in n&&(u[t]=n[t])}),u},n.omit=function(t){var f={},e=o.apply(r,i.call(arguments,1)),u;for(u in t)n.contains(e,u)||(f[u]=t[u]);return f},n.defaults=function(n){return t(i.call(arguments,1),function(t){for(var i in t)n[i]==null&&(n[i]=t[i])}),n},n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t},n.tap=function(n,t){return t(n),n},c=function(t,i,r,u){var a,v,e,o,h,l,s;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),a=f.call(t),a!=f.call(i))return!1;switch(a){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:t==0?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if(typeof t!="object"||typeof i!="object")return!1;for(v=r.length;v--;)if(r[v]==t)return u[v]==i;if(r.push(t),u.push(i),e=0,o=!0,a=="[object Array]"){if(e=t.length,o=e==i.length,o)while(e--)if(!(o=c(t[e],i[e],r,u)))break}else{if(h=t.constructor,l=i.constructor,h!==l&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(l)&&l instanceof l))return!1;for(s in t)if(n.has(t,s)&&(e++,!(o=n.has(i,s)&&c(t[s],i[s],r,u))))break;if(o){for(s in i)if(n.has(i,s)&&!e--)break;o=!e}}return r.pop(),u.pop(),o},n.isEqual=function(n,t){return c(n,t,[],[])},n.isEmpty=function(t){if(t==null)return!0;if(n.isArray(t)||n.isString(t))return t.length===0;for(var i in t)if(n.has(t,i))return!1;return!0},n.isElement=function(n){return!!(n&&n.nodeType===1)},n.isArray=vt||function(n){return f.call(n)=="[object Array]"},n.isObject=function(n){return n===Object(n)},t(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}}),n.isArguments(arguments)||(n.isArguments=function(t){return!!(t&&n.has(t,"callee"))}),typeof/./!="function"&&(n.isFunction=function(n){return typeof n=="function"}),n.isFinite=function(t){return n.isNumber(t)&&isFinite(t)},n.isNaN=function(t){return n.isNumber(t)&&t!=+t},n.isBoolean=function(n){return n===!0||n===!1||f.call(n)=="[object Boolean]"},n.isNull=function(n){return n===null},n.isUndefined=function(n){return n===void 0},n.has=function(n,t){return at.call(n,t)},n.noConflict=function(){return a._=ct,this},n.identity=function(n){return n},n.times=function(n,t,i){for(var r=0;r<n;r++)t.call(i,r)},n.random=function(n,t){return t==null&&(t=n,n=0),n+(0|Math.random()*(t-n+1))},u={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}},u.unescape=n.invert(u.escape),st={escape:new RegExp("["+n.keys(u.escape).join("")+"]","g"),unescape:new RegExp("("+n.keys(u.unescape).join("|")+")","g")},n.each(["escape","unescape"],function(t){n[t]=function(n){return n==null?"":(""+n).replace(st[t],function(n){return u[t][n]})}}),n.result=function(t,i){if(t==null)return null;var r=t[i];return n.isFunction(r)?r.call(t):r},n.mixin=function(i){t(n.functions(i),function(t){var r=n[t]=i[t];n.prototype[t]=function(){var t=[this._wrapped];return v.apply(t,arguments),l.call(this,r.apply(n,t))}})},ht=0,n.uniqueId=function(n){var t=ht++;return n?n+t:t},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var d=/(.)^/,pt={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},wt=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(t,i,r){var f,e;r=n.defaults({},r,n.templateSettings);var s=new RegExp([(r.escape||d).source,(r.interpolate||d).source,(r.evaluate||d).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(s,function(n,i,r,f,e){u+=t.slice(o,e).replace(wt,function(n){return"\\"+pt[n]}),u+=i?"'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":f?"';\n"+f+"\n__p+='":"",o=e+n.length}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{f=new Function(r.variable||"obj","_",u)}catch(h){h.source=u;throw h;}return i?f(i,n):(e=function(t){return f.call(this,t,n)},e.source="function("+(r.variable||"obj")+"){\n"+u+"}",e)},n.chain=function(t){return n(t).chain()},l=function(t){return this._chain?n(t).chain():t},n.mixin(n),t(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),(t=="shift"||t=="splice")&&n.length===0&&delete n[0],l.call(this,n)}}),t(["concat","join","slice"],function(t){var i=r[t];n.prototype[t]=function(){return l.call(this,i.apply(this._wrapped,arguments))}}),n.extend(n.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
/*!
 * Modernizr v2.5.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(n,t,i){function l(n){c.cssText=n}function yt(n,t){return l(a.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function d(n,t){return!!~(""+n).indexOf(t)}function ct(n,t){for(var r in n)if(c[n[r]]!==i)return t=="pfx"?n[r]:!0;return!1}function pt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function e(n,t,i){var r=n.charAt(0).toUpperCase()+n.substr(1),u=(n+" "+y.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?ct(u,t):(u=(n+" "+ot.join(r+" ")+r).split(" "),pt(u,t,i))}function bt(){u.input=function(i){for(var r=0,u=i.length;r<u;r++)w[i[r]]=!!(i[r]in f);return w.list&&(w.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),u.inputtypes=function(n){for(var e=0,r,u,o,h=n.length;e<h;e++)f.setAttribute("type",u=n[e]),r=f.type!=="text",r&&(f.value=v,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(u)&&f.style.WebkitAppearance!==i?(s.appendChild(f),o=t.defaultView,r=o.getComputedStyle&&o.getComputedStyle(f,null).WebkitAppearance!=="textfield"&&f.offsetHeight!==0,s.removeChild(f)):/^(search|tel)$/.test(u)||(/^(url|email)$/.test(u)?r=f.checkValidity&&f.checkValidity()===!1:/^color$/.test(u)?(s.appendChild(f),s.offsetWidth,r=f.value!=v,s.removeChild(f)):r=f.value!=v)),st[n[e]]=!!r;return st}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var lt="2.5.3",u={},at=!0,s=t.documentElement,o="modernizr",ut=t.createElement(o),c=ut.style,f=t.createElement("input"),v=":)",ft={}.toString,a=" -webkit- -moz- -o- -ms- ".split(" "),et="Webkit Moz O ms",y=et.split(" "),ot=et.toLowerCase().split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},st={},w={},nt=[],tt=nt.slice,b,it=function(n,i,r,u){var l,a,c,f=t.createElement("div"),h=t.body,e=h?h:t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:o+(r+1),f.appendChild(c);return l=["&#173;","<style>",n,"<\/style>"].join(""),f.id=o,e.innerHTML+=l,e.appendChild(f),h||(e.style.background="",s.appendChild(e)),a=i(f,n),h?f.parentNode.removeChild(f):e.parentNode.removeChild(e),!!a},vt=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t).matches:(it("@media "+t+" { #"+o+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},ht=function(){function r(r,u){u=u||t.createElement(n[r]||"div"),r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=h(u[r],"function"),h(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),rt={}.hasOwnProperty,k,wt,g;k=h(rt,"undefined")||h(rt.call,"undefined")?function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")}:function(n,t){return rt.call(n,t)},Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=tt.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(tt.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(tt.call(arguments)))},r}),wt=function(i,r){var e=i.join(""),f=r.length;it(e,function(i,r){for(var o=t.styleSheets[t.styleSheets.length-1],s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"",h=i.childNodes,e={};f--;)e[h[f].id]=h[f];u.touch="ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch||(e.touch&&e.touch.offsetTop)===9,u.csstransforms3d=(e.csstransforms3d&&e.csstransforms3d.offsetLeft)===9&&e.csstransforms3d.offsetHeight===3,u.generatedcontent=(e.generatedcontent&&e.generatedcontent.offsetHeight)>=1,u.fontface=/src/i.test(s)&&s.indexOf(r.split(" ")[0])===0},f,r)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",a.join("touch-enabled),("),o,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",a.join("transform-3d),("),o,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',v,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]),r.flexbox=function(){return e("flexOrder")},r["flexbox-legacy"]=function(){return e("boxDirection")},r.canvas=function(){var n=t.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))},r.canvastext=function(){return!!(u.canvas&&h(t.createElement("canvas").getContext("2d").fillText,"function"))},r.webgl=function(){try{var r=t.createElement("canvas"),u;u=!!(n.WebGLRenderingContext&&(r.getContext("experimental-webgl")||r.getContext("webgl"))),r=i}catch(f){u=!1}return u},r.touch=function(){return u.touch},r.geolocation=function(){return!!navigator.geolocation},r.postmessage=function(){return!!n.postMessage},r.websqldatabase=function(){return!!n.openDatabase},r.indexedDB=function(){return!!e("indexedDB",n)},r.hashchange=function(){return ht("hashchange",n)&&(t.documentMode===i||t.documentMode>7)},r.history=function(){return!!(n.history&&history.pushState)},r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n},r.websockets=function(){for(var t=-1,i=y.length;++t<i;)if(n[y[t]+"WebSocket"])return!0;return"WebSocket"in n},r.rgba=function(){return l("background-color:rgba(150,255,150,.5)"),d(c.backgroundColor,"rgba")},r.hsla=function(){return l("background-color:hsla(120,40%,100%,.5)"),d(c.backgroundColor,"rgba")||d(c.backgroundColor,"hsla")},r.multiplebgs=function(){return l("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)},r.backgroundsize=function(){return e("backgroundSize")},r.borderimage=function(){return e("borderImage")},r.borderradius=function(){return e("borderRadius")},r.boxshadow=function(){return e("boxShadow")},r.textshadow=function(){return t.createElement("div").style.textShadow===""},r.opacity=function(){return yt("opacity:.55"),/^0.55$/.test(c.opacity)},r.cssanimations=function(){return e("animationName")},r.csscolumns=function(){return e("columnCount")},r.cssgradients=function(){var n="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return l((n+"-webkit- ".split(" ").join(t+n)+a.join(i+n)).slice(0,-n.length)),d(c.backgroundImage,"gradient")},r.cssreflections=function(){return e("boxReflect")},r.csstransforms=function(){return!!e("transform")},r.csstransforms3d=function(){var n=!!e("perspective");return n&&"webkitPerspective"in s.style&&(n=u.csstransforms3d),n},r.csstransitions=function(){return e("transition")},r.fontface=function(){return u.fontface},r.generatedcontent=function(){return u.generatedcontent},r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},r.localstorage=function(){try{return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch(n){return!1}},r.sessionstorage=function(){try{return sessionStorage.setItem(o,o),sessionStorage.removeItem(o),!0}catch(n){return!1}},r.webworkers=function(){return!!n.Worker},r.applicationcache=function(){return!!n.applicationCache},r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect},r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg},r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(ft.call(t.createElementNS(p.svg,"animate")))},r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(ft.call(t.createElementNS(p.svg,"clipPath")))};for(g in r)k(r,g)&&(b=g.toLowerCase(),u[b]=r[g](),nt.push((u[b]?"":"no-")+b));u.input||bt(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)k(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t,s.className+=" "+(t?"":"no-")+n,u[n]=t}return u},l(""),ut=f=null;
/*! HTML5 Shiv v3.4 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
return function(n,t){function s(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function h(){var n=i.elements;return typeof n=="string"?n.split(" "):n}function c(n){var t={},u=n.createElement,f=n.createDocumentFragment,r=f();n.createElement=function(n){var f=(t[n]||(t[n]=u(n))).cloneNode();return i.shivMethods&&f.canHaveChildren&&!o.test(n)?r.appendChild(f):f},n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/\w+/g,function(n){return t[n]=u(n),r.createElement(n),'c("'+n+'")'})+");return n}")(i,r)}function e(n){var t;return n.documentShived?n:(i.shivCSS&&!u&&(t=!!s(n,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(t=!c(n)),t&&(n.documentShived=t),n)}var r=n.html5||{},o=/^<|^(?:button|form|map|select|textarea)$/i,u,f,i;(function(){var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>",u="hidden"in n,f=n.childNodes.length==1||function(){try{t.createElement("a")}catch(i){return!0}var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()})(),i={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!(r.shivCSS===!1),shivMethods:!(r.shivMethods===!1),type:"default",shivDocument:e},n.html5=i,e(t)}(this,t),u._version=lt,u._prefixes=a,u._domPrefixes=ot,u._cssomPrefixes=y,u.mq=vt,u.hasEvent=ht,u.testProp=function(n){return ct([n])},u.testAllProps=e,u.testStyles=it,u.prefixed=function(n,t,i){return t?e(n,t,i):e(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(at?" js "+nt.join(" "):""),u}(this,this.document);
/*!
* jQuery Form Plugin
* version: 2.93 (30-NOV-2011)
* @requires jQuery v1.3.2 or later
*
* Examples and documentation at: http://malsup.com/jquery/form/
* Dual licensed under the MIT and GPL licenses:
*	http://www.opensource.org/licenses/mit-license.php
*	http://www.gnu.org/licenses/gpl.html
*/
(function(n){function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}n.fn.ajaxSubmit=function(i){function nt(t){for(var f=new FormData,e,o,u=0;u<t.length;u++)t[u].type!="file"&&f.append(t[u].name,t[u].value);if(r.find("input:file:enabled").each(function(){var i=n(this).attr("name"),r=this.files,t;if(i)for(t=0;t<r.length;t++)f.append(i,r[t])}),i.extraData)for(e in i.extraData)f.append(e,i.extraData[e]);i.data=null,o=i.beforeSend,i.beforeSend=function(n,t){t.data=f,n.upload&&(n.upload.onprogress=function(n){t.progress(n.position,n.total)}),o&&o.call(t,n,t)},n.ajax(i)}function g(u){function ut(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function ft(){function a(){try{var n=ut(l).readyState;t("state = "+n),n.toLowerCase()=="uninitialized"&&setTimeout(a,50)}catch(i){t("Server abort: ",i," (",i.name,")"),p(g),k&&clearTimeout(k),k=undefined}}var e=r.attr("target"),o=r.attr("action"),i,u;h.setAttribute("target",b),s||h.setAttribute("method","POST"),o!=f.url&&h.setAttribute("action",f.url),f.skipEncodingOverride||s&&!/post/i.test(s)||r.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(k=setTimeout(function(){nt=!0,p(tt)},f.timeout)),i=[];try{if(f.extraData)for(u in f.extraData)i.push(n('<input type="hidden" name="'+u+'">').attr("value",f.extraData[u]).appendTo(h)[0]);f.iframeTarget||(c.appendTo("body"),l.attachEvent?l.attachEvent("onload",p):l.addEventListener("load",p,!1)),setTimeout(a,15),h.submit()}finally{h.setAttribute("action",o),e?h.setAttribute("target",e):r.removeAttr("target"),n(i).remove()}}function p(i){var r,u,w,s,b,d,h,a,y;if(!e.aborted&&!st){try{o=ut(l)}catch(it){t("cannot access response document: ",it),i=g}if(i===tt&&e){e.abort("timeout");return}if(i==g&&e){e.abort("server abort");return}if(o&&o.location.href!=f.iframeSrc||nt){l.detachEvent?l.detachEvent("onload",p):l.removeEventListener("load",p,!1),r="success";try{if(nt)throw"timeout";if(w=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+w),!w&&window.opera&&(o.body==null||o.body.innerHTML=="")&&--ot){t("requeing onLoad callback, DOM not available"),setTimeout(p,250);return}s=o.body?o.body:o.documentElement,e.responseText=s?s.innerHTML:null,e.responseXML=o.XMLDocument?o.XMLDocument:o,w&&(f.dataType="xml"),e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]},s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText),b=(f.dataType||"").toLowerCase(),d=/(json|script|text)/.test(b),d||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(a=o.getElementsByTagName("pre")[0],y=o.getElementsByTagName("body")[0],a?e.responseText=a.textContent?a.textContent:a.innerText:y&&(e.responseText=y.textContent?y.textContent:y.innerText))):b!="xml"||e.responseXML||e.responseText==null||(e.responseXML=ct(e.responseText));try{et=at(e,b,f)}catch(i){r="parsererror",e.error=u=i||r}}catch(i){t("error caught: ",i),r="error",e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null),e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error"),r==="success"?(f.success&&f.success.call(f.context,et,"success",e),v&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u==undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),v&&n.event.trigger("ajaxError",[e,f,u])),v&&n.event.trigger("ajaxComplete",[e,f]),v&&!--n.active&&n.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,e,r),st=!0,f.timeout&&clearTimeout(k),setTimeout(function(){f.iframeTarget||c.remove(),e.responseXML=null},100)}}}var h=r[0],d,a,f,v,b,c,l,e,w,y,nt,k,ht=!!n.fn.prop,tt,g,it,rt,et,o,ot,st;if(u)if(ht)for(a=0;a<u.length;a++)d=n(h[u[a].name]),d.prop("disabled",!1);else for(a=0;a<u.length;a++)d=n(h[u[a].name]),d.removeAttr("disabled");if(n(":input[name=submit],:input[id=submit]",h).length){alert('Error: Form elements must not have name or id of "submit".');return}if(f=n.extend(!0,{},n.ajaxSettings,i),f.context=f.context||f,b="jqFormIO"+ +new Date,f.iframeTarget?(c=n(f.iframeTarget),y=c.attr("name"),y==null?c.attr("name",b):b=y):(c=n('<iframe name="'+b+'" src="'+f.iframeSrc+'" />'),c.css({position:"absolute",top:"-1000px",left:"-1000px"})),l=c[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1,c.attr("src",f.iframeSrc),e.error=r,f.error&&f.error.call(f.context,e,r,i),v&&n.event.trigger("ajaxError",[e,f,r]),f.complete&&f.complete.call(f.context,e,r)}},v=f.global,v&&!n.active++&&n.event.trigger("ajaxStart"),v&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1){f.global&&n.active--;return}if(!e.aborted){w=h.clk,w&&(y=w.name,y&&!w.disabled&&(f.extraData=f.extraData||{},f.extraData[y]=w.value,w.type=="image"&&(f.extraData[y+".x"]=h.clk_x,f.extraData[y+".y"]=h.clk_y))),tt=1,g=2,it=n("meta[name=csrf-token]").attr("content"),rt=n("meta[name=csrf-param]").attr("content"),rt&&it&&(f.extraData=f.extraData||{},f.extraData[rt]=it),f.forceSync?ft():setTimeout(ft,10),ot=50;var ct=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},lt=n.parseJSON||function(n){return window.eval("("+n+")")},at=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=lt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u}}}var s,a,u,r,h,c,l,tt,it,f,o,e,p,d;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(r=this,typeof i=="function"&&(i={success:i}),s=this.attr("method"),a=this.attr("action"),u=typeof a=="string"?n.trim(a):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),i=n.extend(!0,{url:u,success:n.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i),h={},this.trigger("form-pre-serialize",[this,i,h]),h.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(c=i.traditional,c===undefined&&(c=n.ajaxSettings.traditional),f=this.formToArray(i.semantic),i.data&&(i.extraData=i.data,l=n.param(i.data,c)),i.beforeSubmit&&i.beforeSubmit(f,this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,i,h]),h.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;o=n.param(f,c),l&&(o=o?o+"&"+l:l),i.type.toUpperCase()=="GET"?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+o,i.data=null):i.data=o,e=[],i.resetForm&&e.push(function(){r.resetForm()}),i.clearForm&&e.push(function(){r.clearForm(i.includeHidden)}),!i.dataType&&i.target?(p=i.success||function(){},e.push(function(t){var r=i.replaceTarget?"replaceWith":"html";n(i.target)[r](t).each(p,arguments)})):i.success&&e.push(i.success),i.success=function(n,t,u){for(var s=i.context||i,f=0,o=e.length;f<o;f++)e[f].apply(s,[n,t,u||r,r])};var w=n("input:file:enabled[value]",this),v=w.length>0,b="multipart/form-data",k=r.attr("enctype")==b||r.attr("encoding")==b,y=!!(v&&w.get(0).files&&window.FormData);return t("fileAPI :"+y),d=(v||k)&&!y,i.iframe!==!1&&(i.iframe||d)?i.closeKeepAlive?n.get(i.closeKeepAlive,function(){g(f)}):g(f):(v||k)&&y?(i.progress=i.progress||n.noop,nt(f)):n.ajax(i),this.trigger("form-submit-notify",[this,i]),this},n.fn.ajaxForm=function(i){if(this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}).bind("click.form-plugin",function(t){var r=t.target,u=n(r),f,i,e;if(!u.is(":submit,input:image")){if(f=u.closest(":submit"),f.length==0)return;r=f[0]}i=this,i.clk=r,r.type=="image"&&(t.offsetX!=undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop)),setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})},n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},n.fn.formToArray=function(t){var u=[],r,o,s,h,i,e,f,a,v,l,c;if(this.length===0||(r=this[0],o=t?r.getElementsByTagName("*"):r.elements,!o))return u;for(s=0,a=o.length;s<a;s++)if(f=o[s],i=f.name,i){if(t&&r.clk&&f.type=="image"){f.disabled||r.clk!=f||(u.push({name:i,value:n(f).val(),type:f.type}),u.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}));continue}if(e=n.fieldValue(f,!0),e&&e.constructor==Array)for(h=0,v=e.length;h<v;h++)u.push({name:i,value:e[h]});else e!==null&&typeof e!="undefined"&&u.push({name:i,value:e,type:f.type})}return!t&&r.clk&&(l=n(r.clk),c=l[0],i=c.name,i&&!c.disabled&&c.type=="image"&&(u.push({name:i,value:l.val()}),u.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}))),u},n.fn.formSerialize=function(t){return n.param(this.formToArray(t))},n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)},n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r},n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()},n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})},n.fn.clearFields=n.fn.clearInputs=function(n){var t=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();t.test(i)||r=="textarea"||n&&/hidden/.test(i)?this.value="":i=="checkbox"||i=="radio"?this.checked=!1:r=="select"&&(this.selectedIndex=-1)})},n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})},n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})},n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})},n.fn.ajaxSubmit.debug=!1})(jQuery);(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),s[r.name]=f,i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t],delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"x",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!=9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastActive)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"",remote:"",email:"",url:"",date:"",dateFormatted:"",dateISO:"",number:"",digits:"",creditcard:"",equalTo:"",maxlength:n.validator.format(""),minlength:n.validator.format(""),rangelength:n.validator.format(""),range:n.validator.format(""),max:n.validator.format(""),min:n.validator.format("")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var i,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),i=this.groups={},n.each(this.settings.groups,function(t,r){n.each(r.split(/\s/),function(n,r){i[r]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return r==="radio"||r==="checkbox"?n('input[name="'+n(t).attr("name")+'"]:checked').val():typeof i=="string"?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var f=n(t).rules(),e=!1,o=this.elementValue(t),i;for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,o,t,u.parameters),i==="dependency-mismatch"){e=!0;continue}if(e=!1,i==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!i)return this.formatAndAdd(t,u),!1}catch(s){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+u.method+"' method",s);throw s;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){if(this.settings.errorElement!="x"){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)}},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateFormatted:{dateFormatted:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},f=n(t),r,i;for(r in n.validator.methods)r==="required"?(i=f.get(0).getAttribute(r),i===""&&(i=!0),i=!!i):i=f.attr(r),i?u[r]=i:f[0].getAttribute("type")===r&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!==undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage,e=r===!0||r==="true",e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s)),f.valid=e,u.stopRequest(i,e)}},r)),"pending")},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateFormatted:function(t,i){for(var h=n(i).data("date-format"),u=t.split(/\W+/),c=h.split(/\W+/),o,s,f,e,l,a=new Date,r=0;r<u.length;r++)switch(c[r]){case"d":case"e":o=parseInt(u[r],10);break;case"m":s=parseInt(u[r],10)-1;break;case"Y":case"y":f=parseInt(u[r],10),f+=f>100?0:f<29?2e3:1900;break;case"H":case"I":case"k":case"l":e=parseInt(u[r],10);break;case"P":case"p":/pm/i.test(u[r])&&e<12?e+=12:/am/i.test(u[r])&&e>=12&&(e-=12);break;case"M":l=parseInt(u[r],10)}return this.optional(i)||f!==undefined&&s!==undefined&&s<=11&&s>=0&&o!==undefined&&o>=1&&o<=31},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()}}}),n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){var r=arguments;return r[0]=n.event.fix(t),r[0].type=i,n.event.handle.apply(this,r)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function t(n,t){return{rate:n,messageKey:t}}function s(n){return n.substring(0,1).toLowerCase()+n.substring(1)}var i=/[a-z]/,r=/[A-Z]/,u=/[0-9]/,f=/[0-9].*[0-9]/,e=/[^a-zA-Z0-9]/,o=/^(.)\1+$/;n.validator.passwordRating=function(n,h){if(!n||n.length<8)return t(0,"too-short");if(h&&n.toLowerCase().match(h.toLowerCase()))return t(0,"similar-to-username");if(o.test(n))return t(1,"very-weak");var c=i.test(n),l=r.test(s(n)),a=u.test(n),v=f.test(n),y=e.test(n);return c&&l&&a||c&&v||l&&v||y?t(4,"strong"):c&&l||c&&a||l&&a?t(3,"good"):t(2,"weak")},n.validator.passwordRating.messages={"similar-to-username":"Too similar to username","too-short":"Too short","very-weak":"Very weak",weak:"Weak",good:"Good",strong:"Strong"},n.validator.addMethod("password",function(t,i,r){var e=i.value,o=n(typeof r!="boolean"?r:[]),u=n.validator.passwordRating(e,o.val()),f=n(".password-meter",i.form);return f.find(".password-meter-bar").removeClass().addClass("password-meter-bar").addClass("password-meter-"+u.messageKey),f.find(".password-meter-message").removeClass().addClass("password-meter-message").addClass("password-meter-message-"+u.messageKey).text(n.validator.passwordRating.messages[u.messageKey]),!0},"&nbsp;"),n.validator.classRuleSettings.password={password:!0}}(jQuery);(function(n,t,i){n.fn.TriggerContol=function(t){if(this.length)return t.target==""?void 0:(n.triggering.change(this,t),n(this).change(function(){n.triggering.change(this,t)}),this)},n.triggering={change:function(t,r){var s=0,e=n(t).val(),u=e==r.value==r.enable,f=0,o;if(r.value!=i)for(o=r.value.split(";"),f=o.length;f>=0;)e==o[--f]&&(u=r.enable,f=0);r.value=="*"&&e.length>0&&(u=r.enable),r.not&&(u=!u),r.count&&(s=r.count),u?(n(r.target).removeAttr("disabled"),n(r.label).removeAttr("disabled")):(n(r.target).attr("disabled","disabled"),n(r.label).attr("disabled","disabled"))}}})(jQuery,window);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(n){function r(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,o=!0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=-1*r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/-120),e.unshift(t,r,f,u),(n.event.dispatch||n.event.handle).apply(this,e)}var t=["DOMMouseScroll","mousewheel"],i;if(n.event.fixHooks)for(i=t.length;i;)n.event.fixHooks[t[--i]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],r,!1);else this.onmousewheel=null}},n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})})(jQuery);(function(n,t,i,r){var u=function(f){function kt(t,f){var e=u.defaults.columns,o=t.aoColumns.length,h=n.extend({},u.models.oColumn,e,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:f?f:i.createElement("th"),sTitle:e.sTitle?e.sTitle:f?f.innerHTML:"",sGeminiId:"",aDataSort:e.aDataSort?e.aDataSort:[o],mDataProp:e.mDataProp?e.oDefaults:o}),s;t.aoColumns.push(h),t.aoPreSearchCols[o]===r||t.aoPreSearchCols[o]===null?t.aoPreSearchCols[o]=n.extend({},u.models.oSearch):(s=t.aoPreSearchCols[o],s.bRegex===r&&(s.bRegex=!0),s.bSmart===r&&(s.bSmart=!0),s.bCaseInsensitive===r&&(s.bCaseInsensitive=!0)),dt(t,o,null)}function dt(t,i,u){var f=t.aoColumns[i];u!==r&&u!==null&&(u.sType!==r&&(f.sType=u.sType,f._bAutoType=!1),n.extend(f,u),e(f,u,"sWidth","sWidthOrig"),u.iDataSort!==r&&(f.aDataSort=[u.iDataSort]),e(f,u,"aDataSort")),f.fnGetData=lt(f.mDataProp),f.fnSetData=nr(f.mDataProp),t.oFeatures.bSort||(f.bSortable=!1),f.bSortable&&(n.inArray("asc",f.asSorting)!=-1||n.inArray("desc",f.asSorting)!=-1)?f.bSortable||n.inArray("asc",f.asSorting)==-1&&n.inArray("desc",f.asSorting)==-1?(f.sSortingClass=t.oClasses.sSortable,f.sSortingClassJUI=t.oClasses.sSortJUI):n.inArray("asc",f.asSorting)!=-1&&n.inArray("desc",f.asSorting)==-1?(f.sSortingClass=t.oClasses.sSortableAsc,f.sSortingClassJUI=t.oClasses.sSortJUIAscAllowed):n.inArray("asc",f.asSorting)==-1&&n.inArray("desc",f.asSorting)!=-1&&(f.sSortingClass=t.oClasses.sSortableDesc,f.sSortingClassJUI=t.oClasses.sSortJUIDescAllowed):(f.sSortingClass=t.oClasses.sSortableNone,f.sSortingClassJUI="")}function ht(n){if(n.oFeatures.bAutoWidth===!1)return!1;yi(n);for(var t=0,i=n.aoColumns.length;t<i;t++)n.aoColumns[t].nTh.style.width=n.aoColumns[t].sWidth}function bi(n,t){for(var r=-1,i=0;i<n.aoColumns.length;i++)if(n.aoColumns[i].bVisible===!0&&r++,r==t)return i;return null}function gt(n,t){for(var r=-1,i=0;i<n.aoColumns.length;i++)if(n.aoColumns[i].bVisible===!0&&r++,i==t)return n.aoColumns[i].bVisible===!0?r:null;return null}function ut(n){for(var i=0,t=0;t<n.aoColumns.length;t++)n.aoColumns[t].bVisible===!0&&i++;return i}function ni(n){for(var r=u.ext.aTypes,f=r.length,i,t=0;t<f;t++)if(i=r[t](n),i!==null)return i;return"string"}function ki(n,t){for(var e=t.split(","),f=[],i,r=0,u=n.aoColumns.length;r<u;r++)for(i=0;i<u;i++)if(n.aoColumns[r].sName==e[i]){f.push(i);break}return f}function ti(n){for(var i="",t=0,r=n.aoColumns.length;t<r;t++)i+=n.aoColumns[t].sName+",";return i.length==r?"":i.slice(0,-1)}function di(t,i,r,u){var o,h,e,c,s,l,f;if(i)for(o=i.length-1;o>=0;o--)for(f=i[o].aTargets,n.isArray(f)||p(t,1,"aTargets must be an array of targets, not a "+typeof f),e=0,c=f.length;e<c;e++)if(typeof f[e]=="number"&&f[e]>=0){while(t.aoColumns.length<=f[e])kt(t);u(f[e],i[o])}else if(typeof f[e]=="number"&&f[e]<0)u(t.aoColumns.length+f[e],i[o]);else if(typeof f[e]=="string")for(s=0,l=t.aoColumns.length;s<l;s++)(f[e]=="_all"||n(t.aoColumns[s].nTh).hasClass(f[e]))&&u(s,i[o]);if(r)for(o=0,h=r.length;o<h;o++)u(o,r[o])}function w(t,i){var r,l=n.isArray(i)?i.slice():n.extend(!0,{},i),e=t.aoData.length,a=n.extend(!0,{},u.models.oRow,{_aData:l}),v,s,f,c,o;for(t.aoData.push(a),f=0,c=t.aoColumns.length;f<c;f++)r=t.aoColumns[f],typeof r.fnRender=="function"&&r.bUseRendered&&r.mDataProp!==null&&k(t,e,f,ft(t,e,f)),r._bAutoType&&r.sType!="string"&&(o=h(t,e,f,"type"),o!==null&&o!==""&&(s=ni(o),r.sType===null?r.sType=s:r.sType!=s&&r.sType!="html"&&(r.sType="string")));return t.aiDisplayMaster.push(e),t.oFeatures.bDeferRender||fi(t,e),e}function gi(t){var lt,r,y,s,w,d,l,o,g,at,b,e,ut,f,nt,p,i,a;if(t.bDeferLoading||t.sAjaxSource===null)for(o=t.nTBody.childNodes,r=0,y=o.length;r<y;r++)if(o[r].nodeName.toUpperCase()=="TR")for(b=t.aoData.length,o[r]._DT_RowIndex=b,t.aoData.push(n.extend(!0,{},u.models.oRow,{nTr:o[r]})),t.aiDisplayMaster.push(b),l=o[r].childNodes,d=0,s=0,w=l.length;s<w;s++)p=l[s].nodeName.toUpperCase(),(p=="TD"||p=="TH")&&(k(t,b,d,n.trim(l[s].innerHTML)),d++);for(o=st(t),l=[],r=0,y=o.length;r<y;r++)for(s=0,w=o[r].childNodes.length;s<w;s++)g=o[r].childNodes[s],p=g.nodeName.toUpperCase(),(p=="TD"||p=="TH")&&l.push(g);for(f=0,nt=t.aoColumns.length;f<nt;f++){i=t.aoColumns[f],i.sTitle===null&&(i.sTitle=i.nTh.innerHTML),i.sGeminiId==""&&(i.sGeminiId=n(i.nTh).data("id"));var et=i._bAutoType,ot=typeof i.fnRender=="function",ht=i.sClass!==null,ct=i.bVisible,c,tt,it,rt;if(et||ot||ht||!ct)for(e=0,ut=t.aoData.length;e<ut;e++)a=t.aoData[e],c=l[e*nt+f],et&&i.sType!="string"&&(rt=h(t,e,f,"type"),rt!==""&&(tt=ni(rt),i.sType===null?i.sType=tt:i.sType!=tt&&i.sType!="html"&&(i.sType="string"))),typeof i.mDataProp=="function"&&(c.innerHTML=h(t,e,f,"display")),ot&&(it=ft(t,e,f),c.innerHTML=it,i.bUseRendered&&k(t,e,f,it)),ht&&(c.className+=" "+i.sClass),ct?a._anHidden[f]=null:(a._anHidden[f]=c,c.parentNode.removeChild(c)),i.fnCreatedCell&&i.fnCreatedCell.call(t.oInstance,c,h(t,e,f,"display"),a._aData,e,f)}if(t.aoRowCreatedCallback.length!==0)for(r=0,y=t.aoData.length;r<y;r++)a=t.aoData[r],v(t,"aoRowCreatedCallback",null,[a.nTr,a._aData,r])}function b(n,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null}function ii(n,t,i){for(var f=tt(n,t),r=0,u=n.aoColumns.length;r<u;r++)if(f[r]===i)return r;return-1}function ct(n,t,i){for(var u=[],r=0,f=n.aoColumns.length;r<f;r++)u.push(h(n,t,r,i));return u}function h(n,t,i,u){var f,e=n.aoColumns[i],o=n.aoData[t]._aData;if((f=e.fnGetData(o,u))===r)return n.iDrawError!=n.iDraw&&e.sDefaultContent===null&&(p(n,0,"Requested unknown parameter '"+e.mDataProp+"' from the data source for row "+t),n.iDrawError=n.iDraw),e.sDefaultContent;if(f===null&&e.sDefaultContent!==null)f=e.sDefaultContent;else if(typeof f=="function")return f();return u=="display"&&f===null?"":f}function k(n,t,i,r){var u=n.aoColumns[i],f=n.aoData[t]._aData;u.fnSetData(f,r)}function lt(n){if(n===null)return function(){return null};if(typeof n=="function")return function(t,i){return n(t,i)};if(typeof n=="string"&&n.indexOf(".")!=-1){var t=n.split(".");return function(n){for(var u=0,f=t.length;u<f;u++)if(n=n[t[u]],n===r)return r;return n}}return function(t){return t[n]}}function nr(n){if(n===null)return function(){};if(typeof n=="function")return function(t,i){n(t,"set",i)};if(typeof n=="string"&&n.indexOf(".")!=-1){var t=n.split(".");return function(n,i){for(var r=0,u=t.length-1;r<u;r++)n=n[t[r]];n[t[t.length-1]]=i}}return function(t,i){t[n]=i}}function at(n){for(var i=[],r=n.aoData.length,t=0;t<r;t++)i.push(n.aoData[t]._aData);return i}function ri(n){n.aoData.splice(0,n.aoData.length),n.aiDisplayMaster.splice(0,n.aiDisplayMaster.length),n.aiDisplay.splice(0,n.aiDisplay.length),l(n)}function ui(n,t){for(var r=-1,i=0,u=n.length;i<u;i++)n[i]==t?r=i:n[i]>t&&n[i]--;r!=-1&&n.splice(r,1)}function ft(n,t,i){var r=n.aoColumns[i];return r.fnRender({iDataRow:t,iDataColumn:i,oSettings:n,aData:n.aoData[t]._aData,mDataProp:r.mDataProp},h(n,t,i,"display"))}function fi(t,r){var u=t.aoData[r],o,f,s,e;if(u.nTr===null){for(u.nTr=i.createElement("tr"),u.nTr._DT_RowIndex=r,u._aData.DT_RowId&&(u.nTr.id=u._aData.DT_RowId),u._aData.DT_RowClass&&n(u.nTr).addClass(u._aData.DT_RowClass),f=0,s=t.aoColumns.length;f<s;f++)e=t.aoColumns[f],o=i.createElement("td"),o.innerHTML=typeof e.fnRender=="function"&&(!e.bUseRendered||e.mDataProp===null)?ft(t,r,f):h(t,r,f,"display"),e.sClass!==null&&(o.className=e.sClass),e.bVisible?(u.nTr.appendChild(o),u._anHidden[f]=null):u._anHidden[f]=o,e.fnCreatedCell&&e.fnCreatedCell.call(t.oInstance,o,h(t,r,f,"display"),u._aData,r,f);v(t,"aoRowCreatedCallback",null,[u.nTr,u._aData,r])}}function tr(t){var r,u,f,l,a,c=t.nTHead.getElementsByTagName("th").length,v=0,y,s,e,h,o;if(c!==0)for(r=0,f=t.aoColumns.length;r<f;r++)u=t.aoColumns[r].nTh,u.setAttribute("role","columnheader"),t.aoColumns[r].bSortable&&(u.setAttribute("tabindex",t.iTabIndex),u.setAttribute("aria-controls",t.sTableId)),t.aoColumns[r].sClass!==null&&n(u).addClass(t.aoColumns[r].sClass),t.aoColumns[r].sTitle!=u.innerHTML&&(u.innerHTML=t.aoColumns[r].sTitle);else{for(s=i.createElement("tr"),r=0,f=t.aoColumns.length;r<f;r++)u=t.aoColumns[r].nTh,u.innerHTML=t.aoColumns[r].sTitle,u.setAttribute("tabindex","0"),t.aoColumns[r].sClass!==null&&n(u).addClass(t.aoColumns[r].sClass),s.appendChild(u);n(t.nTHead).html("")[0].appendChild(s),ot(t.aoHeader,t.nTHead)}if(n(t.nTHead).children("tr").attr("role","row"),t.bJUI)for(r=0,f=t.aoColumns.length;r<f;r++)u=t.aoColumns[r].nTh,e=i.createElement("div"),e.className=t.oClasses.sSortJUIWrapper,n(u).contents().appendTo(e),h=i.createElement("span"),h.className=t.oClasses.sSortIcon,e.appendChild(h),u.appendChild(e);if(t.oFeatures.bSort)for(r=0;r<t.aoColumns.length;r++)t.aoColumns[r].bSortable!==!1?pi(t,t.aoColumns[r].nTh,r,t.fnSortCallback):n(t.aoColumns[r].nTh).addClass(t.oClasses.sSortableNone);if(t.oClasses.sFooterTH!==""&&n(t.nTFoot).children("tr").children("th").addClass(t.oClasses.sFooterTH),t.nTFoot!==null)for(o=it(t,null,t.aoFooter),r=0,f=t.aoColumns.length;r<f;r++)o[r]&&(t.aoColumns[r].nTf=o[r],t.aoColumns[r].sClass&&n(o[r]).addClass(t.aoColumns[r].sClass))}function et(n,t,i){var u,l,f,v,a,w,y,h,e=[],c=[],p=n.aoColumns.length,o,s;for(i===r&&(i=!1),u=0,l=t.length;u<l;u++){for(e[u]=t[u].slice(),e[u].nTr=t[u].nTr,f=p-1;f>=0;f--)n.aoColumns[f].bVisible||i||e[u].splice(f,1);c.push([])}for(u=0,l=e.length;u<l;u++){if(h=e[u].nTr,h)while(y=h.firstChild)h.removeChild(y);for(f=0,v=e[u].length;f<v;f++)if(o=1,s=1,c[u][f]===r){for(h.appendChild(e[u][f].cell),c[u][f]=1;e[u+o]!==r&&e[u][f].cell==e[u+o][f].cell;)c[u+o][f]=1,o++;while(e[u][f+s]!==r&&e[u][f].cell==e[u][f+s].cell){for(a=0;a<o;a++)c[u+a][f+s]=1;s++}e[u][f].cell.rowSpan=o,e[u][f].cell.colSpan=s}}}function c(t){var c,nt,tt,u=[],a=0,it=t.asStripeClasses.length,rt=t.aoOpenRows.length,et=v(t,"aoPreDrawCallback","preDraw",[t]),b,k,f,e,s,p,h,w,o,d,ft,g,ot;if(n.inArray(!1,et)===-1){if(t.bDrawing=!0,t.iInitDisplayStart!==r&&t.iInitDisplayStart!=-1&&(t._iDisplayStart=t.oFeatures.bServerSide?t.iInitDisplayStart:t.iInitDisplayStart>=t.fnRecordsDisplay()?0:t.iInitDisplayStart,t.iInitDisplayStart=-1,l(t)),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++;else if(t.oFeatures.bServerSide){if(!t.bDestroying&&!rr(t))return}else t.iDraw++;if(t.aiDisplay.length!==0){for(b=t._iDisplayStart,k=t._iDisplayEnd,t.oFeatures.bServerSide&&(b=0,k=t.aoData.length),f=b;f<k;f++)if(e=t.aoData[t.aiDisplay[f]],e.nTr===null&&fi(t,t.aiDisplay[f]),s=e.nTr,it!==0&&(p=t.asStripeClasses[a%it],e._sRowStripe!=p&&(n(s).removeClass(e._sRowStripe).addClass(p),e._sRowStripe=p)),v(t,"aoRowCallback",null,[s,t.aoData[t.aiDisplay[f]]._aData,a,f]),u.push(s),a++,rt!==0)for(h=0;h<rt;h++)if(s==t.aoOpenRows[h].nParent){u.push(t.aoOpenRows[h].nTr);break}}else u[0]=i.createElement("tr"),t.asStripeClasses[0]&&(u[0].className=t.asStripeClasses[0]),w=t.oLanguage.sZeroRecords.replace("_MAX_",t.fnFormatNumber(t.fnRecordsTotal())),t.iDraw!=1||t.sAjaxSource===null||t.oFeatures.bServerSide?t.oLanguage.sEmptyTable&&t.fnRecordsTotal()===0&&(w=t.oLanguage.sEmptyTable):w=t.oLanguage.sLoadingRecords,o=i.createElement("td"),o.setAttribute("valign","top"),o.colSpan=ut(t),o.className=t.oClasses.sRowEmpty,o.innerHTML=w,u[a].appendChild(o);if(v(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],at(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),v(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],at(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),d=i.createDocumentFragment(),ft=i.createDocumentFragment(),t.nTBody){if(g=t.nTBody.parentNode,ft.appendChild(t.nTBody),!t.oScroll.bInfinite||!t._bInitComplete||t.bSorted||t.bFiltered)while(tt=t.nTBody.firstChild)t.nTBody.removeChild(tt);for(c=0,nt=u.length;c<nt;c++)d.appendChild(u[c]);t.nTBody.appendChild(d),g!==null&&g.appendChild(t.nTBody)}v(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1,t.oFeatures.bServerSide&&(y(t,!1),t._bInitComplete||pt(t))}}function vt(n){n.oFeatures.bSort?rt(n,n.oPreviousSearch):n.oFeatures.bFilter?d(n,n.oPreviousSearch):(l(n),c(n))}function ir(t){var w=n("<div><\/div>")[0],h,c,f,e,i,s,v,r,l,o,y,p,a,b;for(t.nTable.parentNode.insertBefore(w,t.nTable),t.nTableWrapper=n('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"><\/div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling,h=t.nTableWrapper,c=t.sDom.split(""),o=0;o<c.length;o++){if(e=0,i=c[o],i=="<"){if(s=n("<div><\/div>")[0],v=c[o+1],v=="'"||v=='"'){for(r="",l=2;c[o+l]!=v;)r+=c[o+l],l++;r=="H"?r="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":r=="F"&&(r="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"),r.indexOf(".")!=-1?(y=r.split("."),s.id=y[0].substr(1,y[0].length-1),s.className=y[1]):r.charAt(0)=="#"?s.id=r.substr(1,r.length-1):s.className=r,o+=l}h.appendChild(s),h=s}else if(i==">")h=h.parentNode;else if(i=="l"&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)f=ar(t),e=1;else if(i=="f"&&t.oFeatures.bFilter)f=er(t),e=1;else if(i=="r"&&t.oFeatures.bProcessing)f=yr(t),e=1;else if(i=="t")f=pr(t),e=1;else if(i=="i"&&t.oFeatures.bInfo)f=cr(t),e=1;else if(i=="p"&&t.oFeatures.bPaginate)f=vr(t),e=1;else if(u.ext.aoFeatures.length!==0)for(p=u.ext.aoFeatures,a=0,b=p.length;a<b;a++)if(i==p[a].cFeature){f=p[a].fnInit(t),f&&(e=1);break}e==1&&f!==null&&(typeof t.aanFeatures[i]!="object"&&(t.aanFeatures[i]=[]),t.aanFeatures[i].push(f),h.appendChild(f))}w.parentNode.replaceChild(t.nTableWrapper,w)}function ot(t,i){var o=n(i).children("tr"),e,r,h,s,c,l,a,v,p=function(n,t,i){while(n[t][i])i++;return i},y,u,f;for(t.splice(0,t.length),r=0,l=o.length;r<l;r++)t.push([]);for(r=0,l=o.length;r<l;r++)for(y=0,h=0,a=o[r].childNodes.length;h<a;h++)if(e=o[r].childNodes[h],e.nodeName.toUpperCase()=="TD"||e.nodeName.toUpperCase()=="TH")for(u=e.getAttribute("colspan")*1,f=e.getAttribute("rowspan")*1,u=!u||u===0||u===1?1:u,f=!f||f===0||f===1?1:f,v=p(t,r,y),c=0;c<u;c++)for(s=0;s<f;s++)t[r+s][v+c]={cell:e,unique:u==1?!0:!1},t[r+s].nTr=o[r]}function it(n,t,i){var f=[],u,e,r,o;for(i||(i=n.aoHeader,t&&(i=[],ot(i,t))),u=0,e=i.length;u<e;u++)for(r=0,o=i[u].length;r<o;r++)!i[u][r].unique||f[r]&&n.bSortCellsTop||(f[r]=i[u][r].cell);return f}function rr(n){if(n.bAjaxDataGet){n.iDraw++,y(n,!0);var i=n.aoColumns.length,t=ur(n);return ei(n,t),n.fnServerData.call(n.oInstance,n.sAjaxSource,t,function(t){fr(n,t)},n),!1}return!0}function ur(n){var u=n.aoColumns.length,i=[],f,t,r,e;for(i.push({name:"sEcho",value:n.iDraw}),i.push({name:"iColumns",value:u}),i.push({name:"sColumns",value:ti(n)}),i.push({name:"iDisplayStart",value:n._iDisplayStart}),i.push({name:"iDisplayLength",value:n.oFeatures.bPaginate!==!1?n._iDisplayLength:-1}),t=0;t<u;t++)f=n.aoColumns[t].mDataProp,i.push({name:"mDataProp_"+t,value:typeof f=="function"?"function":f});if(n.oFeatures.bFilter!==!1)for(i.push({name:"sSearch",value:n.oPreviousSearch.sSearch}),i.push({name:"bRegex",value:n.oPreviousSearch.bRegex}),t=0;t<u;t++)i.push({name:"sSearch_"+t,value:n.aoPreSearchCols[t].sSearch}),i.push({name:"bRegex_"+t,value:n.aoPreSearchCols[t].bRegex}),i.push({name:"bSearchable_"+t,value:n.aoColumns[t].bSearchable});if(n.oFeatures.bSort!==!1){for(r=n.aaSortingFixed!==null?n.aaSortingFixed.length:0,e=n.aaSorting.length,i.push({name:"iSortingCols",value:r+e}),t=0;t<r;t++)i.push({name:"iSortCol_"+t,value:n.aaSortingFixed[t][0]}),i.push({name:"sSortDir_"+t,value:n.aaSortingFixed[t][1]});for(t=0;t<e;t++)i.push({name:"iSortCol_"+(t+r),value:n.aaSorting[t][0]}),i.push({name:"sSortDir_"+(t+r),value:n.aaSorting[t][1]});for(t=0;t<u;t++)i.push({name:"bSortable_"+t,value:n.aoColumns[t].bSortable})}return i}function ei(n,t){v(n,"aoServerParams","serverParams",[t])}function fr(n,t){var e,o,h,u,i,l,s,f,a;if(t.sEcho!==r){if(t.sEcho*1<n.iDraw)return;n.iDraw=t.sEcho*1}for((!n.oScroll.bInfinite||n.oScroll.bInfinite&&(n.bSorted||n.bFiltered))&&ri(n),n._iRecordsTotal=parseInt(t.iTotalRecords,10),n._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10),e=ti(n),o=t.sColumns!==r&&e!==""&&t.sColumns!=e,o&&(h=ki(n,t.sColumns)),u=lt(n.sAjaxDataProp)(t),i=0,l=u.length;i<l;i++)if(o){for(s=[],f=0,a=n.aoColumns.length;f<a;f++)s.push(u[i][h[f]]);w(n,s)}else w(n,u[i]);n.aiDisplay=n.aiDisplayMaster.slice(),n.bAjaxDataGet=!1,c(n),n.bAjaxDataGet=!0,y(n,!1)}function er(t){var f=t.oPreviousSearch,r=t.oLanguage.sSearch,u,e;return r=r.indexOf("_INPUT_")!==-1?r.replace("_INPUT_",'<input type="text" />'):r===""?'<input type="text" />':r+' <input type="text" />',u=i.createElement("div"),u.className=t.oClasses.sFilter,u.innerHTML="<label>"+r+"<\/label>",t.aanFeatures.f||(u.id=t.sTableId+"_filter"),e=n("input",n(u)),e.val(f.sSearch.replace('"',"&quot;")),e.bind("keyup.DT",function(){for(var u=t.aanFeatures.f,r=0,e=u.length;r<e;r++)u[r]!=n(this).parents("div.dataTables_filter")[0]&&n("input",u[r]).val(this.value);this.value!=f.sSearch&&d(t,{sSearch:this.value,bRegex:f.bRegex,bSmart:f.bSmart,bCaseInsensitive:f.bCaseInsensitive})}),e.attr("aria-controls",t.sTableId).bind("keypress.DT",function(n){if(n.keyCode==13)return!1}),u}function d(t,i,u){var e=t.oPreviousSearch,o=t.aoPreSearchCols,s=function(n){e.sSearch=n.sSearch,e.bRegex=n.bRegex,e.bSmart=n.bSmart,e.bCaseInsensitive=n.bCaseInsensitive},f;if(t.oFeatures.bServerSide)s(i);else{for(hr(t,i.sSearch,u,i.bRegex,i.bSmart,i.bCaseInsensitive),s(i),f=0;f<t.aoPreSearchCols.length;f++)sr(t,o[f].sSearch,f,o[f].bRegex,o[f].bSmart,o[f].bCaseInsensitive);or(t)}i.sSearch!=null&&i.sSearch!=r&&i.sSearch.length>0&&(t.bFiltered=!0,n(t.oInstance).trigger("filter",t)),t._iDisplayStart=0,l(t),c(t),oi(t,0)}function or(n){for(var e=u.ext.afnFiltering,r,t,s,f,i=0,o=e.length;i<o;i++)for(r=0,t=0,s=n.aiDisplay.length;t<s;t++)f=n.aiDisplay[t-r],e[i](n,ct(n,f,"filter"),f)||(n.aiDisplay.splice(t-r,1),r++)}function sr(n,t,i,r,u,f){var o,s,e,c;if(t!=="")for(o=0,s=hi(t,r,u,f),e=n.aiDisplay.length-1;e>=0;e--)c=ci(h(n,n.aiDisplay[e],i,"filter"),n.aoColumns[i].sType),s.test(c)||(n.aiDisplay.splice(e,1),o++)}function hr(n,t,i,r,f,e){var o,h=hi(t,r,f,e),c=n.oPreviousSearch,s;if(i||(i=0),u.ext.afnFiltering.length!==0&&(i=1),t.length<=0)n.aiDisplay.splice(0,n.aiDisplay.length),n.aiDisplay=n.aiDisplayMaster.slice();else if(n.aiDisplay.length==n.aiDisplayMaster.length||c.sSearch.length>t.length||i==1||t.indexOf(c.sSearch)!==0)for(n.aiDisplay.splice(0,n.aiDisplay.length),oi(n,1),o=0;o<n.aiDisplayMaster.length;o++)h.test(n.asDataSearch[o])&&n.aiDisplay.push(n.aiDisplayMaster[o]);else for(s=0,o=0;o<n.asDataSearch.length;o++)h.test(n.asDataSearch[o])||(n.aiDisplay.splice(o-s,1),s++)}function oi(n,t){var r,i,u;if(!n.oFeatures.bServerSide)for(n.asDataSearch.splice(0,n.asDataSearch.length),r=t&&t===1?n.aiDisplayMaster:n.aiDisplay,i=0,u=r.length;i<u;i++)n.asDataSearch[i]=si(n,ct(n,r[i],"filter"))}function si(n,t){var u="",e,f,o,s;for(n.__nTmpFilter===r&&(n.__nTmpFilter=i.createElement("div")),e=n.__nTmpFilter,f=0,o=n.aoColumns.length;f<o;f++)n.aoColumns[f].bSearchable&&(s=t[f],u+=ci(s,n.aoColumns[f].sType)+"  ");return u.indexOf("&")!==-1&&(e.innerHTML=u,u=e.textContent?e.textContent:e.innerText,u=u.replace(/\n/g," ").replace(/\r/g,"")),u}function hi(n,t,i,r){var u,f;return i?(u=t?n.split(" "):li(n).split(" "),f="^(?=.*?"+u.join(")(?=.*?")+").*$",new RegExp(f,r?"i":"")):(n=t?n:li(n),new RegExp(n,r?"i":""))}function ci(n,t){return typeof u.ext.ofnSearch[t]=="function"?u.ext.ofnSearch[t](n):t=="html"?n.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):typeof n=="string"?n.replace(/[\r\n]/g," "):n===null?"":n}function li(n){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"],i=new RegExp("(\\"+t.join("|\\")+")","g");return n.replace(i,"\\$1")}function cr(n){var t=i.createElement("div");return t.className=n.oClasses.sInfo,n.aanFeatures.i||(n.aoDrawCallback.push({fn:lr,sName:"information"}),t.id=n.sTableId+"_info"),n.nTable.setAttribute("aria-describedby",n.sTableId+"_info"),t}function lr(t){var f,r,a;if(t.oFeatures.bInfo&&t.aanFeatures.i.length!==0){var e=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),h=t.fnRecordsDisplay(),u=t.fnFormatNumber(e),c=t.fnFormatNumber(o),v=t.fnFormatNumber(s),l=t.fnFormatNumber(h),i;for(t.oScroll.bInfinite&&(u=t.fnFormatNumber(1)),i=t.fnRecordsDisplay()===0&&t.fnRecordsDisplay()==t.fnRecordsTotal()?"":t.fnRecordsDisplay()===0?t.oLanguage.sInfoEmpty+" "+t.oLanguage.sInfoFiltered.replace("_MAX_",v)+t.oLanguage.sInfoPostFix:t.fnRecordsDisplay()==t.fnRecordsTotal()?t.oLanguage.sInfo.replace("_START_",u).replace("_END_",c).replace("_TOTAL_",l)+t.oLanguage.sInfoPostFix:t.oLanguage.sInfo.replace("_START_",u).replace("_END_",c).replace("_TOTAL_",l)+" "+t.oLanguage.sInfoFiltered.replace("_MAX_",t.fnFormatNumber(t.fnRecordsTotal()))+t.oLanguage.sInfoPostFix,t.oLanguage.fnInfoCallback!==null&&(i=t.oLanguage.fnInfoCallback.call(t.oInstance,t,e,o,s,h,i)),f=t.aanFeatures.i,r=0,a=f.length;r<a;r++)n(f[r]).html(i)}}function yt(n){var t,r,u=n.iInitDisplayStart,i;if(n.bInitialised===!1){setTimeout(function(){yt(n)},200);return}for(ir(n),tr(n),et(n,n.aoHeader),n.nTFoot&&et(n,n.aoFooter),y(n,!0),n.oFeatures.bAutoWidth&&yi(n),t=0,r=n.aoColumns.length;t<r;t++)n.aoColumns[t].sWidth!==null&&(n.aoColumns[t].nTh.style.width=o(n.aoColumns[t].sWidth));if(n.oFeatures.bSort?rt(n):n.oFeatures.bFilter?d(n,n.oPreviousSearch):(n.aiDisplay=n.aiDisplayMaster.slice(),l(n),c(n)),n.sAjaxSource!==null&&!n.oFeatures.bServerSide){i=[],ei(n,i),n.fnServerData.call(n.oInstance,n.sAjaxSource,i,function(i){var r=n.sAjaxDataProp!==""?lt(n.sAjaxDataProp)(i):i;for(t=0;t<r.length;t++)w(n,r[t]);n.iInitDisplayStart=u,n.oFeatures.bSort?rt(n):(n.aiDisplay=n.aiDisplayMaster.slice(),l(n),c(n)),y(n,!1),pt(n,i)},n);return}n.oFeatures.bServerSide||(y(n,!1),pt(n))}function pt(n,t){n._bInitComplete=!0,v(n,"aoInitComplete","init",[n,t])}function ai(n){!n.sEmptyTable&&n.sZeroRecords&&e(n,n,"sZeroRecords","sEmptyTable"),!n.sLoadingRecords&&n.sZeroRecords&&e(n,n,"sZeroRecords","sLoadingRecords")}function ar(t){var f;if(t.oScroll.bInfinite)return null;var s='name="'+t.sTableId+'_length"',o='<select size="1" '+s+">",r,e,u=t.aLengthMenu;if(u.length==2&&typeof u[0]=="object"&&typeof u[1]=="object")for(r=0,e=u[0].length;r<e;r++)o+='<option value="'+u[0][r]+'">'+u[1][r]+"<\/option>";else for(r=0,e=u.length;r<e;r++)o+='<option value="'+u[r]+'">'+u[r]+"<\/option>";return o+="<\/select>",f=i.createElement("div"),t.aanFeatures.l||(f.id=t.sTableId+"_length"),f.className=t.oClasses.sLength,f.innerHTML="<label>"+t.oLanguage.sLengthMenu.replace("_MENU_",o)+"<\/label>",n('select option[value="'+t._iDisplayLength+'"]',f).attr("selected",!0),n("select",f).bind("change.DT",function(){var f=n(this).val(),u=t.aanFeatures.l;for(r=0,e=u.length;r<e;r++)u[r]!=this.parentNode&&n("select",u[r]).val(f);t._iDisplayLength=parseInt(f,10),l(t),t.fnDisplayEnd()==t.fnRecordsDisplay()&&(t._iDisplayStart=t.fnDisplayEnd()-t._iDisplayLength,t._iDisplayStart<0&&(t._iDisplayStart=0)),t._iDisplayLength==-1&&(t._iDisplayStart=0),c(t)}),n("select",f).attr("aria-controls",t.sTableId),f}function l(n){n._iDisplayEnd=n.oFeatures.bPaginate===!1?n.aiDisplay.length:n._iDisplayStart+n._iDisplayLength>n.aiDisplay.length||n._iDisplayLength==-1?n.aiDisplay.length:n._iDisplayStart+n._iDisplayLength}function vr(n){if(n.oScroll.bInfinite)return null;var t=i.createElement("div");return t.className=n.oClasses.sPaging+n.sPaginationType,u.ext.oPagination[n.sPaginationType].fnInit(n,t,function(n){l(n),c(n)}),n.aanFeatures.p||n.aoDrawCallback.push({fn:function(n){u.ext.oPagination[n.sPaginationType].fnUpdate(n,function(n){l(n),c(n)})},sName:"pagination"}),t}function vi(t,i){var u=t._iDisplayStart,r;return typeof i=="number"?(t._iDisplayStart=i*t._iDisplayLength,t._iDisplayStart>t.fnRecordsDisplay()&&(t._iDisplayStart=0)):i=="first"?t._iDisplayStart=0:i=="previous"?(t._iDisplayStart=t._iDisplayLength>=0?t._iDisplayStart-t._iDisplayLength:0,t._iDisplayStart<0&&(t._iDisplayStart=0)):i=="next"?t._iDisplayLength>=0?t._iDisplayStart+t._iDisplayLength<t.fnRecordsDisplay()&&(t._iDisplayStart+=t._iDisplayLength):t._iDisplayStart=0:i=="last"?t._iDisplayLength>=0?(r=parseInt((t.fnRecordsDisplay()-1)/t._iDisplayLength,10)+1,t._iDisplayStart=(r-1)*t._iDisplayLength):t._iDisplayStart=0:p(t,0,"Unknown paging action: "+i),n(t.oInstance).trigger("page",t),u!=t._iDisplayStart}function yr(n){var t=i.createElement("div");return n.aanFeatures.r||(t.id=n.sTableId+"_processing"),t.innerHTML=n.oLanguage.sProcessing,t.className=n.oClasses.sProcessing,n.nTable.parentNode.insertBefore(t,n.nTable),t}function y(t,i){var u,r,f;if(t.oFeatures.bProcessing)for(u=t.aanFeatures.r,r=0,f=u.length;r<f;r++)u[r].style.visibility=i?"visible":"hidden";n(t.oInstance).trigger("processing",[t,i])}function pr(t){var b,p,k;if(t.oScroll.sX===""&&t.oScroll.sY==="")return t.nTable;var s=i.createElement("div"),r=i.createElement("div"),v=i.createElement("div"),u=i.createElement("div"),f=i.createElement("div"),w=i.createElement("div"),h=t.nTable.cloneNode(!1),y=t.nTable.cloneNode(!1),d=t.nTable.getElementsByTagName("thead")[0],a=t.nTable.getElementsByTagName("tfoot").length===0?null:t.nTable.getElementsByTagName("tfoot")[0],e=t.oClasses;for(r.appendChild(v),f.appendChild(w),u.appendChild(t.nTable),s.appendChild(r),s.appendChild(u),v.appendChild(h),h.appendChild(d),a!==null&&(s.appendChild(f),w.appendChild(y),y.appendChild(a)),s.className=e.sScrollWrapper,r.className=e.sScrollHead,v.className=e.sScrollHeadInner,u.className=e.sScrollBody,f.className=e.sScrollFoot,w.className=e.sScrollFootInner,t.oScroll.bAutoCss&&(r.style.overflow="hidden",r.style.position="relative",f.style.overflow="hidden",u.style.overflow="auto"),r.style.border="0",r.style.width="100%",f.style.border="0",v.style.width="150%",h.removeAttribute("id"),h.style.marginLeft="0",t.nTable.style.marginLeft="0",a!==null&&(y.removeAttribute("id"),y.style.marginLeft="0"),b=n(t.nTable).children("caption"),p=0,k=b.length;p<k;p++)h.appendChild(b[p]);return t.oScroll.sX!==""&&(r.style.width=o(t.oScroll.sX),u.style.width=o(t.oScroll.sX),a!==null&&(f.style.width=o(t.oScroll.sX)),n(u).scroll(function(){r.scrollLeft=this.scrollLeft,a!==null&&(f.scrollLeft=this.scrollLeft)})),t.oScroll.sY!==""&&(u.style.height=o(t.oScroll.sY)),t.aoDrawCallback.push({fn:wr,sName:"scrolling"}),t.oScroll.bInfinite&&n(u).scroll(function(){t.bDrawing||n(this).scrollTop()===0||n(this).scrollTop()+n(this).height()>n(t.nTable).height()-t.oScroll.iLoadGap&&t.fnDisplayEnd()<t.fnRecordsDisplay()&&(vi(t,"next"),l(t),c(t))}),t.nScrollHead=r,t.nScrollFoot=f,s}function wr(t){var h=t.nScrollHead.getElementsByTagName("div")[0],et=h.getElementsByTagName("table")[0],i=t.nTable.parentNode,c,nt,st,ht,tt,a,v,rt,r,ut,e,y=[],u,w=t.nTFoot!==null?t.nScrollFoot.getElementsByTagName("div")[0]:null,ot=t.nTFoot!==null?w.getElementsByTagName("table")[0]:null,b=n.browser.msie&&n.browser.version<=7,s=t.nTable.getElementsByTagName("thead"),f,k,l,ft,d;for(s.length>0&&t.nTable.removeChild(s[0]),t.nTFoot!==null&&(f=t.nTable.getElementsByTagName("tfoot"),f.length>0&&t.nTable.removeChild(f[0])),s=t.nTHead.cloneNode(!0),t.nTable.insertBefore(s,t.nTable.childNodes[0]),t.nTFoot!==null&&(f=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(f,t.nTable.childNodes[1])),t.oScroll.sX===""&&(i.style.width="100%",h.parentNode.style.width="100%"),k=it(t,s),c=0,nt=k.length;c<nt;c++)ut=bi(t,c),k[c].style.width=t.aoColumns[ut].sWidth;t.nTFoot!==null&&g(function(n){n.style.width=""},f.getElementsByTagName("tr")),u=n(t.nTable).outerWidth(),t.oScroll.sX===""?(t.nTable.style.width="100%",b&&(n("tbody",i).height()>i.offsetHeight||n(i).css("overflow-y")=="scroll")&&(t.nTable.style.width=o(n(t.nTable).outerWidth()-t.oScroll.iBarWidth))):t.oScroll.sXInner!==""?t.nTable.style.width=o(t.oScroll.sXInner):u==n(i).width()&&n(i).height()<n(t.nTable).height()?(t.nTable.style.width=o(u-t.oScroll.iBarWidth),n(t.nTable).outerWidth()>u-t.oScroll.iBarWidth&&(t.nTable.style.width=o(u))):t.nTable.style.width=o(u),u=n(t.nTable).outerWidth(),tt=t.nTHead.getElementsByTagName("tr"),a=s.getElementsByTagName("tr"),g(function(t,i){r=t.style,r.paddingTop="0",r.paddingBottom="0",r.borderTopWidth="0",r.borderBottomWidth="0",r.height=0,e=n(t).width(),i.style.width=o(e),y.push(e)},a,tt),n(a).height(0),t.nTFoot!==null&&(v=f.getElementsByTagName("tr"),rt=t.nTFoot.getElementsByTagName("tr"),g(function(t,i){r=t.style,r.paddingTop="0",r.paddingBottom="0",r.borderTopWidth="0",r.borderBottomWidth="0",r.height=0,e=n(t).width(),i.style.width=o(e),y.push(e)},v,rt),n(v).height(0)),g(function(n){n.innerHTML="",n.style.width=o(y.shift())},a),t.nTFoot!==null&&g(function(n){n.innerHTML="",n.style.width=o(y.shift())},v),n(t.nTable).outerWidth()<u?(l=i.scrollHeight>i.offsetHeight||n(i).css("overflow-y")=="scroll"?u+t.oScroll.iBarWidth:u,b&&(i.scrollHeight>i.offsetHeight||n(i).css("overflow-y")=="scroll")&&(t.nTable.style.width=o(l-t.oScroll.iBarWidth)),i.style.width=o(l),h.parentNode.style.width=o(l),t.nTFoot!==null&&(w.parentNode.style.width=o(l)),t.oScroll.sX===""?p(t,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):t.oScroll.sXInner!==""&&p(t,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(i.style.width=o("100%"),h.parentNode.style.width=o("100%"),t.nTFoot!==null&&(w.parentNode.style.width=o("100%"))),t.oScroll.sY===""&&b&&(i.style.height=o(t.nTable.offsetHeight+t.oScroll.iBarWidth)),t.oScroll.sY!==""&&t.oScroll.bCollapse&&(i.style.height=o(t.oScroll.sY),ft=t.oScroll.sX!==""&&t.nTable.offsetWidth>i.offsetWidth?t.oScroll.iBarWidth:0,t.nTable.offsetHeight<i.offsetHeight&&(i.style.height=o(n(t.nTable).height()+ft))),d=n(t.nTable).outerWidth(),et.style.width=o(d),h.style.width=o(d),t.nTFoot!==null&&(w.style.width=o(t.nTable.offsetWidth),ot.style.width=o(t.nTable.offsetWidth)),(t.bSorted||t.bFiltered)&&(i.scrollTop=0)}function g(n,t,i){for(var u,e,r=0,f=t.length;r<f;r++)for(u=0,e=t[r].childNodes.length;u<e;u++)t[r].childNodes[u].nodeType==1&&(i?n(t[r].childNodes[u],i[r].childNodes[u]):n(t[r].childNodes[u]))}function br(n,t){if(!n||n===null||n==="")return 0;t||(t=i.getElementsByTagName("body")[0]);var u,r=i.createElement("div");return r.style.width=o(n),t.appendChild(r),u=r.offsetWidth,t.removeChild(r),u}function yi(t){for(var et=t.nTable.offsetWidth,d=0,s,nt=0,l=t.aoColumns.length,ot,f,y,tt=n("th",t.nTHead),p=t.nTable.getAttribute("width"),w,b,h,c,a,e,v,k,r=0;r<l;r++)t.aoColumns[r].bVisible&&(nt++,t.aoColumns[r].sWidth!==null&&(s=br(t.aoColumns[r].sWidthOrig,t.nTable.parentNode),s!==null&&(t.aoColumns[r].sWidth=o(s)),d++));if(l==tt.length&&d===0&&nt==l&&t.oScroll.sX===""&&t.oScroll.sY==="")for(r=0;r<t.aoColumns.length;r++)s=n(tt[r]).width(),s!==null&&(t.aoColumns[r].sWidth=o(s));else{var u=t.nTable.cloneNode(!1),rt=t.nTHead.cloneNode(!0),ut=i.createElement("tbody"),ft=i.createElement("tr"),st;for(u.removeAttribute("id"),u.appendChild(rt),t.nTFoot!==null&&(u.appendChild(t.nTFoot.cloneNode(!0)),g(function(n){n.style.width=""},u.getElementsByTagName("tr"))),u.appendChild(ut),ut.appendChild(ft),w=n("thead th",u),w.length===0&&(w=n("tbody tr:eq(0)>td",u)),b=it(t,rt),f=0,r=0;r<l;r++)h=t.aoColumns[r],h.bVisible&&h.sWidthOrig!==null&&h.sWidthOrig!==""?b[r-f].style.width=o(h.sWidthOrig):h.bVisible?b[r-f].style.width="":f++;for(r=0;r<l;r++)t.aoColumns[r].bVisible&&(c=dr(t,r),c!==null&&(c=c.cloneNode(!0),t.aoColumns[r].sContentPadding!==""&&(c.innerHTML+=t.aoColumns[r].sContentPadding),ft.appendChild(c)));if(a=t.nTable.parentNode,a.appendChild(u),t.oScroll.sX!==""&&t.oScroll.sXInner!==""?u.style.width=o(t.oScroll.sXInner):t.oScroll.sX!==""?(u.style.width="",n(u).width()<a.offsetWidth&&(u.style.width=o(a.offsetWidth))):t.oScroll.sY!==""?u.style.width=o(a.offsetWidth):p&&(u.style.width=o(p)),u.style.visibility="hidden",kr(t,u),e=n("tbody tr:eq(0)",u).children(),e.length===0&&(e=it(t,n("thead",u)[0])),t.oScroll.sX!==""){for(v=0,f=0,r=0;r<t.aoColumns.length;r++)t.aoColumns[r].bVisible&&(v+=t.aoColumns[r].sWidthOrig===null?n(e[f]).outerWidth():parseInt(t.aoColumns[r].sWidth.replace("px",""),10)+(n(e[f]).outerWidth()-n(e[f]).width()),f++);u.style.width=o(v),t.nTable.style.width=o(v)}for(f=0,r=0;r<t.aoColumns.length;r++)t.aoColumns[r].bVisible&&(y=n(e[f]).width(),y!==null&&y>0&&(t.aoColumns[r].sWidth=o(y)),f++);k=n(u).css("width"),t.nTable.style.width=k.indexOf("%")!==-1?k:o(n(u).outerWidth()),u.parentNode.removeChild(u)}p&&(t.nTable.style.width=o(p))}function kr(t,i){if(t.oScroll.sX===""&&t.oScroll.sY!==""){var r=n(i).width();i.style.width=o(n(i).outerWidth()-t.oScroll.iBarWidth)}else t.oScroll.sX!==""&&(i.style.width=o(n(i).outerWidth()))}function dr(n,t){var r=gr(n,t),u;return r<0?null:n.aoData[r].nTr===null?(u=i.createElement("td"),u.innerHTML=h(n,r,t,""),u):tt(n,r)[t]}function gr(n,t){for(var u=-1,f=-1,r,i=0;i<n.aoData.length;i++)r=h(n,i,t,"display")+"",r=r.replace(/<.*?>/g,""),r.length>u&&(u=r.length,f=i);return f}function o(n){if(n===null)return"0px";if(typeof n=="number")return n<0?"0px":n+"px";var t=n.charCodeAt(n.length-1);return t<48||t>57?n:n+"px"}function nu(){var r=i.createElement("p"),n=r.style,t,f,u;return n.width="100%",n.height="200px",n.padding="0px",t=i.createElement("div"),n=t.style,n.position="absolute",n.top="0px",n.left="0px",n.visibility="hidden",n.width="200px",n.height="150px",n.padding="0px",n.overflow="hidden",t.appendChild(r),i.body.appendChild(t),f=r.offsetWidth,t.style.overflow="scroll",u=r.offsetWidth,f==u&&(u=t.clientWidth),i.body.removeChild(t),f-u}function rt(t,i){var f,y,s,ot,a,st,p,v,e=[],it=[],rt=u.ext.oSort,b=t.aoData,o=t.aoColumns,tt=t.oLanguage.oAria,g,ht,ct,ut,ft,w,et,lt;if(!t.oFeatures.bServerSide&&(t.aaSorting.length!==0||t.aaSortingFixed!==null)){for(e=t.aaSortingFixed!==null?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),f=0;f<e.length;f++)if(g=e[f][0],ht=gt(t,g),p=t.aoColumns[g].sSortDataType,u.ext.afnSortData[p])for(ct=u.ext.afnSortData[p](t,g,ht),s=0,ot=b.length;s<ot;s++)k(t,s,g,ct[s]);for(f=0,y=t.aiDisplayMaster.length;f<y;f++)it[t.aiDisplayMaster[f]]=f;for(ut=e.length,f=0,y=b.length;f<y;f++)for(s=0;s<ut;s++)for(w=o[e[s][0]].aDataSort,a=0,st=w.length;a<st;a++)p=o[w[a]].sType,ft=rt[(p?p:"string")+"-pre"],b[f]._aSortData[w[a]]=ft?ft(h(t,f,w[a],"sort")):h(t,f,w[a],"sort");et=!1,t.aiDisplayMaster.sort(function(n,t){for(var i,h,f,r,s,u=0;u<ut;u++)for(r=o[e[u][0]].aDataSort,i=0,h=r.length;i<h;i++)if(s=o[r[i]].sType,f=rt[(s?s:"string")+"-"+e[u][1]](b[n]._aSortData[r[i]],b[t]._aSortData[r[i]]),f!==0)return et=!0,f;return rt["numeric-asc"](it[n],it[t])})}for((i===r||i)&&!t.oFeatures.bDeferRender&&nt(t),f=0,y=t.aoColumns.length;f<y;f++)v=o[f].nTh,v.removeAttribute("aria-sort"),v.removeAttribute("aria-label"),o[f].bSortable?e.length>0&&e[0][0]==f?(v.setAttribute("aria-sort",e[0][1]=="asc"?"ascending":"descending"),lt=o[f].asSorting[e[0][2]+1]?o[f].asSorting[e[0][2]+1]:o[f].asSorting[0],v.setAttribute("aria-label",o[f].sTitle+(lt=="asc"?tt.sSortAscending:tt.sSortDescending))):v.setAttribute("aria-label",o[f].sTitle+(o[f].asSorting[0]=="asc"?tt.sSortAscending:tt.sSortDescending)):v.setAttribute("aria-label",o[f].sTitle);et&&(t.bSorted=!0,n(t.oInstance).trigger("sort",t)),t.oFeatures.bFilter?d(t,t.oPreviousSearch,1):(t.aiDisplay=t.aiDisplayMaster.slice(),t._iDisplayStart=0,l(t),c(t))}function pi(n,t,i,r){uu(t,{},function(t){if(n.aoColumns[i].bSortable!==!1){var u=function(){var f,r,e,u;if(t.shiftKey||t.ctrlKey){for(e=!1,u=0;u<n.aaSorting.length;u++)if(n.aaSorting[u][0]==i){e=!0,f=n.aaSorting[u][0],r=n.aaSorting[u][2]+1,n.aoColumns[f].asSorting[r]?(n.aaSorting[u][1]=n.aoColumns[f].asSorting[r],n.aaSorting[u][2]=r):n.aaSorting.splice(u,1);break}e===!1&&n.aaSorting.push([i,n.aoColumns[i].asSorting[0],0])}else n.aaSorting.length==1&&n.aaSorting[0][0]==i?(f=n.aaSorting[0][0],r=n.aaSorting[0][2]+1,n.aoColumns[f].asSorting[r]||(r=0),n.aaSorting[0][1]=n.aoColumns[f].asSorting[r],n.aaSorting[0][2]=r):(n.aaSorting.splice(0,n.aaSorting.length),n.aaSorting.push([i,n.aoColumns[i].asSorting[0],0]));n.fnSortCallback==null&&rt(n)};n.oFeatures.bProcessing?(y(n,!0),setTimeout(function(){u(),n.oFeatures.bServerSide||y(n,!1)},0)):u(),typeof r=="function"&&r(n)}})}function nt(t){for(var p,r,s,c,h,f,e=t.aoColumns.length,o=t.oClasses,v,l,u,a,y,i=0;i<e;i++)t.aoColumns[i].bSortable&&n(t.aoColumns[i].nTh).removeClass(o.sSortAsc+" "+o.sSortDesc+" "+t.aoColumns[i].sSortingClass);for(h=t.aaSortingFixed!==null?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),i=0;i<t.aoColumns.length;i++)if(t.aoColumns[i].bSortable){for(f=t.aoColumns[i].sSortingClass,c=-1,r=0;r<h.length;r++)if(h[r][0]==i){f=h[r][1]=="asc"?o.sSortAsc:o.sSortDesc,c=r;break}n(t.aoColumns[i].nTh).addClass(f),t.bJUI&&(v=n("span."+o.sSortIcon,t.aoColumns[i].nTh),v.removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed),l=c==-1?t.aoColumns[i].sSortingClassJUI:h[c][1]=="asc"?o.sSortJUIAsc:o.sSortJUIDesc,v.addClass(l))}else n(t.aoColumns[i].nTh).addClass(t.aoColumns[i].sSortingClass);if(f=o.sSortColumn,t.oFeatures.bSort&&t.oFeatures.bSortClasses){if(u=tt(t),t.oFeatures.bDeferRender)n(u).removeClass(f+"1 "+f+"2 "+f+"3");else if(u.length>=e)for(i=0;i<e;i++)if(u[i].className.indexOf(f+"1")!=-1)for(r=0,s=u.length/e;r<s;r++)u[e*r+i].className=n.trim(u[e*r+i].className.replace(f+"1",""));else if(u[i].className.indexOf(f+"2")!=-1)for(r=0,s=u.length/e;r<s;r++)u[e*r+i].className=n.trim(u[e*r+i].className.replace(f+"2",""));else if(u[i].className.indexOf(f+"3")!=-1)for(r=0,s=u.length/e;r<s;r++)u[e*r+i].className=n.trim(u[e*r+i].className.replace(" "+f+"3",""));for(a=1,i=0;i<h.length;i++){for(y=parseInt(h[i][0],10),r=0,s=u.length/e;r<s;r++)u[e*r+y].className+=" "+f+a;a<3&&a++}}}function wi(t){if(t.oFeatures.bStateSave&&!t.bDestroying){for(var u=t.oScroll.bInfinite,r={iCreate:+new Date,iStart:u?0:t._iDisplayStart,iEnd:u?t._iDisplayLength:t._iDisplayEnd,iLength:t._iDisplayLength,aaSorting:n.extend(!0,[],t.aaSorting),oSearch:n.extend(!0,{},t.oPreviousSearch),aoSearchCols:n.extend(!0,[],t.aoPreSearchCols),abVisCols:[]},i=0,f=t.aoColumns.length;i<f;i++)r.abVisCols.push(t.aoColumns[i].bVisible);v(t,"aoStateSaveParams","stateSaveParams",[t,r]),t.fnStateSave.call(t.oInstance,t,r)}}function tu(t,i){var r,f,u;if(t.oFeatures.bStateSave&&(r=t.fnStateLoad.call(t.oInstance,t),r)&&(f=v(t,"aoStateLoadParams","stateLoadParams",[t,r]),n.inArray(!1,f)===-1)){for(t.oLoadedState=n.extend(!0,{},r),t._iDisplayStart=r.iStart,t.iInitDisplayStart=r.iStart,t._iDisplayEnd=r.iEnd,t._iDisplayLength=r.iLength,t.aaSorting=r.aaSorting.slice(),t.saved_aaSorting=r.aaSorting.slice(),n.extend(t.oPreviousSearch,r.oSearch),n.extend(!0,t.aoPreSearchCols,r.aoSearchCols),i.saved_aoColumns=[],u=0;u<r.abVisCols.length;u++)i.saved_aoColumns[u]={},i.saved_aoColumns[u].bVisible=r.abVisCols[u];v(t,"aoStateLoaded","stateLoaded",[t,r])}}function ou(r,u,f,e,o){var l=new Date,h,a,v,s,y,c,k,w;l.setTime(l.getTime()+f*1e3),h=t.location.pathname.split("/"),a=r+"_"+h.pop().replace(/[\/:]/g,"").toLowerCase(),o!==null?(s=typeof n.parseJSON=="function"?n.parseJSON(u):eval("("+u+")"),v=o(a,s,l.toGMTString(),h.join("/")+"/")):v=a+"="+encodeURIComponent(u)+"; expires="+l.toGMTString()+"; path="+h.join("/")+"/";var p="",b=9999999999999,d=iu(a)!==null?i.cookie.length:v.length+i.cookie.length;if(d+10>4096){for(y=i.cookie.split(";"),c=0,k=y.length;c<k;c++)if(y[c].indexOf(e)!=-1){w=y[c].split("=");try{s=eval("("+decodeURIComponent(w[1])+")")}catch(g){continue}s.iCreate&&s.iCreate<b&&(p=w[0],b=s.iCreate)}p!==""&&(i.cookie=p+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+h.join("/")+"/")}i.cookie=v}function iu(n){for(var f=t.location.pathname.split("/"),e=n+"_"+f[f.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",o=i.cookie.split(";"),r,u=0;u<o.length;u++){for(r=o[u];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return decodeURIComponent(r.substring(e.length,r.length))}return null}function s(n){for(var t=0;t<u.settings.length;t++)if(u.settings[t].nTable===n)return u.settings[t];return null}function st(n){for(var r=[],i=n.aoData,t=0,u=i.length;t<u;t++)i[t].nTr!==null&&r.push(i[t].nTr);return r}function tt(n,t){var o=[],s,h,f,v=n.aoData.length,i,e,u,c,l=0,a=v;for(t!==r&&(l=t,a=t+1),f=l;f<a;f++)if(u=n.aoData[f],u.nTr!==null){for(h=[],i=0,e=u.nTr.childNodes.length;i<e;i++)c=u.nTr.childNodes[i].nodeName.toLowerCase(),(c=="td"||c=="th")&&h.push(u.nTr.childNodes[i]);for(s=0,i=0,e=n.aoColumns.length;i<e;i++)n.aoColumns[i].bVisible?o.push(h[i-s]):(o.push(u._anHidden[i]),s++)}return o}function p(n,t,i){var f=n===null?"DataTables warning: "+i:"DataTables warning (table id = '"+n.sTableId+"'): "+i;if(t===0){if(u.ext.sErrMode=="alert")alert(f);else throw f;return}console!==r&&console.log&&console.log(f)}function e(n,t,i,u){u===r&&(u=i),t[i]!==r&&(n[u]=t[i])}function ru(t,i){for(var u in t)t.hasOwnProperty(u)&&i[u]!==r&&(typeof f[u]=="object"&&n.isArray(i[u])===!1?n.extend(!0,t[u],i[u]):t[u]=i[u]);return t}function uu(t,i,r){n(t).bind("click.DT",i,function(n){r(n),t.blur()}).bind("keypress.DT",i,function(n){n.which===13&&r(n)}).bind("selectstart.DT",function(){return!1})}function a(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function v(t,i,r,u){for(var e=t[i],o=[],f=e.length-1;f>=0;f--)o.push(e[f].fn.apply(t.oInstance,u));return r!==null&&n(t.oInstance).trigger(r,u),o}function eu(n){return function(){var t=[s(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.oApi[n].apply(this,t)}}var fu=t.JSON?JSON.stringify:function(t){var r=typeof t,f,i,e,u;if(r!=="object"||t===null)return r==="string"&&(t='"'+t+'"'),t+"";e=[],u=n.isArray(t);for(f in t)i=t[f],r=typeof i,r==="string"?i='"'+i+'"':r==="object"&&i!==null&&(i=fu(i)),e.push((u?"":'"'+f+'":')+i);return(u?"[":"{")+e+(u?"]":"}")},wt,bt;this.$=function(t,i){var r,e,o=[],f=s(this[u.ext.iApiIndex]);if(i||(i={}),i=n.extend({},{filter:"none",order:"current",page:"all"},i),i.page=="current")for(r=f._iDisplayStart,e=f.fnDisplayEnd();r<e;r++)o.push(f.aoData[f.aiDisplay[r]].nTr);else if(i.order=="current"&&i.filter=="none")for(r=0,e=f.aiDisplayMaster.length;r<e;r++)o.push(f.aoData[f.aiDisplayMaster[r]].nTr);else if(i.order=="current"&&i.filter=="applied")for(r=0,e=f.aiDisplay.length;r<e;r++)o.push(f.aoData[f.aiDisplay[r]].nTr);else if(i.order=="original"&&i.filter=="none")for(r=0,e=f.aoData.length;r<e;r++)o.push(f.aoData[r].nTr);else if(i.order=="original"&&i.filter=="applied")for(r=0,e=f.aoData.length;r<e;r++)n.inArray(r,f.aiDisplay)!==-1&&o.push(f.aoData[r].nTr);else p(f,1,"Unknown selection options");var h=n(o),c=h.filter(t),l=h.find(t);return n([].concat(n.makeArray(c),n.makeArray(l)))},this._=function(n,t){for(var r=[],e,u=this.$(n,t),i=0,f=u.length;i<f;i++)r.push(this.fnGetData(u[i]));return r},this.fnAddData=function(n,t){var i,f,e,o;if(n.length===0)return[];if(i=[],e=s(this[u.ext.iApiIndex]),typeof n[0]=="object"&&n[0]!==null)for(o=0;o<n.length;o++){if(f=w(e,n[o]),f==-1)return i;i.push(f)}else{if(f=w(e,n),f==-1)return i;i.push(f)}return e.aiDisplay=e.aiDisplayMaster.slice(),(t===r||t)&&vt(e),i},this.fnAdjustColumnSizing=function(n){var t=s(this[u.ext.iApiIndex]);ht(t),n===r||n?this.fnDraw(!1):(t.oScroll.sX!==""||t.oScroll.sY!=="")&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(n){var t=s(this[u.ext.iApiIndex]);ri(t),(n===r||n)&&c(t)},this.fnSetSort=function(n){var i=s(this[u.ext.iApiIndex]),t;for(i.aaSorting=[],t=0,t=0;t<n.length;t++)i.aaSorting.push([n[t][0],n[t][1]==0?"asc":"desc",n[t][1]]);nt(i)},this.fnClose=function(n){for(var i=s(this[u.ext.iApiIndex]),r,t=0;t<i.aoOpenRows.length;t++)if(i.aoOpenRows[t].nParent==n)return r=i.aoOpenRows[t].nTr.parentNode,r&&r.removeChild(i.aoOpenRows[t].nTr),i.aoOpenRows.splice(t,1),0;return 1},this.fnDeleteRow=function(t,i,f){var e=s(this[u.ext.iApiIndex]),o,v,h,a,y;for(h=typeof t=="object"?b(e,t):t,a=e.aoData.splice(h,1),o=0,v=e.aoData.length;o<v;o++)e.aoData[o].nTr!==null&&(e.aoData[o].nTr._DT_RowIndex=o);return y=n.inArray(h,e.aiDisplay),e.asDataSearch.splice(y,1),ui(e.aiDisplayMaster,h),ui(e.aiDisplay,h),typeof i=="function"&&i.call(this,e,a),e._iDisplayStart>=e.aiDisplay.length&&(e._iDisplayStart-=e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),(f===r||f)&&(l(e),c(e)),a},this.fnDestroy=function(t){var i=s(this[u.ext.iApiIndex]),c=i.nTableWrapper.parentNode,h=i.nTBody,f,e;for(t=t===r?!1:!0,i.bDestroying=!0,f=0,e=i.aoDestroyCallback.length;f<e;f++)i.aoDestroyCallback[f].fn();for(f=0,e=i.aoColumns.length;f<e;f++)i.aoColumns[f].bVisible===!1&&this.fnSetColumnVis(f,!0);for(n(i.nTableWrapper).find("*").andSelf().unbind(".DT"),n("tbody>tr>td."+i.oClasses.sRowEmpty,i.nTable).parent().remove(),i.nTable!=i.nTHead.parentNode&&(n(i.nTable).children("thead").remove(),i.nTable.appendChild(i.nTHead)),i.nTFoot&&i.nTable!=i.nTFoot.parentNode&&(n(i.nTable).children("tfoot").remove(),i.nTable.appendChild(i.nTFoot)),i.nTable.parentNode.removeChild(i.nTable),n(i.nTableWrapper).remove(),i.aaSorting=[],i.aaSortingFixed=[],nt(i),n(st(i)).removeClass(i.asStripeClasses.join(" ")),n("th, td",i.nTHead).removeClass([i.oClasses.sSortable,i.oClasses.sSortableAsc,i.oClasses.sSortableDesc,i.oClasses.sSortableNone].join(" ")),i.bJUI&&(n("th span."+i.oClasses.sSortIcon+", td span."+i.oClasses.sSortIcon,i.nTHead).remove(),n("th, td",i.nTHead).each(function(){var t=n("div."+i.oClasses.sSortJUIWrapper,this),r=t.contents();n(this).append(r),t.remove()})),!t&&i.nTableReinsertBefore?c.insertBefore(i.nTable,i.nTableReinsertBefore):t||c.appendChild(i.nTable),f=0,e=i.aoData.length;f<e;f++)i.aoData[f].nTr!==null&&h.appendChild(i.aoData[f].nTr);for(i.oFeatures.bAutoWidth===!0&&(i.nTable.style.width=o(i.sDestroyWidth)),n(h).children("tr:even").addClass(i.asDestroyStripes[0]),n(h).children("tr:odd").addClass(i.asDestroyStripes[1]),f=0,e=u.settings.length;f<e;f++)u.settings[f]==i&&u.settings.splice(f,1);i=null},this.fnDraw=function(n){var t=s(this[u.ext.iApiIndex]);n?(l(t),c(t)):vt(t)},this.fnFilter=function(t,i,f,e,o,h){var c=s(this[u.ext.iApiIndex]),a,l,v;if(c.oFeatures.bFilter)if((f===r||f===null)&&(f=!1),(e===r||e===null)&&(e=!0),(o===r||o===null)&&(o=!0),(h===r||h===null)&&(h=!0),i===r||i===null){if(d(c,{sSearch:t+"",bRegex:f,bSmart:e,bCaseInsensitive:h},1),o&&c.aanFeatures.f)for(a=c.aanFeatures.f,l=0,v=a.length;l<v;l++)n("input",a[l]).val(t)}else n.extend(c.aoPreSearchCols[i],{sSearch:t+"",bRegex:f,bSmart:e,bCaseInsensitive:h}),d(c,c.oPreviousSearch,1)},this.fnGetData=function(n,t){var i=s(this[u.ext.iApiIndex]),f,e;return n!==r?(f=n,typeof n=="object"&&(e=n.nodeName.toLowerCase(),e==="tr"?f=b(i,n):e==="td"&&(f=b(i,n.parentNode),t=ii(i,f,n))),t!==r)?h(i,f,t,""):i.aoData[f]!==r?i.aoData[f]._aData:null:at(i)},this.fnGetNodes=function(n){var t=s(this[u.ext.iApiIndex]);return n!==r?t.aoData[n]!==r?t.aoData[n].nTr:null:st(t)},this.fnGetPosition=function(n){var t=s(this[u.ext.iApiIndex]),i=n.nodeName.toUpperCase(),r,f;return i=="TR"?b(t,n):i=="TD"||i=="TH"?(r=b(t,n.parentNode),f=ii(t,r,n),[r,gt(t,f),f]):null},this.fnIsOpen=function(n){for(var i=s(this[u.ext.iApiIndex]),r=i.aoOpenRows,t=0;t<i.aoOpenRows.length;t++)if(i.aoOpenRows[t].nParent==n)return!0;return!1},this.fnOpen=function(t,r,f){var h=s(this[u.ext.iApiIndex]),l=st(h),o,e,c;if(n.inArray(t,l)!==-1)return this.fnClose(t),o=i.createElement("tr"),e=i.createElement("td"),o.appendChild(e),e.className=f,e.colSpan=ut(h),typeof r=="string"?e.innerHTML=r:n(e).html(r),c=n("tr",h.nTBody),n.inArray(t,c)!=-1&&n(o).insertAfter(t),h.aoOpenRows.push({nTr:o,nParent:t}),o},this.fnPageChange=function(n,t){var i=s(this[u.ext.iApiIndex]);vi(i,n),l(i),(t===r||t)&&c(i)},this.fnSetColumnVis=function(n,t,i){var e=s(this[u.ext.iApiIndex]),f,h,l=e.aoColumns,o=e.aoData,a,w,b,k,v,p,y;if(l[n].bVisible!=t){if(t){for(y=0,f=0;f<n;f++)l[f].bVisible&&y++;if(v=y>=ut(e),!v)for(f=n;f<l.length;f++)if(l[f].bVisible){p=f;break}for(f=0,h=o.length;f<h;f++)o[f].nTr!==null&&(v?o[f].nTr.appendChild(o[f]._anHidden[n]):o[f].nTr.insertBefore(o[f]._anHidden[n],tt(e,f)[p]))}else for(f=0,h=o.length;f<h;f++)o[f].nTr!==null&&(a=tt(e,f)[n],o[f]._anHidden[n]=a,a.parentNode.removeChild(a));for(l[n].bVisible=t,et(e,e.aoHeader),e.nTFoot&&et(e,e.aoFooter),f=0,h=e.aoOpenRows.length;f<h;f++)e.aoOpenRows[f].nTr.colSpan=ut(e);(i===r||i)&&(ht(e),c(e)),wi(e)}},this.fnSettings=function(){return s(this[u.ext.iApiIndex])},this.fnSort=function(n){var t=s(this[u.ext.iApiIndex]);t.aaSorting=n,rt(t)},this.fnSortListener=function(n,t,i){pi(s(this[u.ext.iApiIndex]),n,t,i)},this.fnUpdate=function(t,i,f,e,o){var c=s(this[u.ext.iApiIndex]),w,a,d,v,l=typeof i=="object"?b(c,i):i,y,p;if(c.__fnUpdateDeep===r&&n.isArray(t)&&typeof t=="object"){for(c.aoData[l]._aData=t.slice(),c.__fnUpdateDeep=!0,a=0;a<c.aoColumns.length;a++)this.fnUpdate(h(c,l,a),l,a,!1,!1);c.__fnUpdateDeep=r}else if(c.__fnUpdateDeep===r&&t!==null&&typeof t=="object"){for(c.aoData[l]._aData=n.extend(!0,{},t),c.__fnUpdateDeep=!0,a=0;a<c.aoColumns.length;a++)this.fnUpdate(h(c,l,a),l,a,!1,!1);c.__fnUpdateDeep=r}else k(c,l,f,t),v=h(c,l,f,"display"),y=c.aoColumns[f],y.fnRender!==null&&(v=ft(c,l,f),y.bUseRendered&&k(c,l,f,v)),c.aoData[l].nTr!==null&&(tt(c,l)[f].innerHTML=v);return p=n.inArray(l,c.aiDisplay),c.asDataSearch[p]=si(c,ct(c,l,"filter")),(o===r||o)&&ht(c),(e===r||e)&&vt(c),0},this.fnVersionCheck=u.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:eu,_fnInitialise:yt,_fnInitComplete:pt,_fnLanguageCompat:ai,_fnAddColumn:kt,_fnColumnOptions:dt,_fnAddData:w,_fnCreateTr:fi,_fnGatherData:gi,_fnBuildHead:tr,_fnDrawHead:et,_fnDraw:c,_fnReDraw:vt,_fnAjaxUpdate:rr,_fnAjaxParameters:ur,_fnAjaxUpdateDraw:fr,_fnServerParams:ei,_fnAddOptionsHtml:ir,_fnFeatureHtmlTable:pr,_fnScrollDraw:wr,_fnAdjustColumnSizing:ht,_fnFeatureHtmlFilter:er,_fnFilterComplete:d,_fnFilterCustom:or,_fnFilterColumn:sr,_fnFilter:hr,_fnBuildSearchArray:oi,_fnBuildSearchRow:si,_fnFilterCreateSearch:hi,_fnDataToSearch:ci,_fnSort:rt,_fnSortAttachListener:pi,_fnSortingClasses:nt,_fnFeatureHtmlPaginate:vr,_fnPageChange:vi,_fnFeatureHtmlInfo:cr,_fnUpdateInfo:lr,_fnFeatureHtmlLength:ar,_fnFeatureHtmlProcessing:yr,_fnProcessingDisplay:y,_fnVisibleToColumnIndex:bi,_fnColumnIndexToVisible:gt,_fnNodeToDataIndex:b,_fnVisbleColumns:ut,_fnCalculateEnd:l,_fnConvertToWidth:br,_fnCalculateColumnWidths:yi,_fnScrollingWidthAdjust:kr,_fnGetWidestNode:dr,_fnGetMaxLenString:gr,_fnStringToCss:o,_fnDetectType:ni,_fnSettingsFromNode:s,_fnGetDataMaster:at,_fnGetTrNodes:st,_fnGetTdNodes:tt,_fnEscapeRegex:li,_fnDeleteIndex:ui,_fnReOrderIndex:ki,_fnColumnOrdering:ti,_fnLog:p,_fnClearTable:ri,_fnSaveState:wi,_fnLoadState:tu,_fnCreateCookie:ou,_fnReadCookie:iu,_fnDetectHeader:ot,_fnGetUniqueThs:it,_fnScrollBarWidth:nu,_fnApplyToChildren:g,_fnMap:e,_fnGetRowData:ct,_fnGetCellData:h,_fnSetCellData:k,_fnGetObjectDataFn:lt,_fnSetObjectDataFn:nr,_fnApplyColumnDefs:di,_fnBindAction:uu,_fnExtend:ru,_fnCallbackReg:a,_fnCallbackFire:v,_fnJsonString:fu,_fnRender:ft,_fnNodeToColumnIndex:ii},n.extend(u.ext.oApi,this.oApi);for(wt in u.ext.oApi)wt&&(this[wt]=eu(wt));return bt=this,this.each(function(){var o=0,s,l,ut,st,ht,v=this.getAttribute("id"),ft=!1,et=!1,t,g,c,y,h,tt,d,b,k,rt;if(this.nodeName.toLowerCase()!="table"){p(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}for(o=0,s=u.settings.length;o<s;o++){if(u.settings[o].nTable==this){if(f===r||f.bRetrieve)return u.settings[o].oInstance;if(f.bDestroy){u.settings[o].oInstance.fnDestroy();break}else{p(u.settings[o],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(u.settings[o].sTableId==this.id){u.settings.splice(o,1);break}}for(v===null&&(v="DataTables_Table_"+u.ext._oExternConfig.iNextUnique++,this.id=v),t=n.extend(!0,{},u.models.oSettings,{nTable:this,oApi:bt.oApi,oInit:f,sDestroyWidth:n(this).width(),sInstance:v,sTableId:v}),u.settings.push(t),t.oInstance=bt.length===1?bt:n(this).dataTable(),f||(f={}),f.oLanguage&&ai(f.oLanguage),f=ru(n.extend(!0,{},u.defaults),f),e(t.oFeatures,f,"bPaginate"),e(t.oFeatures,f,"bLengthChange"),e(t.oFeatures,f,"bFilter"),e(t.oFeatures,f,"bSort"),e(t.oFeatures,f,"bInfo"),e(t.oFeatures,f,"bProcessing"),e(t.oFeatures,f,"bAutoWidth"),e(t.oFeatures,f,"bSortClasses"),e(t.oFeatures,f,"bServerSide"),e(t.oFeatures,f,"bDeferRender"),e(t.oScroll,f,"sScrollX","sX"),e(t.oScroll,f,"sScrollXInner","sXInner"),e(t.oScroll,f,"sScrollY","sY"),e(t.oScroll,f,"bScrollCollapse","bCollapse"),e(t.oScroll,f,"bScrollInfinite","bInfinite"),e(t.oScroll,f,"iScrollLoadGap","iLoadGap"),e(t.oScroll,f,"bScrollAutoCss","bAutoCss"),e(t,f,"asStripClasses","asStripeClasses"),e(t,f,"asStripeClasses"),e(t,f,"fnServerData"),e(t,f,"fnFormatNumber"),e(t,f,"sServerMethod"),e(t,f,"aaSorting"),e(t,f,"aaSortingFixed"),e(t,f,"aLengthMenu"),e(t,f,"sPaginationType"),e(t,f,"sAjaxSource"),e(t,f,"sAjaxDataProp"),e(t,f,"iCookieDuration"),e(t,f,"sCookiePrefix"),e(t,f,"sDom"),e(t,f,"bSortCellsTop"),e(t,f,"iTabIndex"),e(t,f,"oSearch","oPreviousSearch"),e(t,f,"aoSearchCols","aoPreSearchCols"),e(t,f,"iDisplayLength","_iDisplayLength"),e(t,f,"bJQueryUI","bJUI"),e(t,f,"fnCookieCallback"),e(t,f,"fnStateLoad"),e(t,f,"fnStateSave"),e(t.oLanguage,f,"fnInfoCallback"),e(t,f,"fnSortCallback"),a(t,"aoDrawCallback",f.fnDrawCallback,"user"),a(t,"aoServerParams",f.fnServerParams,"user"),a(t,"aoStateSaveParams",f.fnStateSaveParams,"user"),a(t,"aoStateLoadParams",f.fnStateLoadParams,"user"),a(t,"aoStateLoaded",f.fnStateLoaded,"user"),a(t,"aoRowCallback",f.fnRowCallback,"user"),a(t,"aoRowCreatedCallback",f.fnCreatedRow,"user"),a(t,"aoHeaderCallback",f.fnHeaderCallback,"user"),a(t,"aoFooterCallback",f.fnFooterCallback,"user"),a(t,"aoInitComplete",f.fnInitComplete,"user"),a(t,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),t.oFeatures.bServerSide&&t.oFeatures.bSort&&t.oFeatures.bSortClasses?a(t,"aoDrawCallback",nt,"server_side_sort_classes"):t.oFeatures.bDeferRender&&a(t,"aoDrawCallback",nt,"defer_sort_classes"),f.bJQueryUI?(n.extend(t.oClasses,u.ext.oJUIClasses),f.sDom===u.defaults.sDom&&u.defaults.sDom==="lfrtip"&&(t.sDom='<"H"lfr>t<"F"ip>')):n.extend(t.oClasses,u.ext.oStdClasses),n(this).addClass(t.oClasses.sTable),(t.oScroll.sX!==""||t.oScroll.sY!=="")&&(t.oScroll.iBarWidth=nu()),t.iInitDisplayStart===r&&(t.iInitDisplayStart=f.iDisplayStart,t._iDisplayStart=f.iDisplayStart),f.bStateSave&&(t.oFeatures.bStateSave=!0,tu(t,f),a(t,"aoDrawCallback",wi,"state_save")),f.iDeferLoading!==null&&(t.bDeferLoading=!0,t._iRecordsTotal=f.iDeferLoading,t._iRecordsDisplay=f.iDeferLoading),f.aaData!==null&&(et=!0),f.oLanguage.sUrl!==""?(t.oLanguage.sUrl=f.oLanguage.sUrl,n.getJSON(t.oLanguage.sUrl,null,function(i){ai(i),n.extend(!0,t.oLanguage,f.oLanguage,i),yt(t)}),ft=!0):n.extend(!0,t.oLanguage,f.oLanguage),g=!1,c=n(this).children("tbody").children("tr"),o=0,s=t.asStripeClasses.length;o<s;o++)if(c.filter(":lt(2)").hasClass(t.asStripeClasses[o])){g=!0;break}if(g&&(t.asDestroyStripes=["",""],n(c[0]).hasClass(t.oClasses.sStripeOdd)&&(t.asDestroyStripes[0]+=t.oClasses.sStripeOdd+" "),n(c[0]).hasClass(t.oClasses.sStripeEven)&&(t.asDestroyStripes[0]+=t.oClasses.sStripeEven),n(c[1]).hasClass(t.oClasses.sStripeOdd)&&(t.asDestroyStripes[1]+=t.oClasses.sStripeOdd+" "),n(c[1]).hasClass(t.oClasses.sStripeEven)&&(t.asDestroyStripes[1]+=t.oClasses.sStripeEven),c.removeClass(t.asStripeClasses.join(" "))),y=[],tt=this.getElementsByTagName("thead"),tt.length!==0&&(ot(t.aoHeader,tt[0]),y=it(t)),f.aoColumns===null)for(h=[],o=0,s=y.length;o<s;o++)h.push(null);else h=f.aoColumns;for(o=0,s=h.length;o<s;o++)f.saved_aoColumns!==r&&f.saved_aoColumns.length==s&&(h[o]===null&&(h[o]={}),h[o].bVisible=f.saved_aoColumns[o].bVisible),kt(t,y?y[o]:null);for(di(t,f.aoColumnDefs,h,function(n,i){dt(t,n,i)}),o=0,s=t.aaSorting.length;o<s;o++)for(t.aaSorting[o][0]>=t.aoColumns.length&&(t.aaSorting[o][0]=0),d=t.aoColumns[t.aaSorting[o][0]],t.aaSorting[o][2]===r&&(t.aaSorting[o][2]=0),f.aaSorting===r&&t.saved_aaSorting===r&&(t.aaSorting[o][1]=d.asSorting[0]),l=0,ut=d.asSorting.length;l<ut;l++)if(t.aaSorting[o][1]==d.asSorting[l]){t.aaSorting[o][2]=l;break}if(nt(t),b=n(this).children("thead"),b.length===0&&(b=[i.createElement("thead")],this.appendChild(b[0])),t.nTHead=b[0],k=n(this).children("tbody"),k.length===0&&(k=[i.createElement("tbody")],this.appendChild(k[0])),t.nTBody=k[0],t.nTBody.setAttribute("role","alert"),t.nTBody.setAttribute("aria-live","polite"),t.nTBody.setAttribute("aria-relevant","all"),rt=n(this).children("tfoot"),rt.length>0&&(t.nTFoot=rt[0],ot(t.aoFooter,t.nTFoot)),et)for(o=0;o<f.aaData.length;o++)w(t,f.aaData[o]);else gi(t);t.aiDisplay=t.aiDisplayMaster.slice(),t.bInitialised=!0,ft===!1&&yt(t)})};u.version="1.9.0",u.settings=[],u.models={},u.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:function(n){for(var i=function(n,t){while(n.length<t)n+="0";return n},s=u.ext.sVersion.split("."),r=n.split("."),f="",e="",t=0,o=r.length;t<o;t++)f+=i(s[t],3),e+=i(r[t],3);return parseInt(f,10)>=parseInt(e,10)},iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:u.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},u.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},u.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mDataProp:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:["odd","even"],bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){var t;if(n<1e3)return n;var r=n+"",f=r.split(""),i="",u=r.length;for(t=0;t<u;t++)t%3==0&&t!==0&&(i=this.oLanguage.sInfoThousands+i),i=f[u-t-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(t,i,r,u){u.jqXHR=n.ajax({url:t,data:i,success:function(t){n(u.oInstance).trigger("xhr",u),r(t)},dataType:"json",cache:!1,type:u.sServerMethod,error:function(n,t){t=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(t){var r=this.oApi._fnReadCookie(t.sCookiePrefix+t.sInstance),i;try{i=typeof n.parseJSON=="function"?n.parseJSON(r):eval("("+r+")")}catch(u){i=null}return i},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(n,t){this.oApi._fnCreateCookie(n.sCookiePrefix+n.sInstance,this.oApi._fnJsonString(t),n.iCookieDuration,n.sCookiePrefix,n.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching entries found"},oSearch:n.extend({},u.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",fnSortCallback:null},u.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mDataProp:null,sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0},u.ext=n.extend(!0,{},u.models.ext),n.extend(u.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""}),n.extend(u.ext.oJUIClasses,u.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default"}),n.extend(u.ext.oPagination,{two_button:{fnInit:function(t,i,r){var e=t.oLanguage.oPaginate,c=t.oClasses,o=function(n){t.oApi._fnPageChange(t,n.data.action)&&r(t)},h=t.bJUI?'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUIPrev+'"><\/span><\/a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUINext+'"><\/span><\/a>':'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+e.sPrevious+'<\/a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+e.sNext+"<\/a>";n(i).append(h);var s=n("a",i),u=s[0],f=s[1];t.oApi._fnBindAction(u,{action:"previous"},o),t.oApi._fnBindAction(f,{action:"next"},o),t.aanFeatures.p||(i.id=t.sTableId+"_paginate",u.id=t.sTableId+"_previous",f.id=t.sTableId+"_next",u.setAttribute("aria-controls",t.sTableId),f.setAttribute("aria-controls",t.sTableId))},fnUpdate:function(n){var r,u,i,f;if(n.aanFeatures.p)for(r=n.oClasses,u=n.aanFeatures.p,i=0,f=u.length;i<f;i++)u[i].childNodes.length!==0&&(u[i].childNodes[0].className=n._iDisplayStart===0?r.sPagePrevDisabled:r.sPagePrevEnabled,u[i].childNodes[1].className=n.fnDisplayEnd()==n.fnRecordsDisplay()?r.sPageNextDisabled:r.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(t,i,r){var f=t.oLanguage.oPaginate,u=t.oClasses,e=function(n){t.oApi._fnPageChange(t,n.data.action)&&r(t)};n(i).append('<a  tabindex="'+t.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageFirst+'">'+f.sFirst+'<\/a><a  tabindex="'+t.iTabIndex+'" class="'+u.sPageButton+" "+u.sPagePrevious+'">'+f.sPrevious+'<\/a><span><\/span><a tabindex="'+t.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageNext+'">'+f.sNext+'<\/a><a tabindex="'+t.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageLast+'">'+f.sLast+"<\/a>");var o=n("a",i),s=o[0],h=o[1],c=o[2],l=o[3];t.oApi._fnBindAction(s,{action:"first"},e),t.oApi._fnBindAction(h,{action:"previous"},e),t.oApi._fnBindAction(c,{action:"next"},e),t.oApi._fnBindAction(l,{action:"last"},e),t.aanFeatures.p||(i.id=t.sTableId+"_paginate",s.id=t.sTableId+"_first",h.id=t.sTableId+"_previous",c.id=t.sTableId+"_next",l.id=t.sTableId+"_last")},fnUpdate:function(t,i){if(t.aanFeatures.p){var h=u.ext.oPagination.iFullNumbersShowPages,y=Math.floor(h/2),e=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),c=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,p="",o,a,r,w,f=t.oClasses,s,l,k,v=t.aanFeatures.p,b=function(n){t.oApi._fnBindAction(this,{page:n+o-1},function(n){t.oApi._fnPageChange(t,n.data.page),i(t),n.preventDefault()})};for(e<h?(o=1,a=e):c<=y?(o=1,a=h):c>=e-y?(o=e-h+1,a=e):(o=c-Math.ceil(h/2)+1,a=o+h-1),r=o;r<=a;r++)p+=c!==r?'<a tabindex="'+t.iTabIndex+'" class="'+f.sPageButton+'">'+t.fnFormatNumber(r)+"<\/a>":'<a tabindex="'+t.iTabIndex+'" class="'+f.sPageButtonActive+'">'+t.fnFormatNumber(r)+"<\/a>";for(r=0,w=v.length;r<w;r++)v[r].childNodes.length!==0&&(n("span:eq(0)",n(v[r])).html(p).children("a").each(b),s=v[r].getElementsByTagName("a"),l=[s[0],s[1],s[s.length-2],s[s.length-1]],n(l).removeClass(f.sPageButton+" "+f.sPageButtonActive+" "+f.sPageButtonStaticDisabled),n([l[0],l[1]]).addClass(c==1?f.sPageButtonStaticDisabled:f.sPageButton),n([l[2],l[3]]).addClass(e===0||c===e||t._iDisplayLength===-1?f.sPageButtonStaticDisabled:f.sPageButton))}}}}),n.extend(u.ext.oSort,{"string-pre":function(n){return typeof n!="string"&&(n=""),n.toLowerCase()},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0},"html-pre":function(n){return n.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(n,t){return n<t?-1:n>t?1:0},"html-desc":function(n,t){return n<t?1:n>t?-1:0},"date-pre":function(n){var t=Date.parse(n);return(isNaN(t)||t==="")&&(t=Date.parse("01/01/1970 00:00:00")),t},"date-asc":function(n,t){return n-t},"date-desc":function(n,t){return t-n},"numeric-pre":function(n){return n=="-"||n===""?0:n*1},"numeric-asc":function(n,t){return n-t},"numeric-desc":function(n,t){return t-n}}),n.extend(u.ext.aTypes,[function(n){var i;if(typeof n=="number")return"numeric";if(typeof n!="string")return null;var u="0123456789-",f="0123456789.",t,r=!1;if(t=n.charAt(0),u.indexOf(t)==-1)return null;for(i=1;i<n.length;i++){if(t=n.charAt(i),f.indexOf(t)==-1)return null;if(t=="."){if(r)return null;r=!0}}return"numeric"},function(n){var t=Date.parse(n);return t!==null&&!isNaN(t)||typeof n=="string"&&n.length===0?"date":null},function(n){return typeof n=="string"&&n.indexOf("<")!=-1&&n.indexOf(">")!=-1?"html":null}]),n.fn.DataTable=u,n.fn.dataTable=u,n.fn.dataTableSettings=u.settings,n.fn.dataTableExt=u.ext})(jQuery,window,document,undefined);(function(n,t,i){function u(n){for(var i=[],t=0,r=n.length;t<r;t++)i[n[t]]=t;return i}function r(n,t,i){var r=n.splice(t,1)[0];n.splice(i,0,r)}function f(n,t,i){for(var u=[],f,r=0,e=n.childNodes.length;r<e;r++)n.childNodes[r].nodeType==1&&u.push(n.childNodes[r]);f=u[t],i!==null?n.insertBefore(f,u[i]):n.appendChild(f)}n.fn.dataTableExt.oApi.fnColReorder=function(t,i,e){var o,s,w,b,c=t.aoColumns.length,l,h,y,v,p,a;if(i!=e){if(i<0||i>=c){this.oApi._fnLog(t,1,"ColReorder 'from' index is out of bounds: "+i);return}if(e<0||e>=c){this.oApi._fnLog(t,1,"ColReorder 'to' index is out of bounds: "+e);return}for(y=[],o=0,s=c;o<s;o++)y[o]=o;for(r(y,i,e),v=u(y),o=0,s=t.aaSorting.length;o<s;o++)t.aaSorting[o][0]=v[t.aaSorting[o][0]];if(t.aaSortingFixed!==null)for(o=0,s=t.aaSortingFixed.length;o<s;o++)t.aaSortingFixed[o][0]=v[t.aaSortingFixed[o][0]];for(o=0,s=c;o<s;o++)t.aoColumns[o].iDataSort=v[t.aoColumns[o].iDataSort];for(o=0,s=c;o<s;o++)h=t.aoColumns[o],typeof h.mDataProp=="number"&&(h.mDataProp=v[h.mDataProp],h.fnGetData=t.oApi._fnGetObjectDataFn(h.mDataProp),h.fnSetData=t.oApi._fnSetObjectDataFn(h.mDataProp));if(t.aoColumns[i].bVisible){for(p=this.oApi._fnColumnIndexToVisible(t,i),a=null,o=e<i?e:e+1;a===null&&o<c;)a=this.oApi._fnColumnIndexToVisible(t,o),o++;for(l=t.nTHead.getElementsByTagName("tr"),o=0,s=l.length;o<s;o++)f(l[o],p,a);if(t.nTFoot!==null)for(l=t.nTFoot.getElementsByTagName("tr"),o=0,s=l.length;o<s;o++)f(l[o],p,a);for(o=0,s=t.aoData.length;o<s;o++)f(t.aoData[o].nTr,p,a)}for(r(t.aoColumns,i,e),r(t.aoPreSearchCols,i,e),o=0,s=t.aoData.length;o<s;o++)n.isArray(t.aoData[o]._aData)&&r(t.aoData[o]._aData,i,e),r(t.aoData[o]._anHidden,i,e);for(o=0,s=t.aoHeader.length;o<s;o++)r(t.aoHeader[o],i,e);if(t.aoFooter!==null)for(o=0,s=t.aoFooter.length;o<s;o++)r(t.aoFooter[o],i,e);typeof ColVis!="undefined"&&ColVis.fnRebuild(t.oInstance),typeof t.oInstance._oPluginFixedHeader!="undefined"&&t.oInstance._oPluginFixedHeader.fnUpdate()}},ColReorder=function(n,t){return this.CLASS&&this.CLASS=="ColReorder"||alert("Warning: ColReorder must be initialised with the keyword 'new'"),typeof t=="undefined"&&(t={}),this.s={dt:null,init:t,fixed:0,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,resize:null,pointer:null},this.s.dt=n.fnSettings(),this._fnConstruct(),ColReorder.aoInstances.push(this),this},ColReorder.prototype={fnReset:function(){for(var t=[],n=0,i=this.s.dt.aoColumns.length;n<i;n++)t.push(this.s.dt.aoColumns[n]._ColReorder_iOrigCol);this._fnOrderColumns(t)},_fnConstruct:function(){var n=this,t,f,i,r,e;for(typeof this.s.init.iFixedColumns!="undefined"&&(this.s.fixed=this.s.init.iFixedColumns),t=0,f=this.s.dt.aoColumns.length;t<f;t++)t>this.s.fixed-1&&this._fnMouseListener(t,this.s.dt.aoColumns[t].nTh),this.s.dt.aoColumns[t]._ColReorder_iOrigCol=t;this.s.dt.aoStateSave.push({fn:function(t,i){return n._fnStateSave.call(n,i)},sName:"ColReorder_State"}),i=null,typeof this.s.init.aiOrder!="undefined"&&(i=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&typeof this.s.dt.oLoadedState.ColReorder!="undefined"&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(i=this.s.dt.oLoadedState.ColReorder),i&&(n.s.dt._bInitComplete?(e=u(i),n._fnOrderColumns.call(n,e)):(r=!1,this.s.dt.aoDrawCallback.push({fn:function(){if(!n.s.dt._bInitComplete&&!r){r=!0;var t=u(i);n._fnOrderColumns.call(n,t)}},sName:"ColReorder_Pre"})))},_fnOrderColumns:function(t){var i,f,u;if(t.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(oDTSettings,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(i=0,f=t.length;i<f;i++)u=n.inArray(i,t),i!=u&&(r(t,u,i),this.s.dt.oInstance.fnColReorder(u,i));(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!=="")&&this.s.dt.oInstance.fnAdjustColumnSizing(),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)},_fnStateSave:function(n){var t,f,e,i=n.split('"aaSorting"')[0],u=[],r=this.s.dt;for(i+='"aaSorting":[ ',t=0;t<r.aaSorting.length;t++)i+="["+r.aoColumns[r.aaSorting[t][0]]._ColReorder_iOrigCol+',"'+r.aaSorting[t][1]+'"],';for(i=i.substring(0,i.length-1),i+="],",t=0,f=r.aoColumns.length;t<f;t++)u[r.aoColumns[t]._ColReorder_iOrigCol]={sSearch:encodeURIComponent(r.aoPreSearchCols[t].sSearch),bRegex:!r.aoPreSearchCols[t].bRegex};for(i+='"aaSearchCols":[ ',t=0;t<u.length;t++)i+='["'+u[t].sSearch+'",'+u[t].bRegex+"],";for(i=i.substring(0,i.length-1),i+="],",u=[],t=0,f=r.aoColumns.length;t<f;t++)u[r.aoColumns[t]._ColReorder_iOrigCol]=r.aoColumns[t].bVisible;for(i+='"abVisCols":[ ',t=0;t<u.length;t++)i+=u[t]+",";for(i=i.substring(0,i.length-1),i+="],",u=[],t=0,f=r.aoColumns.length;t<f;t++)u.push(r.aoColumns[t]._ColReorder_iOrigCol);return i+='"ColReorder":['+u.join(",")+"]"},_fnMouseListener:function(t,i){var r=this;n(i).bind("mousemove.ColReorder",function(t){if(r.dom.drag===null&&r.dom.resize===null){var u=t.target.nodeName=="TH"?t.target:n(t.target).parents("TH")[0],f=n(u).offset(),e=n(u).innerWidth();t.pageX==Math.round(f.left+e)?n(u).css({cursor:"col-resize"}):n(u).css({cursor:"pointer"})}n(i).bind("mousedown.ColReorder",function(n){return r._fnMouseDown.call(r,n,i),!1})})},_fnMouseDown:function(t,r){var f=this,e=this.s.dt.aoColumns,h,c,o,s,u,l;if(n(r).css("cursor")=="col-resize")this.s.mouse.startX=t.pageX,this.s.mouse.startWidth=n(r).width(),this.s.mouse.resizeElem=n(r),h=n(r).next(),this.s.mouse.nextStartWidth=n(h).width(),f.dom.resize=!0;else{for(f.dom.resize=null,c=t.target.nodeName=="TH"?t.target:n(t.target).parents("TH")[0],o=n(c).offset(),this.s.mouse.startX=t.pageX,this.s.mouse.startY=t.pageY,this.s.mouse.offsetX=t.pageX-o.left,this.s.mouse.offsetY=t.pageY-o.top,this.s.mouse.target=r,this.s.mouse.targetIndex=n("th",r.parentNode).index(r),this.s.mouse.fromIndex=this.s.dt.oInstance.oApi._fnVisibleToColumnIndex(this.s.dt,this.s.mouse.targetIndex),this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:n(this.s.dt.nTable).offset().left,to:0}),s=0,u=0,l=e.length;u<l;u++)u!=this.s.mouse.fromIndex&&s++,e[u].bVisible&&this.s.aoTargets.push({x:n(e[u].nTh).offset().left+n(e[u].nTh).outerWidth(),to:s});this.s.fixed!==0&&this.s.aoTargets.splice(0,this.s.fixed)}n(i).bind("mousemove.ColReorder",function(n){f._fnMouseMove.call(f,n)}),n(i).bind("mouseup.ColReorder",function(n){f._fnMouseUp.call(f,n)})},_fnMouseMove:function(t){var s=this,u,i,e;if(this.dom.resize){var f=this.s.mouse.resizeElem,o=n(f).next(),r=t.pageX-this.s.mouse.startX;r!=0&&n(o).width(this.s.mouse.nextStartWidth-r),n(f).width(this.s.mouse.startWidth+r);return}if(this.dom.drag===null){if(Math.pow(Math.pow(t.pageX-this.s.mouse.startX,2)+Math.pow(t.pageY-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}for(this.dom.drag.style.left=t.pageX-this.s.mouse.offsetX+"px",this.dom.drag.style.top=t.pageY-this.s.mouse.offsetY+"px",u=!1,i=1,e=this.s.aoTargets.length;i<e;i++)if(t.pageX<this.s.aoTargets[i-1].x+(this.s.aoTargets[i].x-this.s.aoTargets[i-1].x)/2){this.dom.pointer.style.left=this.s.aoTargets[i-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[i-1].to,u=!0;break}u||(this.dom.pointer.style.left=this.s.aoTargets[this.s.aoTargets.length-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to)},_fnMouseUp:function(){var r=this;n(i).unbind("mousemove.ColReorder"),n(i).unbind("mouseup.ColReorder"),this.dom.resize=null,this.dom.drag!==null&&(i.body.removeChild(this.dom.drag),i.body.removeChild(this.dom.pointer),this.dom.drag=null,this.dom.pointer=null,this.s.init.fnColReorderCallback&&this.s.init.fnColReorderCallback(this.s.mouse.fromIndex,this.s.mouse.toIndex))},_fnCreateDragNode:function(){var t=this;for(this.dom.drag=n(this.s.dt.nTHead.parentNode).clone(!0)[0],this.dom.drag.className+=" DTCR_clonedTable";this.dom.drag.getElementsByTagName("tbody").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tbody")[0]);while(this.dom.drag.getElementsByTagName("tfoot").length>0)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tfoot")[0]);n("thead tr:eq(0)",this.dom.drag).each(function(){n("th:not(:eq("+t.s.mouse.targetIndex+"))",this).remove()}),n("tr",this.dom.drag).height(n("tr:eq(0)",t.s.dt.nTHead).height()),n("thead tr:gt(0)",this.dom.drag).remove(),n("thead th:eq(0)",this.dom.drag).each(function(){this.style.width=n("th:eq("+t.s.mouse.targetIndex+")",t.s.dt.nTHead).width()+"px"}),this.dom.drag.style.position="absolute",this.dom.drag.style.zIndex=1200,this.dom.drag.style.top="0px",this.dom.drag.style.left="0px",this.dom.drag.style.width=n("th:eq("+t.s.mouse.targetIndex+")",t.s.dt.nTHead).outerWidth()+"px",this.dom.pointer=i.createElement("div"),this.dom.pointer.className="DTCR_pointer",this.dom.pointer.style.position="absolute",this.s.dt.oScroll.sX===""&&this.s.dt.oScroll.sY===""?(this.dom.pointer.style.top=n(this.s.dt.nTable).offset().top+"px",this.dom.pointer.style.height=n(this.s.dt.nTable).height()+"px"):(this.dom.pointer.style.top=n("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top+"px",this.dom.pointer.style.height=n("div.dataTables_scroll",this.s.dt.nTableWrapper).height()+"px"),i.body.appendChild(this.dom.pointer),i.body.appendChild(this.dom.drag)}},ColReorder.aoInstances=[],ColReorder.fnReset=function(n){for(var t=0,i=ColReorder.aoInstances.length;t<i;t++)ColReorder.aoInstances[t].s.dt.oInstance==n&&ColReorder.aoInstances[t].fnReset()},ColReorder.prototype.CLASS="ColReorder",ColReorder.VERSION="1.0.3",ColReorder.prototype.VERSION=ColReorder.VERSION,typeof n.fn.dataTable=="function"&&typeof n.fn.dataTableExt.fnVersionCheck=="function"&&n.fn.dataTableExt.fnVersionCheck("1.8.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(n){var t=n.oInstance,i;return typeof t._oPluginColReorder=="undefined"?(i=typeof n.oInit.oColReorder!="undefined"?n.oInit.oColReorder:{},t._oPluginColReorder=new ColReorder(n.oInstance,i)):t.oApi._fnLog(n,1,"ColReorder attempted to initialise twice. Ignoring second"),null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.8.0 or greater - www.datatables.net/download")})(jQuery,window,document);var hasTouch="ontouchstart"in document.documentElement,startEvent=hasTouch?"touchstart":"mousedown",moveEvent=hasTouch?"touchmove":"mousemove",endEvent=hasTouch?"touchend":"mouseup";hasTouch&&$.each("touchstart touchmove touchend".split(" "),function(n,t){jQuery.event.fixHooks[t]=jQuery.event.mouseHooks}),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(n){return this.each(function(){this.tableDnDConfig=jQuery.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},n||{}),jQuery.tableDnD.makeDraggable(this)}),this},makeDraggable:function(n){var t=n.tableDnDConfig,i,r;t.dragHandle?(i=jQuery(n.tableDnDConfig.dragHandle,n),i.each(function(){jQuery(this).bind(startEvent,function(i){return jQuery.tableDnD.initialiseDrag(jQuery(this).parents("tr")[0],n,this,i,t),!1})})):(r=jQuery("tr",n),r.each(function(){var i=jQuery(this);i.hasClass("nodrag")||i.bind(startEvent,function(i){if(i.target.tagName=="TD")return jQuery.tableDnD.initialiseDrag(this,n,this,i,t),!1}).css("cursor","move")}))},initialiseDrag:function(n,t,i,r,u){if(jQuery.tableDnD.dragObject=n,jQuery.tableDnD.currentTable=t,jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(i,r),jQuery.tableDnD.originalOrder=jQuery.tableDnD.serialize(),jQuery(document).bind(moveEvent,jQuery.tableDnD.mousemove).bind(endEvent,jQuery.tableDnD.mouseup),u.onDragStart)u.onDragStart(t,i)},updateTables:function(){this.each(function(){this.tableDnDConfig&&jQuery.tableDnD.makeDraggable(this)})},mouseCoords:function(n){return n.pageX||n.pageY?{x:n.pageX,y:n.pageY}:{x:n.clientX+document.body.scrollLeft-document.body.clientLeft,y:n.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(n,t){t=t||window.event;var i=this.getPosition(n),r=this.mouseCoords(t);return{x:r.x-i.x,y:r.y-i.y}},getPosition:function(n){var t=0,i=0;for(n.offsetHeight==0&&(n=n.firstChild);n.offsetParent;)t+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent;return t+=n.offsetLeft,i+=n.offsetTop,{x:t,y:i}},mousemove:function(n){var s,o,i;if(jQuery.tableDnD.dragObject!=null){n.type=="touchmove"&&event.preventDefault();var f=jQuery(jQuery.tableDnD.dragObject),t=jQuery.tableDnD.currentTable.tableDnDConfig,e=jQuery.tableDnD.mouseCoords(n),r=e.y-jQuery.tableDnD.mouseOffset.y,u=window.pageYOffset;return document.all&&(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat"?u=document.documentElement.scrollTop:typeof document.body!="undefined"&&(u=document.body.scrollTop)),e.y-u<t.scrollAmount?window.scrollBy(0,-t.scrollAmount):(s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,s-(e.y-u)<t.scrollAmount&&window.scrollBy(0,t.scrollAmount)),r!=jQuery.tableDnD.oldY&&(o=r>jQuery.tableDnD.oldY,jQuery.tableDnD.oldY=r,t.onDragClass?f.addClass(t.onDragClass):f.css(t.onDragStyle),i=jQuery.tableDnD.findDropTargetRow(f,r),i&&(o&&jQuery.tableDnD.dragObject!=i?jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i.nextSibling):o||jQuery.tableDnD.dragObject==i||jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i))),!1}},findDropTargetRow:function(n,t){for(var o=jQuery.tableDnD.currentTable.rows,e,s,r=0;r<o.length;r++){var i=o[r],u=this.getPosition(i).y,f=parseInt(i.offsetHeight)/2;if(i.offsetHeight==0&&(u=this.getPosition(i.firstChild).y,f=parseInt(i.firstChild.offsetHeight)/2),t>u-f&&t<u+f)return i==n?null:(e=jQuery.tableDnD.currentTable.tableDnDConfig,e.onAllowDrop?e.onAllowDrop(n,i)?i:null:(s=jQuery(i).hasClass("nodrop"),s?null:i))}return null},mouseup:function(){var i,t,r;if(jQuery.tableDnD.currentTable&&jQuery.tableDnD.dragObject){if(jQuery(document).unbind(moveEvent,jQuery.tableDnD.mousemove).unbind(endEvent,jQuery.tableDnD.mouseup),i=jQuery.tableDnD.dragObject,t=jQuery.tableDnD.currentTable.tableDnDConfig,t.onDragClass?jQuery(i).removeClass(t.onDragClass):jQuery(i).css(t.onDropStyle),jQuery.tableDnD.dragObject=null,r=jQuery.tableDnD.serialize(),t.onDrop&&jQuery.tableDnD.originalOrder!=r)t.onDrop(jQuery.tableDnD.currentTable,i);jQuery.tableDnD.currentTable=null}},serialize:function(){return jQuery.tableDnD.currentTable?jQuery.tableDnD.serializeTable(jQuery.tableDnD.currentTable):"Error: No Table id set, you need to set an id on your table and every row"},serializeTable:function(n){for(var i="",f=n.id,u=n.rows,t,r=0;r<u.length;r++)i.length>0&&(i+="&"),t=u[r].id,t&&t&&n.tableDnDConfig&&n.tableDnDConfig.serializeRegexp&&(t=t.match(n.tableDnDConfig.serializeRegexp)[0]),i+=f+"[]="+t;return i},serializeTables:function(){var n="";return this.each(function(){n+=jQuery.tableDnD.serializeTable(this)}),n}},jQuery.fn.extend({tableDnD:jQuery.tableDnD.build,tableDnDUpdate:jQuery.tableDnD.updateTables,tableDnDSerialize:jQuery.tableDnD.serializeTables});(function(n){n.fn.hoverIntent=function(t,i){var r={sensitivity:7,interval:100,timeout:0};r=n.extend(r,i?{over:t,out:i}:t);var u,f,e,o,s=function(n){u=n.pageX,f=n.pageY},h=function(t,i){if(i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(e-u)+Math.abs(o-f)<r.sensitivity)return n(i).unbind("mousemove",s),i.hoverIntent_s=1,r.over.apply(i,[t]);e=u,o=f,i.hoverIntent_t=setTimeout(function(){h(t,i)},r.interval)},l=function(n,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[n])},c=function(t){var u=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),t.type=="mouseenter"?(e=u.pageX,o=u.pageY,n(i).bind("mousemove",s),i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){h(u,i)},r.interval))):(n(i).unbind("mousemove",s),i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(u,i)},r.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}})(jQuery);
/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(n,t,i){function f(n){return n}function e(n){return decodeURIComponent(n.replace(u," "))}var u=/\+/g,r=n.cookie=function(u,o,s){var p,c,l,a,h,w,v,y;if(o!==i)return s=n.extend({},r.defaults,s),o===null&&(s.expires=-1),typeof s.expires=="number"&&(p=s.expires,c=s.expires=new Date,c.setDate(c.getDate()+p)),o=r.json?JSON.stringify(o):String(o),t.cookie=[encodeURIComponent(u),"=",r.raw?o:encodeURIComponent(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(l=r.raw?f:e,a=t.cookie.split("; "),h=0,w=a.length;h<w;h++)if(v=a[h].split("="),l(v.shift())===u)return y=l(v.join("=")),r.json?JSON.parse(y):y;return null};r.defaults={},n.removeCookie=function(t,i){return n.cookie(t)!==null?(n.cookie(t,null,i),!0):!1}})(jQuery,document);(function(n){function t(){var n=!1,t=!1;this.stopPropagation=function(){n=!0},this.isPropagationStopped=function(){return n},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function i(){var n=[];this.subscribe=function(t){n.push(t)},this.unsubscribe=function(t){for(var i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1)},this.notify=function(i,r,u){var e,f;for(r=r||new t,u=u||this,f=0;f<n.length&&!(r.isPropagationStopped()||r.isImmediatePropagationStopped());f++)e=n[f].call(u,r,i);return e}}function r(){var n=[];this.subscribe=function(t,i){n.push({event:t,handler:i}),t.subscribe(i)},this.unsubscribe=function(t,i){for(var r=n.length;r--;)if(n[r].event===t&&n[r].handler===i){n.splice(r,1),t.unsubscribe(i);return}},this.unsubscribeAll=function(){for(var t=n.length;t--;)n[t].event.unsubscribe(n[t].handler);n=[]}}function u(n,i,r){return r=r||new t,i=i||{},i.caller=self,n.notify(i,r,self)}n.extend(!0,window,{Gemini:{Event:i,EventData:t,EventHandler:r,Trigger:u}})})(jQuery);(function(n){var t=(n.browser.msie?"paste":"input")+".mask",i=window.orientation!=undefined;n.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},n.fn.extend({caret:function(n,t){if(this.length!=0){if(typeof n=="number")return t=typeof t=="number"?t:n,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(n,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}});if(this[0].setSelectionRange)n=this[0].selectionStart,t=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var i=document.selection.createRange();n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length}return{begin:n,end:t}}},unmask:function(){return this.trigger("unmask")},mask:function(r,u){var c;if(!r&&this.length>0)return c=n(this[0]),c.data(n.mask.dataName)();u=n.extend({placeholder:"_",completed:null},u);var h=n.mask.definitions,f=[],o=r.length,s=null,e=r.length;return n.each(r.split(""),function(n,t){t=="?"?(e--,o=n):h[t]?(f.push(new RegExp(h[t])),s==null&&(s=f.length-1)):f.push(null)}),this.trigger("unmask").each(function(){function a(n){while(++n<=e&&!f[n]);return n}function k(n){while(--n>=0&&!f[n]);return n}function b(n,t){if(!(n<0)){for(var r=n,i=a(t);r<e;r++)if(f[r]){if(i<e&&f[r].test(l[i]))l[r]=l[i],l[i]=u.placeholder;else break;i=a(i)}y(),c.caret(Math.max(s,n))}}function d(n){for(var r,o,t=n,i=u.placeholder;t<e;t++)if(f[t])if(r=a(t),o=l[t],l[t]=i,r<e&&f[r].test(o))i=o;else break}function g(n){var r=n.which;if(r==8||r==46||i&&r==127){var f=c.caret(),u=f.begin,t=f.end;return t-u==0&&(u=r!=46?k(u):t=a(u-1),t=r==46?a(t):t),w(u,t),b(u,t-1),!1}if(r==27)return c.val(p),c.caret(0,v()),!1}function nt(n){var r=n.which,t=c.caret(),i,o,s;return n.ctrlKey||n.altKey||n.metaKey||r<32?!0:r?(t.end-t.begin!=0&&(w(t.begin,t.end),b(t.begin,t.end-1)),i=a(t.begin-1),i<e&&(o=String.fromCharCode(r),f[i].test(o)&&(d(i),l[i]=o,y(),s=a(i),c.caret(s),u.completed&&s>=e&&u.completed.call(c))),!1):void 0}function w(n,t){for(var i=n;i<t&&i<e;i++)f[i]&&(l[i]=u.placeholder)}function y(){return c.val(l.join("")).val()}function v(n){for(var h=c.val(),r=-1,a,t=0,i=0;t<e;t++)if(f[t]){for(l[t]=u.placeholder;i++<h.length;)if(a=h.charAt(i-1),f[t].test(a)){l[t]=a,r=t;break}if(i>h.length)break}else l[t]==h.charAt(i)&&t!=o&&(i++,r=t);return!n&&r+1<o?(c.val(""),w(0,e)):(n||r+1>=o)&&(y(),n||c.val(c.val().substring(0,r+1))),o?t:s}var c=n(this),l=n.map(r.split(""),function(n){if(n!="?")return h[n]?u.placeholder:n}),p=c.val();c.data(n.mask.dataName,function(){return n.map(l,function(n,t){return f[t]&&n!=u.placeholder?n:null}).join("")}),c.attr("readonly")||c.one("unmask",function(){c.unbind(".mask").removeData(n.mask.dataName)}).bind("focus.mask",function(){var t,i;p=c.val(),t=v(),y(),i=function(){t==r.length?c.caret(0,t):c.caret(t)},(n.browser.msie?i:function(){setTimeout(i,0)})()}).bind("blur.mask",function(){v(),c.val()!=p&&c.change()}).bind("keydown.mask",g).bind("keypress.mask",nt).bind(t,function(){setTimeout(function(){c.caret(v(!0))},0)}),v()})}})})(jQuery);
/*! jQuery UI - v1.9.1 - 2012-10-25
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().andSelf().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;(n.ui=n.ui||{},n.ui.version)||(n.extend(n.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus(),i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0,r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0),u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],u=r.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?f["inner"+r].call(this):this.each(function(){n(this).css(u,e(this,i)+"px")})},n.fn["outer"+r]=function(t,i){return typeof t!="number"?f["outer"+r].call(this,t):this.each(function(){n(this).css(u,e(this,t,!0,i)+"px")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}}),n(function(){var i=document.body,t=i.appendChild(t=document.createElement("div"));t.offsetHeight,n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),n.support.minHeight=t.offsetHeight===100,n.support.selectstart="onselectstart"in t,i.removeChild(t).style.display="none"}),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];n.ui.ie=t.length?!0:!1,n.ui.ie6=parseFloat(t[1],10)===6}(),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},contains:n.contains,hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},isOverAxis:function(n,t,i){return n>t&&n<t+i},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))})(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)},n.widget=function(t,i,r){var e,o,u,s,f=t.split(".")[0];t=t.split(".")[1],e=f+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][e.toLowerCase()]=function(t){return!!n.data(t,e)},n[f]=n[f]||{},o=n[f][t],u=n[f][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,o,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),s=new i,s.options=n.widget.extend({},s.options),n.each(r,function(t,u){n.isFunction(u)&&(r[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},r=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=r,t=u.apply(this,arguments),this._super=i,this._superApply=f,t}}())}),u.prototype=n.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||t},r,{constructor:u,namespace:f,widgetName:t,widgetBaseClass:e,widgetFullName:e}),o?(n.each(o._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete o._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():new u(e,this)}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetName,this),n.data(i,this.widgetFullName,this),this._on(this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i){var u,r=this;i?(t=u=n(t),this.bindings=this.bindings.add(t)):(i=t,t=this.element,u=this.widget()),n.each(i,function(i,f){function e(){if(r.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof f=="string"?r[f]:f).apply(r,arguments)}typeof f!="string"&&(e.guid=f.guid=f.guid||e.guid||n.guid++);var o=i.match(/^(\w+)\s*(.*)$/),s=o[1]+r.eventNamespace,h=o[2];h?u.delegate(h,s,e):t.bind(s,e)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&(n.effects.effect[e]||n.uiBackCompat!==!1&&n.effects[e])?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}}),n.uiBackCompat!==!1&&(n.Widget.prototype._getCreateOptions=function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(n){var i=!1;n(document).mouseup(function(){i=!1}),n.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,u=t.which===1,f=typeof this.options.cancel=="string"&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&!(document.documentMode>=9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n,t){function a(n,t,i){return[parseInt(n[0],10)*(l.test(n[0])?t/100:1),parseInt(n[1],10)*(l.test(n[1])?i/100:1)]}function u(t,i){return parseInt(n.css(t,i),10)||0}n.ui=n.ui||{};var f,r=Math.max,i=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:u?n.position.scrollbarWidth():0,height:f?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return v.apply(this,arguments);t=n.extend({},t);var b,f,l,p,w,y=n(t.of),nt=n.position.getWithinInfo(t.within),tt=n.position.getScrollInfo(nt),k=y[0],d=(t.collision||"flip").split(" "),g={};return k.nodeType===9?(f=y.width(),l=y.height(),p={top:0,left:0}):n.isWindow(k)?(f=y.width(),l=y.height(),p={top:y.scrollTop(),left:y.scrollLeft()}):k.preventDefault?(t.at="left top",f=l=0,p={top:k.pageY,left:k.pageX}):(f=y.outerWidth(),l=y.outerHeight(),p=y.offset()),w=n.extend({},p),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",i=h.exec(n[0]),r=h.exec(n[1]),g[this]=[i?i[0]:0,r?r[0]:0],t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),t.at[0]==="right"?w.left+=f:t.at[0]==="center"&&(w.left+=f/2),t.at[1]==="bottom"?w.top+=l:t.at[1]==="center"&&(w.top+=l/2),b=a(g.at,f,l),w.left+=b[0],w.top+=b[1],this.each(function(){var k,it,s=n(this),h=s.outerWidth(),c=s.outerHeight(),rt=u(this,"marginLeft"),ut=u(this,"marginTop"),ft=h+rt+u(this,"marginRight")+tt.width,et=c+ut+u(this,"marginBottom")+tt.height,o=n.extend({},w),v=a(g.my,s.outerWidth(),s.outerHeight());t.my[0]==="right"?o.left-=h:t.my[0]==="center"&&(o.left-=h/2),t.my[1]==="bottom"?o.top-=c:t.my[1]==="center"&&(o.top-=c/2),o.left+=v[0],o.top+=v[1],n.support.offsetFractions||(o.left=e(o.left),o.top=e(o.top)),k={marginLeft:rt,marginTop:ut},n.each(["left","top"],function(i,r){n.ui.position[d[i]]&&n.ui.position[d[i]][r](o,{targetWidth:f,targetHeight:l,elemWidth:h,elemHeight:c,collisionPosition:k,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:nt,elem:s})}),n.fn.bgiframe&&s.bgiframe(),t.using&&(it=function(n){var e=p.left-o.left,v=e+f-h,a=p.top-o.top,w=a+l-c,u={target:{element:y,left:p.left,top:p.top,width:f,height:l},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:v<0?"left":e>0?"right":"center",vertical:w<0?"top":a>0?"bottom":"middle"};f<h&&i(e+v)<f&&(u.horizontal="center"),l<c&&i(a+w)<l&&(u.vertical="middle"),u.important=r(i(e),i(v))>r(i(a),i(w))?"horizontal":"vertical",t.using.call(this,n,u)}),s.offset(n.extend(o,{using:it}))})},n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&i<=0?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&i<=0?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o),i=e||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",u=n(o).offset().left,n.support.offsetFractions=u>10&&u<11,t.innerHTML="",i.removeChild(t)}(),n.uiBackCompat!==!1&&function(n){var i=n.fn.position;n.fn.position=function(r){if(!r||!r.offset)return i.call(this,r);var u=r.offset.split(" "),f=r.at.split(" ");return u.length===1&&(u[1]=u[0]),/^\d/.test(u[0])&&(u[0]="+"+u[0]),/^\d/.test(u[1])&&(u[1]="+"+u[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),i.call(this,n.extend(r,{at:f[0]+u[0]+" "+f[1]+u[1],offset:t}))}}(jQuery)}(jQuery),function(n){var u=0,i={},r={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",n.widget("ui.accordion",{version:"1.9.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var i=this.accordionId="ui-accordion-"+(this.element.attr("id")||++u),t=this.options;this.prevShow=this.prevHide=n(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(t.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),t.collapsible||t.active!==!1&&t.active!=null||(t.active=0),t.active<0&&(t.active+=this.headers.length),this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var r=n(this),u=r.attr("id"),e=r.next(),f=e.attr("id");u||(u=i+"-header-"+t,r.attr("id",u)),f||(f=i+"-panel-"+t,e.attr("id",f)),r.attr("aria-controls",f),e.attr("aria-labelledby",u)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(t.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),n!=="collapsible"||t||this.options.active!==!1||this._activate(0),n==="icons"&&(this._destroyIcons(),t&&this._createIcons()),n==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t,r,u=this.options.heightStyle,i=this.element.parent();u==="fill"?(n.support.minHeight||(r=i.css("overflow"),i.css("overflow","hidden")),t=i.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),r&&i.css("overflow",r),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):u==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).height("").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={};t&&(n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._on(this.headers,i))},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=r,this.prevHide=i,this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),r.length&&i.length?i.prev().attr("tabIndex",-1):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(n,t,u){var l,f,e,a=this,h=0,v=n.length&&(!t.length||n.index()<t.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};if(typeof o=="number"&&(e=o),typeof o=="string"&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,!t.length)return n.animate(r,e,f,c);if(!n.length)return t.animate(i,e,f,c);l=n.show().outerHeight(),t.animate(i,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(r,{duration:e,easing:f,complete:c,step:function(n,i){i.now=Math.round(n),i.prop!=="height"?h+=i.now:a.options.heightStyle!=="content"&&(i.now=Math.round(l-t.outerHeight()-h),h=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,n)}}),n.uiBackCompat!==!1&&(function(n,t){n.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=t._create;t._create=function(){if(this.options.navigation){var f=this,t=this.element.find(this.options.header),r=t.next(),u=t.add(r).find("a").filter(this.options.navigationFilter)[0];u&&t.add(r).each(function(t){if(n.contains(this,u))return f.options.active=Math.floor(t/2),!1})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(n,t){n.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=t._create,r=t._setOption;n.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(n){(n==="autoHeight"||n==="clearStyle"||n==="fillSpace")&&(this.options.heightStyle=this._mergeHeightStyle()),r.apply(this,arguments)},_mergeHeightStyle:function(){var n=this.options;return n.fillSpace?"fill":n.clearStyle?"content":n.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(n,t){n.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(n,t){t.activate=t._activate;var i=t._findActive;t._findActive=function(n){return n===-1&&(n=!1),n&&typeof n!="number"&&(n=this.headers.index(this.headers.filter(n)),n===-1&&(n=!1)),i.call(this,n)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(n,t){n.extend(t.options,{change:null,changestart:null});var i=t._trigger;t._trigger=function(n,t,r){var u=i.apply(this,arguments);return u?(n==="beforeActivate"?u=i.call(this,"changestart",t,{oldHeader:r.oldHeader,oldContent:r.oldPanel,newHeader:r.newHeader,newContent:r.newPanel}):n==="activate"&&(u=i.call(this,"change",t,{oldHeader:r.oldHeader,oldContent:r.oldPanel,newHeader:r.newHeader,newContent:r.newPanel})),u):!1}}(jQuery,jQuery.ui.accordion.prototype),function(n,t){n.extend(t.options,{animate:null,animated:"slide"});var i=t._create;t._create=function(){var n=this.options;n.animate===null&&(n.animate=n.animated?n.animated==="slide"?300:n.animated==="bounceslide"?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:n.animated:!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(n){var i=0;n.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0,r=!0,i=!0;return}t=!1,r=!1,i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0,this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0,this._move("nextPage",u);break;case f.UP:t=!0,this._keyEvent("previous",u);break;case f.DOWN:t=!0,this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0,this._searchTimeout(u)}},keypress:function(r){if(t){t=!1,r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1,n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(n),this._change(n)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:n(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",n,{item:i})&&this._value(i.value),this.term=this._value(),this.close(n),this.selectedItem=i}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),n.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t),n==="source"&&this._initSource(),n==="appendTo"&&this.menu.element.appendTo(this.document.find(t||"body")[0]),n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort(),t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:n},this._response())},_response:function(){var n=this,t=++i;return function(r){t===i&&n.__response(r),n.pending--,n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n)),this._trigger("response",null,{content:n}),!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0,this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term),this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"",results:function(){return""}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var r,u,f,i,e="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=n(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},s=function(t){var i=t.name,u=t.form,r=n([]);return i&&(r=u?n(u).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};n.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,t=this.options,h=this.type==="checkbox"||this.type==="radio",a="ui-state-hover"+(h?"":" ui-state-active"),l="ui-state-focus";t.label===null&&(t.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(e).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||(n(this).addClass("ui-state-hover"),this===r&&n(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(l)}),h&&(this.element.bind("change"+this.eventNamespace,function(){i||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){t.disabled||(i=!1,u=n.pageX,f=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){t.disabled||(u!==n.pageX||f!==n.pageY)&&(i=!0)})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1;n(this).toggleClass("ui-state-active"),o.buttonElement.attr("aria-pressed",o.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1;n(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var r=o.element[0];s(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active"),r=this;o.document.one("mouseup",function(){r=null})}).bind("mouseup"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(i){if(t.disabled)return!1;(i.keyCode===n.ui.keyCode.SPACE||i.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()})),this._setOption("disabled",t.disabled),this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(e+" "+h+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){if(this._super(n,t),n==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?s(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(o),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only"),i.addClass(r.join(" "))}}),n.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){n==="disabled"&&this.buttons.button("option",n,t),this._super(n,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function e(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},n.extend(this._defaults,this.regional[""]),this.dpDiv=o(n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>'))}function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(f.inline?t.parent()[0]:f.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).addClass("ui-datepicker-next-hover"))})}function u(i,r){n.extend(i,r);for(var u in r)(r[u]==null||r[u]==t)&&(i[u]=r[u]);return i}n.extend(n.ui,{datepicker:{version:"1.9.1"}});var i="datepicker",r=+new Date,f;n.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r=null,u,f,e,s,o;for(u in this._defaults)if(f=t.getAttribute("date:"+u),f){r=r||{};try{r[u]=eval(f)}catch(h){r[u]=f}}e=t.nodeName.toLowerCase(),s=e=="div"||e=="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(n(t),s),o.settings=n.extend({},i||{},r||{}),e=="input"?this._connectDatepicker(t,o):s&&this._inlineDatepicker(t,o)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(n('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>')):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,t,i){r.settings[t]=i}).bind("getData.datepicker",function(n,t){return this._get(r,t)}),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var e=this._get(i,"appendText"),o=this._get(i,"isRTL"),u,r,f;i.append&&i.append.remove(),e&&(i.append=n('<span class="'+this._appendClass+'">'+e+"<\/span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),u=this._get(i,"showOn"),(u=="focus"||u=="both")&&t.focus(this._showDatepicker),(u=="button"||u=="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n('<button type="button"><\/button>').addClass(this._triggerClass).html(f==""?r:n("<img/>").attr({src:f,alt:r,title:r}))),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!=t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){var t,i,r;this._get(n,"autoSize")&&!n.inline&&(t=new Date(2009,11,20),i=this._get(n,"dateFormat"),i.match(/[DM]/)&&(r=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},t.setMonth(r(this._get(n,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(n,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),n.input.attr("size",this._formatDate(n,t).length))},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv).bind("setData.datepicker",function(n,t,i){r.settings[t]=i}).bind("getData.datepicker",function(n,t){return this._get(r,t)}),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,f,e,o){var s=this._dialogInst,h;if(s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n('<input type="text" id="'+h+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),u(s.settings,e||{}),r=r&&r.constructor==Date?this._formatDate(s,r):r,this._dialogInput.val(r),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[c/2-100+a,l/2-150+v]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var u=n(t),f=n.data(t,i),r;u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),r=="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var f=n(t),e=n.data(t,i),r,u;f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r=="input"?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(r=="div"||r=="span")&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}))},_disableDatepicker:function(t){var f=n(t),e=n.data(t,i),r,u;f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r=="input"?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(r=="div"||r=="span")&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,r,f){var e=this._getInst(i),o;if(arguments.length==2&&typeof r=="string")return r=="defaults"?n.extend({},n.datepicker._defaults):e?r=="all"?n.extend({},e.settings):this._get(e,r):null;if(o=r||{},typeof r=="string"&&(o={},o[r]=f),e){this._curInst==e&&this._hideDatepicker();var c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max");u(e.settings,o),s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e)}},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i=n.datepicker._getInst(t.target),r=!0,e=i.dpDiv.is(".ui-datepicker-rtl"),u,f,o;if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker(),r=!1;break;case 13:return u=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),u[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,u[0]),f=n.datepicker._get(i,"onSelect"),f?(o=n.datepicker._formatDate(i),f.apply(i.input?i.input[0]:null,[o,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode==36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var f=n.datepicker._getInst(i.target),r,u;if(n.datepicker._get(f,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),u=String.fromCharCode(i.charCode==t?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||u<" "||!r||r.indexOf(u)>-1},_doKeyUp:function(t){var i=n.datepicker._getInst(t.target),r;if(i.input.val()!=i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i)),r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){n.datepicker.log(u)}return!0},_showDatepicker:function(t){var i,o,s,f,e;if((t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!=t)&&(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!=i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1)&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),e={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),e=n.datepicker._checkOffset(i,e,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"}),!i.inline)){var r=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),c=function(){var r=i.dpDiv.find("iframe.ui-datepicker-cover"),t;!r.length||(t=n.datepicker._getBorders(i.dpDiv),r.css({left:-t[0],top:-t[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()}))};i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.show(r,n.datepicker._get(i,"showOptions"),h,c):i.dpDiv[r||"show"](r?h:null,c),r&&h||c(),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),n.datepicker._curInst=i}},_updateDatepicker:function(t){var i,r,o;this.maxRows=4,i=n.datepicker._getBorders(t.dpDiv),f=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),r=t.dpDiv.find("iframe.ui-datepicker-cover"),!r.length||r.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var u=this._getNumberOfMonths(t),e=u[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&t.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",s*e+"em"),t.dpDiv[(u[0]!=1||u[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml&&(o=t.yearshtml,setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0))},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var r=this._getInst(t),u=this._get(r,"isRTL"),i;t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r=this._curInst,e;if(r&&(!t||r==n.data(t,i))&&this._datepickerShowing){var u=this._get(r,"showAnim"),o=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)};n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),o,f):r.dpDiv[u=="slideDown"?"slideUp":u=="fadeIn"?"fadeOut":"hide"](u?o:null,f),u||f(),this._datepickerShowing=!1,e=this._get(r,"onClose"),e&&e.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id==n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!=0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst==r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r=="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var u=n(t),i=this._getInst(u[0]),r;this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear()),this._notifyChange(i),this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r=="M"?"Month":"Year")]=u["draw"+(r=="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(u),this._adjustDate(f)},_selectDay:function(t,i,r,u){var e=n(t),f;n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t),r=this._getInst(i[0]);this._selectDate(i,"")},_selectDate:function(t,i){var f=n(t),r=this._getInst(f[0]),u;i=i!=null?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),u=this._get(r,"onSelect"),u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i=this._get(t,"altField");if(i){var r=this._get(t,"altFormat")||this._get(t,"dateFormat"),u=this._getDate(t),f=this.formatDate(r,u,this._getFormatConfig(t));n(i).each(function(){n(this).val(f)})}},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var t=new Date(n.getTime()),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){var c,s,w,b,u;if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i=="")return null;c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,c=typeof c!="string"?c:(new Date).getFullYear()%100+parseInt(c,10);var d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,g=(r?r.dayNames:null)||this._defaults.dayNames,nt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,tt=(r?r.monthNames:null)||this._defaults.monthNames,f=-1,o=-1,h=-1,v=-1,y=!1,a=function(n){var i=s+1<t.length&&t.charAt(s+1)==n;return i&&s++,i},l=function(n){var r=a(n),u=n=="@"?14:n=="!"?20:n=="y"&&r?4:n=="o"?3:2,f=new RegExp("^\\d{1,"+u+"}"),t=i.substring(e).match(f);if(!t)throw"Missing number at position "+e;return e+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var o=n.map(a(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)}),f=-1;if(n.each(o,function(n,t){var r=t[1];if(i.substr(e,r.length).toLowerCase()==r.toLowerCase())return f=t[0],e+=r.length,!1}),f!=-1)return f+1;throw"Unknown name at position "+e;},p=function(){if(i.charAt(e)!=t.charAt(s))throw"Unexpected literal at position "+e;e++},e=0;for(s=0;s<t.length;s++)if(y)t.charAt(s)!="'"||a("'")?p():y=!1;else switch(t.charAt(s)){case"d":h=l("d");break;case"D":k("D",d,g);break;case"o":v=l("o");break;case"m":o=l("m");break;case"M":o=k("M",nt,tt);break;case"y":f=l("y");break;case"@":u=new Date(l("@")),f=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"!":u=new Date((l("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"'":a("'")?p():y=!0;break;default:p()}if(e<i.length&&(w=i.substr(e),!/^\s+/.test(w)))throw"Extra/unparsed characters found in date: "+w;if(f==-1?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=c?0:-100)),v>-1){o=1,h=v;do{if(b=this._getDaysInMonth(f,o-1),h<=b)break;o++,h-=b}while(1)}if(u=this._daylightSavingAdjust(new Date(f,o-1,h)),u.getFullYear()!=f||u.getMonth()+1!=o||u.getDate()!=h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*864e9,formatDate:function(n,t,i){var u;if(!t)return"";var h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)==t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((+new Date(t.getFullYear(),t.getMonth(),t.getDate())-+new Date(t.getFullYear(),0,0))/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)==i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)!="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){var u,r,i,f,e;if(n.input.val()!=n.lastVal){u=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,i=f=this._getDefaultDate(n),e=this._getFormatConfig(n);try{i=this.parseDate(u,r,e)||f}catch(o){this.log(o),r=t?"":r}n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear(),n.currentDay=r?i.getDate():0,n.currentMonth=r?i.getMonth():0,n.currentYear=r?i.getFullYear():0,this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()=="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate(),n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth(),n.drawYear=n.selectedYear=n.currentYear=r.getFullYear(),f==n.selectedMonth&&e==n.selectedYear||i||this._notifyChange(n),this._adjustInstDate(n),n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()==""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var u=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,-u,"M")},next:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,+u,"M")},hide:function(){window["DP_jQuery_"+r].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+r].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+r].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var l=new Date,d,h,ut,c,p,ot,w,st,ht,ct,r,at,vt,s;l=this._daylightSavingAdjust(new Date(l.getFullYear(),l.getMonth(),l.getDate()));var e=this._get(t,"isRTL"),fi=this._get(t,"showButtonPanel"),pt=this._get(t,"hideIfNoPrevNext"),tt=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),ei=this._get(t,"showCurrentAtPos"),wt=this._get(t,"stepMonths"),it=o[0]!=1||o[1]!=1,rt=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),y=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),i=t.drawMonth-ei,u=t.drawYear;if(i<0&&(i+=12,u--),a)for(d=this._daylightSavingAdjust(new Date(a.getFullYear(),a.getMonth()-o[0]*o[1]+1,a.getDate())),d=y&&d<y?y:d;this._daylightSavingAdjust(new Date(u,i,1))>d;)i--,i<0&&(i=11,u--);t.drawMonth=i,t.drawYear=u,h=this._get(t,"prevText"),h=tt?this.formatDate(h,this._daylightSavingAdjust(new Date(u,i-wt,1)),this._getFormatConfig(t)):h,ut=this._canAdjustMonth(t,-1,u,i)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"e":"w")+'">'+h+"<\/span><\/a>":pt?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"e":"w")+'">'+h+"<\/span><\/a>",c=this._get(t,"nextText"),c=tt?this.formatDate(c,this._daylightSavingAdjust(new Date(u,i+wt,1)),this._getFormatConfig(t)):c;var bt=this._canAdjustMonth(t,1,u,i)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+c+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"w":"e")+'">'+c+"<\/span><\/a>":pt?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+c+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"w":"e")+'">'+c+"<\/span><\/a>",g=this._get(t,"currentText"),kt=this._get(t,"gotoCurrent")&&t.currentDay?rt:l;g=tt?this.formatDate(g,kt,this._getFormatConfig(t)):g;var dt=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"<\/button>",oi=fi?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(e?dt:"")+(this._isInRange(t,kt)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+g+"<\/button>":"")+(e?"":dt)+"<\/div>":"",v=parseInt(this._get(t,"firstDay"),10);v=isNaN(v)?0:v;var gt=this._get(t,"showWeek"),si=this._get(t,"dayNames"),vi=this._get(t,"dayNamesShort"),hi=this._get(t,"dayNamesMin"),ci=this._get(t,"monthNames"),li=this._get(t,"monthNamesShort"),ni=this._get(t,"beforeShowDay"),ft=this._get(t,"showOtherMonths"),ai=this._get(t,"selectOtherMonths"),yi=this._get(t,"calculateWeek")||this.iso8601Week,ti=this._getDefaultDate(t),et="";for(p=0;p<o[0];p++){for(ot="",this.maxRows=4,w=0;w<o[1];w++){var ii=this._daylightSavingAdjust(new Date(u,i,t.selectedDay)),b=" ui-corner-all",f="";if(it){if(f+='<div class="ui-datepicker-group',o[1]>1)switch(w){case 0:f+=" ui-datepicker-group-first",b=" ui-corner-"+(e?"right":"left");break;case o[1]-1:f+=" ui-datepicker-group-last",b=" ui-corner-"+(e?"left":"right");break;default:f+=" ui-datepicker-group-middle",b=""}f+='">'}for(f+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+b+'">'+(/all|left/.test(b)&&p==0?e?bt:ut:"")+(/all|right/.test(b)&&p==0?e?ut:bt:"")+this._generateMonthYearHeader(t,i,u,y,a,p>0||w>0,ci,li)+'<\/div><table class="ui-datepicker-calendar"><thead><tr>',st=gt?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"<\/th>":"",s=0;s<7;s++)ht=(s+v)%7,st+="<th"+((s+v+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+si[ht]+'">'+hi[ht]+"<\/span><\/th>";f+=st+"<\/tr><\/thead><tbody>",ct=this._getDaysInMonth(u,i),u==t.selectedYear&&i==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,ct));var ri=(this._getFirstDayOfMonth(u,i)-v+7)%7,lt=Math.ceil((ri+ct)/7),ui=it?this.maxRows>lt?this.maxRows:lt:lt;for(this.maxRows=ui,r=this._daylightSavingAdjust(new Date(u,i,1-ri)),at=0;at<ui;at++){for(f+="<tr>",vt=gt?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(r)+"<\/td>":"",s=0;s<7;s++){var nt=ni?ni.apply(t.input?t.input[0]:null,[r]):[!0,""],k=r.getMonth()!=i,yt=k&&!ai||!nt[0]||y&&r<y||a&&r>a;vt+='<td class="'+((s+v+6)%7>=5?" ui-datepicker-week-end":"")+(k?" ui-datepicker-other-month":"")+(r.getTime()==ii.getTime()&&i==t.selectedMonth&&t._keyEvent||ti.getTime()==r.getTime()&&ti.getTime()==ii.getTime()?" "+this._dayOverClass:"")+(yt?" "+this._unselectableClass+" ui-state-disabled":"")+(k&&!ft?"":" "+nt[1]+(r.getTime()==rt.getTime()?" "+this._currentClass:"")+(r.getTime()==l.getTime()?" ui-datepicker-today":""))+'"'+((!k||ft)&&nt[2]?' title="'+nt[2]+'"':"")+(yt?"":' data-handler="selectDay" data-event="click" data-month="'+r.getMonth()+'" data-year="'+r.getFullYear()+'"')+">"+(k&&!ft?"&#xa0;":yt?'<span class="ui-state-default">'+r.getDate()+"<\/span>":'<a class="ui-state-default'+(r.getTime()==l.getTime()?" ui-state-highlight":"")+(r.getTime()==rt.getTime()?" ui-state-active":"")+(k?" ui-priority-secondary":"")+'" href="#">'+r.getDate()+"<\/a>")+"<\/td>",r.setDate(r.getDate()+1),r=this._daylightSavingAdjust(r)}f+=vt+"<\/tr>"}i++,i>11&&(i=0,u++),f+="<\/tbody><\/table>"+(it?"<\/div>"+(o[0]>0&&w==o[1]-1?'<div class="ui-datepicker-row-break"><\/div>':""):""),ot+=f}et+=ot}return et+=oi+(n.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"><\/iframe>':""),t._keyEvent=!1,et},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var v=this._get(n,"changeMonth"),y=this._get(n,"changeYear"),p=this._get(n,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',l="",w,b,h;if(f||!v)l+='<span class="ui-datepicker-month">'+e[t]+"<\/span>";else{for(w=r&&r.getFullYear()==i,b=u&&u.getFullYear()==i,l+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',h=0;h<12;h++)(!w||h>=r.getMonth())&&(!b||h<=u.getMonth())&&(l+='<option value="'+h+'"'+(h==t?' selected="selected"':"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(p||(c+=l+(f||!(v&&y)?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!y)c+='<span class="ui-datepicker-year">'+i+"<\/span>";else{var k=this._get(n,"yearRange").split(":"),d=(new Date).getFullYear(),g=function(n){var t=n.match(/c[+-].*/)?i+parseInt(n.substring(1),10):n.match(/[+-].*/)?d+parseInt(n,10):parseInt(n,10);return isNaN(t)?d:t},s=g(k[0]),a=Math.max(s,g(k[1]||""));for(s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';s<=a;s++)n.yearshtml+='<option value="'+s+'"'+(s==i?' selected="selected"':"")+">"+s+"<\/option>";n.yearshtml+="<\/select>",c+=n.yearshtml,n.yearshtml=null}return c+=this._get(n,"yearSuffix"),p&&(c+=(f||!(v&&y)?"&#xa0;":"")+l),c+="<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i=="Y"?t:0),f=n.drawMonth+(i=="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i=="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear(),(i=="M"||i=="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var r=this._getMinMaxDate(n,"min"),u=this._getMinMaxDate(n,"max"),i=r&&t<r?r:t;return i=u&&i>u?u:i},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max");return(!i||t.getTime()>=i.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}}),n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick).find(document.body).append(n.datepicker.dpDiv),n.datepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="isDisabled"||t=="getDate"||t=="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})},n.datepicker=new e,n.datepicker.initialized=!1,n.datepicker.uuid=+new Date,n.datepicker.version="1.9.1",window["DP_jQuery_"+r]=n}(jQuery),function(n,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},u={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.9.1",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e=this,t=this.options,h=t.title||"&#160;",r,u,f,o,s;r=(this.uiDialog=n("<div>")).addClass(i+t.dialogClass).css({display:"none",outline:0,zIndex:t.zIndex}).attr("tabIndex",-1).keydown(function(i){t.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(e.close(i),i.preventDefault())}).mousedown(function(n){e.moveToTop(!1,n)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),u=(this.uiDialogTitlebar=n("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){r.focus()}).prependTo(r),f=n("<a href='#'><\/a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(n){n.preventDefault(),e.close(n)}).appendTo(u),(this.uiDialogTitlebarCloseText=n("<span>")).addClass("ui-icon ui-icon-closethick").text(t.closeText).appendTo(f),o=n("<span>").uniqueId().addClass("ui-dialog-title").html(h).prependTo(u),s=(this.uiDialogButtonPane=n("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=n("<div>")).addClass("ui-dialog-buttonset").appendTo(s),r.attr({role:"dialog","aria-labelledby":o.attr("id")}),u.find("*").add(u).disableSelection(),this._hoverable(f),this._focusable(f),t.draggable&&n.fn.draggable&&this._makeDraggable(),t.resizable&&n.fn.resizable&&this._makeResizable(),this._createButtons(t.buttons),this._isOpen=!1,n.fn.bgiframe&&r.bgiframe(),this._on(r,{keydown:function(i){if(t.modal&&i.keyCode===n.ui.keyCode.TAB){var u=n(":tabbable",r),f=u.filter(":first"),e=u.filter(":last");if(i.target!==e[0]||i.shiftKey){if(i.target===f[0]&&i.shiftKey)return e.focus(1),!1}else return f.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var n,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),n=t.parent.children().eq(t.index),n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var u=this,i,r;if(this._isOpen)return!1===this._trigger("beforeClose",t)?void 0:(this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){u._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),n.ui.dialog.overlay.resize(),this.options.modal&&(i=0,n(".ui-dialog").each(function(){this!==u.uiDialog[0]&&(r=n(this).css("z-index"),isNaN(r)||(i=Math.max(i,r)))}),n.ui.dialog.maxZ=i),this)},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var r=this.options,u;return r.modal&&!t||!r.stack&&!r.modal?this._trigger("focus",i):(r.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=r.zIndex),this.overlay&&(n.ui.dialog.maxZ+=1,n.ui.dialog.overlay.maxZ=n.ui.dialog.maxZ,this.overlay.$el.css("z-index",n.ui.dialog.overlay.maxZ)),u={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},n.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",n.ui.dialog.maxZ),this.element.attr(u),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var t,i=this.options,r=this.uiDialog;return this._size(),this._position(i.position),r.show(i.show),this.overlay=i.modal?new n.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=r)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var i=this,r=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof t=="object"&&t!==null&&n.each(t,function(){return!(r=!0)}),r?(n.each(t,function(t,r){r=n.isFunction(r)?{click:r,text:t}:r;var u=n("<button type='button'><\/button>").attr(r,!0).unbind("click").click(function(){r.click.apply(i.element[0],arguments)}).appendTo(i.uiButtonSet);n.fn.button&&u.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging"),t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()],n(this).removeClass("ui-dialog-dragging"),t._trigger("dragStop",u,i(f)),n.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function f(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}i=i===t?this.options.resizable:i;var u=this,r=this.options,e=this.uiDialog.css("position"),o=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,i){n(this).addClass("ui-dialog-resizing"),u._trigger("resizeStart",t,f(i))},resize:function(n,t){u._trigger("resize",n,f(t))},stop:function(t,i){n(this).removeClass("ui-dialog-resizing"),r.height=n(this).height(),r.width=n(this).width(),u._trigger("resizeStop",t,f(i)),n.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(t){var i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(r[0]<0?r[0]:"+"+r[0])+" "+i[1]+(r[1]<0?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position,u=this.uiDialog.is(":visible"),u||this.uiDialog.show(),this.uiDialog.position(t),u||this.uiDialog.hide()},_setOptions:function(t){var e=this,i={},f=!1;n.each(t,function(n,t){e._setOption(n,t),n in r&&(f=!0),n in u&&(i[n]=t)}),f&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(t,r){var e,f,u=this.uiDialog;switch(t){case"buttons":this._createButtons(r);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":u.removeClass(this.options.dialogClass).addClass(i+r);break;case"disabled":r?u.addClass("ui-dialog-disabled"):u.removeClass("ui-dialog-disabled");break;case"draggable":e=u.is(":data(draggable)"),e&&!r&&u.draggable("destroy"),!e&&r&&this._makeDraggable();break;case"position":this._position(r);break;case"resizable":f=u.is(":data(resizable)"),f&&!r&&u.resizable("destroy"),f&&typeof r=="string"&&u.resizable("option","handles",r),f||r===!1||this._makeResizable(r);break;case"title":n(".ui-dialog-title",this.uiDialogTitlebar).html(""+(r||"&#160;"))}this._super(t,r)},_size:function(){var i,r,u,t=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),t.minWidth>t.width&&(t.width=t.minWidth),i=this.uiDialog.css({height:"auto",width:t.width}).outerHeight(),r=Math.max(0,t.minHeight-i),t.height==="auto"?n.support.minHeight?this.element.css({minHeight:r,height:"auto"}):(this.uiDialog.show(),u=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(u,r))):this.element.height(Math.max(t.height-i,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),n.extend(n.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(n){var t=n.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=n.ui.dialog.overlay.create(t)}}),n.extend(n.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:n.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(n){return n+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ)return!1})},1),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||n("<div>").addClass("ui-widget-overlay");return n(document).bind("keydown.dialog-overlay",function(r){var u=n.ui.dialog.overlay.instances;u.length!==0&&u[u.length-1]===i&&t.options.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===n.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),n.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var r=n.inArray(t,this.instances),i=0;r!==-1&&this.oldInstances.push(this.instances.splice(r,1)[0]),this.instances.length===0&&n([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),n.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,i;return n.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?n(window).height()+"px":t+"px"):n(document).height()+"px"},width:function(){var t,i;return n.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?n(window).width()+"px":t+"px"):n(document).width()+"px"},resize:function(){var t=n([]);n.each(n.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:n.ui.dialog.overlay.width(),height:n.ui.dialog.overlay.height()})}}),n.extend(n.ui.dialog.overlay.prototype,{destroy:function(){n.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper!="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");var n=this.options.addClasses?"ui-draggable":"";n+=this.options.disabled?" ui-draggable-disabled":"",n.length&&this.element.addClass(n),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),!this.handle)?!1:(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"><\/div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0)},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r,u,f;for(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),r=this.element[0],u=!1;r&&(r=r.parentNode);)r==document&&(u=!0);return!u&&this.options.helper==="original"?!1:(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(f=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",t)!==!1&&f._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo=="parent"?this.element[0].parentNode:r.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,r,t,f,u;if(i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[i.containment=="document"?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,i.containment=="document"?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(i.containment=="document"?0:n(window).scrollLeft())+n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(i.containment=="document"?0:n(window).scrollTop())+(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor==Array)i.containment.constructor==Array&&(this.containment=i.containment);else{if(r=n(i.containment),t=r[0],!t)return;f=r.offset(),u=n(t).css("overflow")!="hidden",this.containment=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=r}},_convertPositionTo:function(t,i){i||(i=this.position);var r=t=="absolute"?1:-1,e=this.options,u=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r=this.options,h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(h[0].tagName),e=t.pageX,o=t.pageY,i,s,u,f;return this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top<i[1]||u-this.offset.click.top>i[3]?u-this.offset.click.top<i[1]?u+r.grid[1]:u-r.grid[1]:u:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left<i[0]||f-this.offset.click.left>i[2]?f-this.offset.click.left<i[0]?f+r.grid[0]:f-r.grid[0]:f:f)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:h.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[],n(u.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this,f=function(t){var i=this.offset.click.top,r=this.offset.click.left,u=this.positionAbs.top,f=this.positionAbs.left,e=t.height,o=t.width,s=t.top,h=t.left;return n.ui.isOver(u+i,f+r,s,h,e,o)};n.each(r.sortables,function(){var e=!1,o=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=o&&this.instance._intersectsWith(this.instance.containerCache)&&n.ui.contains(o.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(){var r=n("body"),u=n(this).data("draggable").options;r.css("cursor")&&(u._cursor=r.css("cursor")),r.css("cursor",u.cursor)},stop:function(){var r=n(this).data("draggable").options;r._cursor&&n("body").css("cursor",r._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity")),r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(){var r=n(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t){var u=n(this).data("draggable"),r=u.options,f=!1;u.scrollParent[0]!=document&&u.scrollParent[0].tagName!="HTML"?(r.axis&&r.axis=="x"||(u.overflowOffset.top+u.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?u.scrollParent[0].scrollTop=f=u.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-u.overflowOffset.top<r.scrollSensitivity&&(u.scrollParent[0].scrollTop=f=u.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&r.axis=="y"||(u.overflowOffset.left+u.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?u.scrollParent[0].scrollLeft=f=u.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-u.overflowOffset.left<r.scrollSensitivity&&(u.scrollParent[0].scrollLeft=f=u.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&r.axis=="x"||(t.pageY-n(document).scrollTop()<r.scrollSensitivity?f=n(document).scrollTop(n(document).scrollTop()-r.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<r.scrollSensitivity&&(f=n(document).scrollTop(n(document).scrollTop()+r.scrollSpeed))),r.axis&&r.axis=="y"||(t.pageX-n(document).scrollLeft()<r.scrollSensitivity?f=n(document).scrollLeft(n(document).scrollLeft()-r.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<r.scrollSensitivity&&(f=n(document).scrollLeft(n(document).scrollLeft()+r.scrollSpeed)))),f!==!1&&n.ui.ddmanager&&!r.dropBehaviour&&n.ui.ddmanager.prepareOffsets(u,t)}}),n.ui.plugin.add("draggable","snap",{start:function(){var r=n(this).data("draggable"),u=r.options;r.snapElements=[],n(u.snap.constructor!=String?u.snap.items||":data(draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i){for(var r=n(this).data("draggable"),k=r.options,u=k.snapTolerance,c=i.offset.left,a=c+r.helperProportions.width,l=i.offset.top,v=l+r.helperProportions.height,d,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(!(e-u<c&&c<s+u&&o-u<l&&l<h+u||e-u<c&&c<s+u&&o-u<v&&v<h+u||e-u<a&&a<s+u&&o-u<l&&l<h+u||e-u<a&&a<s+u&&o-u<v&&v<h+u)){r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1;continue}if(k.snapMode!="inner"){var y=Math.abs(o-v)<=u,p=Math.abs(h-l)<=u,w=Math.abs(e-a)<=u,b=Math.abs(s-c)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top),p&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top),w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left),b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}if(d=y||p||w||b,k.snapMode!="outer"){var y=Math.abs(o-l)<=u,p=Math.abs(h-v)<=u,w=Math.abs(e-c)<=u,b=Math.abs(s-a)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top),p&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left),b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[f].snapping&&(y||p||w||b||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=y||p||w||b||d}}}),n.ui.plugin.add("draggable","stack",{start:function(){var f=n(this).data("draggable").options,r=n.makeArray(n(f.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)}),u;r.length&&(u=parseInt(r[0].style.zIndex)||0,n(r).each(function(n){this.style.zIndex=u+n}),this[0].style.zIndex=u+r.length)}}),n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex")),r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){n.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=n.isFunction(i)?i:function(n){return n.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[],n.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var i=n.ui.ddmanager.droppables[this.options.scope],t=0;t<i.length;t++)i[t]==this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){t=="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u;return!r||(r.currentItem||r.element)[0]==this.element[0]?!1:(u=!1,this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}}),n.ui.intersect=function(t,i,r){if(!i.offset)return!1;var e=(t.positionAbs||t.position.absolute).left,s=e+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,h=o+t.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&f<o+t.helperProportions.height/2&&h-t.helperProportions.height/2<l;case"pointer":var a=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,v=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return n.ui.isOver(v,a,f,u,i.proportions.height,i.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}},n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r,f;n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]==u[r].element[0]){u[r].proportions.height=0;continue n}(u[r].visible=u[r].element.css("display")!="none",u[r].visible)&&(o=="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i),n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var f,u,r,o,e;this.options.disabled||this.greedyChild||!this.visible||(f=n.ui.intersect(t,this,this.options.tolerance),u=!f&&this.isover==1?"isout":f&&this.isover==0?"isover":null,u)&&(this.options.greedy&&(o=this.options.scope,e=this.element.parents(":data(droppable)").filter(function(){return n.data(this,"droppable").options.scope===o}),e.length&&(r=n.data(e[0],"droppable"),r.greedyChild=u=="isover"?1:0)),r&&u=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[u]=1,this[u=="isout"?"isover":"isout"]=0,this[u=="isover"?"_over":"_out"].call(this,i),r&&u=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i)))})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),jQuery.effects||function(n,t){var i=n.uiBackCompat!==!1,r="ui-effects-";n.effects={effect:{}};
/*!
 * jQuery Color Animations v2.0.0
 * http://jquery.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Mon Aug 13 13:41:02 2012 -0500
 */
(function(t,i){function o(n,t,i){var r=h[t.type]||{};return n==null?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n))?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n}function a(n){var i=r(),o=i._rgba=[];return(n=n.toLowerCase(),u(p,function(t,r){var u,s=r.re.exec(n),h=s&&r.parse(s),e=r.space||"rgba";if(h)return u=i[e](h),i[f[e].cache]=u[f[e].cache],o=i._rgba=u._rgba,!1}),o.length)?(o.join()==="0,0,0,0"&&t.extend(o,e.transparent),i):e[n]}function s(n,t,i){return(i=(i+1)%1,i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}var v="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),y=/^([\-+])=\s*(\d+\.?\d*)/,p=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1]*2.55,n[2]*2.55,n[3]*2.55,n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],r=t.Color=function(n,i,r,u){return new t.Color.fn.parse(n,i,r,u)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=r.support={},l=t("<p>")[0],e,u=t.each;l.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=l.style.backgroundColor.indexOf("rgba")>-1,u(f,function(n,t){t.cache="_"+n,t.props.alpha={idx:3,type:"percent",def:1}}),r.fn=t.extend(r.prototype,{parse:function(s,h,c,l){if(s===i)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(h),h=i);var v=this,y=t.type(s),p=this._rgba=[];return(h!==i&&(s=[s,h,c,l],y="array"),y==="string")?this.parse(a(s)||e._default):y==="array"?(u(f.rgba.props,function(n,t){p[t.idx]=o(s[t.idx],t)}),this):y==="object"?(s instanceof r?u(f,function(n,t){s[t.cache]&&(v[t.cache]=s[t.cache].slice())}):u(f,function(t,i){var r=i.cache;u(i.props,function(n,t){if(!v[r]&&i.to){if(n==="alpha"||s[n]==null)return;v[r]=i.to(v._rgba)}v[r][t.idx]=o(s[n],t,!0)}),v[r]&&n.inArray(null,v[r].slice(0,3))<0&&(v[r][3]=1,i.from&&(v._rgba=i.from(v[r])))}),this):void 0},is:function(n){var e=r(n),t=!0,i=this;return u(f,function(n,r){var o,f=e[r.cache];return f&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],u(r.props,function(n,i){if(f[i.idx]!=null)return t=f[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return u(f,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var i=r(n),c=i._space(),e=f[c],l=this.alpha()===0?r("transparent"):this,a=l[e.cache]||e.to(l._rgba),s=a.slice();return i=i[e.cache],u(e.props,function(n,r){var c=r.idx,u=a[c],f=i[c],e=h[r.type]||{};f!==null&&(u===null?s[c]=f:(e.mod&&(f-u>e.mod/2?u+=e.mod:u-f>e.mod/2&&(u-=e.mod)),s[c]=o((f-u)*t+u,r)))}),this[c](s)},blend:function(n){if(this._rgba[3]===1)return this;var i=this._rgba.slice(),u=i.pop(),f=r(n)._rgba;return r(t.map(i,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",n=t.map(this._rgba,function(n,t){return n==null?t>2?1:0:n});return n[3]===1&&(n.pop(),i="rgb("),i+n.join()+")"},toHslaString:function(){var i="hsla(",n=t.map(this.hsla(),function(n,t){return n==null&&(n=t>2?1:0),t&&t<3&&(n=Math.round(n*100)+"%"),n});return n[3]===1&&(n.pop(),i="hsl("),i+n.join()+")"},toHexString:function(n){var i=this._rgba.slice(),r=i.pop();return n&&i.push(~~(r*255)),"#"+t.map(i,function(n){return n=(n||0).toString(16),n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),r.fn.parse.prototype=r.fn,f.hsla.to=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var t=n[0]/255,i=n[1]/255,o=n[2]/255,l=n[3],r=Math.max(t,i,o),h=Math.min(t,i,o),u=r-h,c=r+h,f=c*.5,e,s;return e=h===r?0:t===r?60*(i-o)/u+360:i===r?60*(o-t)/u+120:60*(t-i)/u+240,s=f===0||f===1?f:f<=.5?u/c:u/(2-c),[Math.round(e)%360,s,f,l==null?1:l]},f.hsla.from=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=t<=.5?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(s(f,i,r+1/3)*255),Math.round(s(f,i,r)*255),Math.round(s(f,i,r-1/3)*255),e]},u(f,function(n,f){var s=f.props,e=f.cache,h=f.to,c=f.from;r.fn[n]=function(n){if(h&&!this[e]&&(this[e]=h(this._rgba)),n===i)return this[e].slice();var l,a=t.type(n),v=a==="array"||a==="object"?n:arguments,f=this[e].slice();return u(s,function(n,t){var i=v[a==="object"?n:t.idx];i==null&&(i=f[t.idx]),f[t.idx]=o(i,t)}),c?(l=r(c(f)),l[e]=f,l):r(f)},u(s,function(i,u){r.fn[i]||(r.fn[i]=function(r){var f=t.type(r),h=i==="alpha"?this._hsla?"hsla":"rgba":n,o=this[h](),s=o[u.idx],e;return f==="undefined"?s:(f==="function"&&(r=r.call(this,s),f=t.type(r)),r==null&&u.empty)?this:(f==="string"&&(e=y.exec(r),e&&(r=s+parseFloat(e[2])*(e[1]==="+"?1:-1))),o[u.idx]=r,this[h](o))})})}),u(v,function(n,i){t.cssHooks[i]={set:function(n,u){var o,f,e="";if(t.type(u)!=="string"||(o=a(u))){if(u=r(o||u),!c.rgba&&u._rgba[3]!==1){for(f=i==="backgroundColor"?n.parentNode:n;(e===""||e==="transparent")&&f&&f.style;)try{e=t.css(f,"backgroundColor"),f=f.parentNode}catch(s){}u=u.blend(e&&e!=="transparent"?e:"_default")}u=u.toRgbaString()}try{n.style[i]=u}catch(h){}}},t.fx.step[i]=function(n){n.colorInit||(n.start=r(n.elem,i),n.end=r(n.end),n.colorInit=!0),t.cssHooks[i].set(n.elem,n.start.transition(n.end,n.pos))}}),t.cssHooks.borderColor={expand:function(n){var t={};return u(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}},e=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,r={},i,u;if(t&&t.length&&t[0]&&t[t[0]])for(u=t.length;u--;)i=t[u],typeof t[i]=="string"&&(r[n.camelCase(i)]=t[i]);else for(i in t)typeof t[i]=="string"&&(r[i]=t[i]);return r}function f(t,i){var e={},r,f;for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){(n.end==="none"||n.setAttr)&&(n.pos!==1||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}}),n.effects.animateClass=function(t,u,e,o){var s=n.speed(u,e,o);return this.queue(function(){var e=n(this),h=e.attr("class")||"",o,u=s.children?e.find("*").andSelf():e;u=u.map(function(){var t=n(this);return{el:t,start:i.call(this)}}),o=function(){n.each(r,function(n,i){t[i]&&e[i+"Class"](t[i])})},o(),u=u.map(function(){return this.end=i.call(this.el[0]),this.diff=f(this.start,this.end),this}),e.attr("class",h),u=u.map(function(){var i=this,t=n.Deferred(),r=jQuery.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()}),n.when.apply(n,u.get()).done(function(){o(),n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})}),s.complete.call(e[0])})})},n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.call(this,{add:t},i,r,u):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.call(this,{remove:t},i,r,u):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):this._toggleClass(i,r):n.effects.animateClass.call(this,{toggle:i},r,u,f)},switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function u(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},i==null&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function f(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects.effect[t]?i&&n.effects[t]?!1:!0:!1}n.extend(n.effects,{version:"1.9.1",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data(r+t[i],n[0].style[t[i]])},restore:function(n,i){for(var f,u=0;u<i.length;u++)i[u]!==null&&(f=n.data(r+i[u]),f===t&&(f=""),n.css(i[u],f))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")==="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}}),n.fn.extend({effect:function(){function s(i){function o(){n.isFunction(f)&&f.call(u[0]),n.isFunction(i)&&i()}var u=n(this),f=t.complete,e=t.mode;(u.is(":hidden")?e==="hide":e==="show")?o():r.call(u[0],t,o)}var t=u.apply(this,arguments),f=t.mode,e=t.queue,r=n.effects.effect[t.effect],o=!r&&i&&n.effects[t.effect];return n.fx.off||!(r||o)?f?this[f](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):r?e===!1?this.each(s):this.queue(e||"fx",s):o.call(this,{options:t,duration:t.duration,callback:t.complete,mode:t.mode})},_show:n.fn.show,show:function(n){if(f(n))return this._show.apply(this,arguments);var t=u.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:n.fn.hide,hide:function(n){if(f(n))return this._hide.apply(this,arguments);var t=u.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(f(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var i=u.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}}),n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}}),n.each(t,function(t,i){n.easing["easeIn"+t]=i,n.easing["easeOut"+t]=function(n){return 1-i(1-n)},n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:1-i(n*-2+2)/2}})}()}(jQuery),function(n){var i=/up|down|vertical/,r=/up|left|vertical|horizontal/;n.effects.effect.blind=function(t,u){var f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,t.mode||"hide"),w=t.direction||"up",o=i.test(w),l=o?"height":"width",a=o?"top":"left",b=r.test(w),v={},y=p==="show",e,s,h;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c),f.show(),e=n.effects.createWrapper(f).css({overflow:"hidden"}),s=e[l](),h=parseFloat(e.css(a))||0,v[l]=y?s:0,b||(f.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),v[a]=y?h:s+h),y&&(e.css(l,0),b||e.css(a,h+s)),e.animate(v,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){p==="hide"&&f.hide(),n.effects.restore(f,c),n.effects.removeWrapper(f),u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=k==="hide",y=k==="show",h=t.direction||"up",u=t.distance,p=t.times||5,d=p*2+(y||f?1:0),c=t.duration/d,l=t.easing,e=h==="up"||h==="down"?"top":"left",w=h==="up"||h==="left",b,o,s,a=r.queue(),g=a.length;for((y||f)&&v.push("opacity"),n.effects.save(r,v),r.show(),n.effects.createWrapper(r),u||(u=r[e==="top"?"outerHeight":"outerWidth"]()/3),y&&(s={opacity:1},s[e]=0,r.css("opacity",0).css(e,w?-u*2:u*2).animate(s,c,l)),f&&(u=u/Math.pow(2,p-1)),s={},s[e]=0,b=0;b<p;b++)o={},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l).animate(s,c,l),u=f?u*2:u/2;f&&(o={opacity:0},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l)),r.queue(function(){f&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var r=n(this),h=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),f=v==="show",y=t.direction||"vertical",c=y==="vertical",o=c?"height":"width",l=c?"top":"left",s={},a,u,e;n.effects.save(r,h),r.show(),a=n.effects.createWrapper(r).css({overflow:"hidden"}),u=r[0].tagName==="IMG"?a:r,e=u[o](),f&&(u.css(o,0),u.css(l,e/2)),s[o]=f?e:0,s[l]=f?0:e/2,u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e=c==="show",u=t.direction||"left",o=u==="up"||u==="down"?"top":"left",s=u==="up"||u==="left"?"pos":"neg",l={opacity:e?1:0},f;n.effects.save(r,h),r.show(),n.effects.createWrapper(r),f=t.distance||r[o==="top"?"outerHeight":"outerWidth"](!0)/2,e&&r.css("opacity",0).css(o,s==="pos"?-f:f),l[o]=(e?s==="pos"?"+=":"-=":s==="pos"?"-=":"+=")+f,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c==="hide"&&r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function k(){l.push(this),l.length===o*c&&d()}function d(){r.css({visibility:"visible"}),n(l).remove(),u||r.hide(),i()}for(var o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),b=n.effects.setMode(r,t.mode||"hide"),u=b==="show",w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),l=[],f,a,v,y,p,e=0;e<o;e++)for(v=w.top+e*h,p=e-(o-1)/2,f=0;f<c;f++)a=w.left+f*s,y=f-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-f*s,top:-e*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:a+(u?y*s:0),top:v+(u?p*h:0),opacity:u?0:1}).animate({left:a+(u?0:y*s),top:v+(u?0:p*h),opacity:u?1:0},t.duration||500,t.easing,k)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(r,t.mode||"hide"),e=h==="show",c=h==="hide",f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=e!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,u,o,w={},b={};n.effects.save(r,s),r.show(),u=n.effects.createWrapper(r).css({overflow:"hidden"}),o=v?[u.width(),u.height()]:[u.height(),u.width()],l&&(f=parseInt(l[1],10)/100*o[c?0:1]),e&&u.css(a?{height:0,width:f}:{height:f,width:0}),w[y[0]]=e?o[0]:f,b[y[1]]=e?o[1]:0,u.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};f==="hide"&&(e.opacity=0),n.effects.save(r,u),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f==="hide"&&r.hide(),n.effects.restore(r,u),i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"show"),h=e==="show",a=e==="hide",v=h||e==="hide",o=(t.times||5)*2+(v?1:0),c=t.duration/o,u=0,f=r.queue(),l=f.length,s;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),s=1;s<o;s++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing),r.queue(function(){a&&r.hide(),i()}),l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,o+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),f=n.effects.setMode(r,t.mode||"hide"),e=f==="hide",o=parseInt(t.percent,10)||150,s=o/100,u={height:r.height(),width:r.width()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:f,complete:i,percent:e?o:100,from:e?u:{height:u.height*s,width:u.width*s}}),r.effect(t)},n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:f==="hide"?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:h!=="horizontal"?s/100:1,x:h!=="vertical"?s/100:1};r.effect="size",r.queue=!1,r.complete=i,f!=="effect"&&(r.origin=c||["middle","center"],r.restore=!0),r.from=t.from||(f==="show"?{height:0,width:0}:e),r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x},r.fade&&(f==="show"&&(r.from.opacity=0,r.to.opacity=1),f==="hide"&&(r.from.opacity=1,r.to.opacity=0)),u.effect(r)},n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],k=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||h!=="effect",c=t.scale||"both",b=t.origin||["middle","center"],d=r.css("position"),s=y?w:k,p={height:0,width:0};h==="show"&&r.show(),f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},t.mode==="toggle"&&h==="show"?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||(h==="show"?p:f),r.to=t.to||(h==="hide"?p:f)),u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}},(c==="box"||c==="both")&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to))),(c==="content"||c==="both")&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to)),n.effects.save(r,s),r.show(),n.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x),r.css(r.from),(c==="content"||c==="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width()};y&&n.effects.save(i,a),i.from={height:r.height*u.from.y,width:r.width*u.from.x},i.to={height:r.height*u.to.y,width:r.width*u.to.x},u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to)),u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){r.to.opacity===0&&r.css("opacity",r.from.opacity),h==="hide"&&r.hide(),n.effects.restore(r,s),y||(d==="static"?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return i==="auto"?u+"px":f+u+"px"})})),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",o=t.distance||20,y=t.times||3,p=y*2+1,u=Math.round(t.duration/p),s=f==="up"||f==="down"?"top":"left",h=f==="up"||f==="left",c={},l={},w={},a,e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),c[s]=(h?"-=":"+=")+o,l[s]=(h?"+=":"-=")+o*2,w[s]=(h?"-=":"+=")+o*2,r.animate(c,u,t.easing),a=1;a<y;a++)r.animate(l,u,t.easing).animate(w,u,t.easing);r.animate(l,u,t.easing).animate(c,u/2,t.easing).queue(function(){k==="hide"&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c=h==="show",f=t.direction||"left",e=f==="up"||f==="down"?"top":"left",o=f==="up"||f==="left",u,l={};n.effects.save(r,s),r.show(),u=t.distance||r[e==="top"?"outerHeight":"outerWidth"](!0),n.effects.createWrapper(r).css({overflow:"hidden"}),c&&r.css(e,o?isNaN(u)?"-"+u:-u:u),l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h==="hide"&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f=r.css("position")==="fixed",e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n('<div class="ui-effects-transfer"><\/div>').appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove(),i()})}}(jQuery),function(n){var i=!1;n.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var r=n(t.target).closest(".ui-menu-item");!i&&r.not(".ui-state-disabled").length&&(i=!0,this.select(t),r.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,f=this.previousFilter||"",r=String.fromCharCode(t.keyCode),e=!1,clearTimeout(this.filterTimer),r===f?e=!0:r=f+r,u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}),i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-??\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),i.each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u),t.attr("aria-labelledby",i.attr("id"))}),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(n.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close(),this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element),n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.9.1",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(n){return n===t?this._value():(this._setOption("value",n),this)},_setOption:function(n,t){n==="value"&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(n,t)},_value:function(){var n=this.options.value;return typeof n!="number"&&(n=0),Math.min(this.options.max,Math.max(this.min,n))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var n=this.value(),t=this._percentage();this.oldValue!==n&&(this.oldValue=n,this._trigger("change")),this.valueDiv.toggle(n>this.min).toggleClass("ui-corner-right",n===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",n)}})}(jQuery),function(n){n.widget("ui.resizable",n.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var i=this,t=this.options,f,r;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n('<div class="ui-wrapper" style="overflow: hidden;"><\/div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String)for(this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),f=this.handles.split(","),this.handles={},r=0;r<f.length;r++){var u=n.trim(f[r]),o="ui-resizable-"+u,e=n('<div class="ui-resizable-handle '+o+'"><\/div>');e.css({zIndex:t.zIndex}),"se"==u&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(e)}this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor==String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),u=0,u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),f=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(f,u),this._proportionallyResize()),!n(this.handles[i]).length},this._renderAxis(this.element),this._handles=n(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!i.resizing){if(this.className)var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);i.axis=n&&n[1]?n[1]:"se"}}),t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),i._handles.show())}).mouseleave(function(){t.disabled||i.resizing||(n(this).addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){var i,t;return this._mouseDestroy(),i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()},this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i=!1,r;for(r in this.handles)n(this.handles[r])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var u=this.options,s=this.element.position(),i=this.element,f,e,o;return this.resizing=!0,this.documentScroll={top:n(document).scrollTop(),left:n(document).scrollLeft()},(i.is(".ui-draggable")||/absolute/.test(i.css("position")))&&i.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=r(this.helper.css("left")),e=r(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",o=="auto"?this.axis+"-resize":o),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(n){var u=this.helper,s=this.options,h={},c=this,i=this.originalMousePosition,f=this.axis,e=n.pageX-i.left||0,o=n.pageY-i.top||0,r=this._change[f],t;return r?(t=r.apply(this,[n,e,o]),this._updateVirtualBoundaries(n.shiftKey),(this._aspectRatio||n.shiftKey)&&(t=this._updateRatio(t,n)),t=this._respectSize(t,n),this._propagate("resize",n),u.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(t),this._trigger("resize",n,this.ui()),!1):!1},_mouseStop:function(t){var r,i;if(this.resizing=!1,r=this.options,i=this,this._helper){var u=this._proportionallyResizeElements,f=u.length&&/textarea/i.test(u[0].nodeName),e=f&&n.ui.hasScroll(u[0],"left")?0:i.sizeDiff.height,o=f?0:i.sizeDiff.width,s={width:i.helper.width()-o,height:i.helper.height()-e},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;r.animate||this.element.css(n.extend(s,{top:c,left:h})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!r.animate&&this._proportionallyResize()}return n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var r=this.options,u,f,e,o,t;t={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:Infinity,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:Infinity},(this._aspectRatio||n)&&(u=t.minHeight*this.aspectRatio,e=t.minWidth/this.aspectRatio,f=t.maxHeight*this.aspectRatio,o=t.maxWidth/this.aspectRatio,u>t.minWidth&&(t.minWidth=u),e>t.minHeight&&(t.minHeight=e),f<t.maxWidth&&(t.maxWidth=f),o<t.maxHeight&&(t.maxHeight=o)),this._vBoundaries=t},_updateCache:function(n){var t=this.options;this.offset=this.helper.offset(),i(n.left)&&(this.position.left=n.left),i(n.top)&&(this.position.top=n.top),i(n.height)&&(this.size.height=n.height),i(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var e=this.options,r=this.position,u=this.size,f=this.axis;return i(n.height)?n.width=n.height*this.aspectRatio:i(n.width)&&(n.height=n.width/this.aspectRatio),f=="sw"&&(n.left=r.left+(u.width-n.width),n.top=null),f=="nw"&&(n.top=r.top+(u.height-n.height),n.left=r.left+(u.width-n.width)),n},_respectSize:function(n,t){var y=this.helper,r=this._vBoundaries,p=this._aspectRatio||t.shiftKey,f=this.axis,e=i(n.width)&&r.maxWidth&&r.maxWidth<n.width,o=i(n.height)&&r.maxHeight&&r.maxHeight<n.height,s=i(n.width)&&r.minWidth&&r.minWidth>n.width,h=i(n.height)&&r.minHeight&&r.minHeight>n.height,u;s&&(n.width=r.minWidth),h&&(n.height=r.minHeight),e&&(n.width=r.maxWidth),o&&(n.height=r.maxHeight);var c=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,a=/sw|nw|w/.test(f),v=/nw|ne|n/.test(f);return s&&a&&(n.left=c-r.minWidth),e&&a&&(n.left=c-r.maxWidth),h&&v&&(n.top=l-r.minHeight),o&&v&&(n.top=l-r.maxHeight),u=!n.width&&!n.height,u&&!n.left&&n.top?n.top=null:u&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){var e=this.options,r,i,t,u,f;if(this._proportionallyResizeElements.length)for(r=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.borderDif||(u=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],f=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")],this.borderDif=n.map(u,function(n,t){var i=parseInt(n,10)||0,r=parseInt(f[t],10)||0;return i+r})),t.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})},_renderProxy:function(){var r=this.element,u=this.options,t,i;this.elementOffset=r.offset(),this._helper?(this.helper=this.helper||n('<div style="overflow:hidden;"><\/div>'),t=n.ui.ie6?1:0,i=n.ui.ie6?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-t+"px",top:this.elementOffset.top-t+"px",zIndex:++u.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var f=this.options,r=this.originalSize,u=this.originalPosition;return{left:u.left+t,width:r.width-t}},n:function(n,t,i){var f=this.options,r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]),t!="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var f=n(this).data("resizable"),r=f.options,u=function(t){n(t).each(function(){var t=n(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof r.alsoResize!="object"||r.alsoResize.parentNode?u(r.alsoResize):r.alsoResize.length?(r.alsoResize=r.alsoResize[0],u(r.alsoResize)):n.each(r.alsoResize,function(n){u(n)})},resize:function(t,i){var r=n(this).data("resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)}),t.css(u)})};typeof u.alsoResize!="object"||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}}),n.ui.plugin.add("resizable","animate",{stop:function(t){var r=n(this).data("resizable"),f=r.options,u=r._proportionallyResizeElements,e=u.length&&/textarea/i.test(u[0].nodeName),h=e&&n.ui.hasScroll(u[0],"left")?0:r.sizeDiff.height,c=e?0:r.sizeDiff.width,l={width:r.size.width-c,height:r.size.height-h},o=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,s=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(n.extend(l,s&&o?{top:s,left:o}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var i={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};u&&u.length&&n(u[0]).css({width:i.width,height:i.height}),r._updateCache(i),r._propagate("resize",t)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var u=n(this).data("resizable"),c=u.options,l=u.element,e=c.containment,f=e instanceof n?e.get(0):/parent/.test(e)?l.parent().get(0):e,o,s;if(f)if(u.containerElement=n(f),/document/.test(e)||e==document)u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight};else{o=n(f),s=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){s[n]=r(o.css("padding"+t))}),u.containerOffset=o.offset(),u.containerPosition=o.position(),u.containerSize={height:o.innerHeight()-s[3],width:o.innerWidth()-s[1]};var h=u.containerOffset,a=u.containerSize.height,v=u.containerSize.width,y=n.ui.hasScroll(f,"left")?f.scrollWidth:v,p=n.ui.hasScroll(f)?f.scrollHeight:a;u.parentData={element:f,left:h.left,top:h.top,width:y,height:p}}},resize:function(t){var r=n(this).data("resizable"),l=r.options,y=r.containerSize,u=r.containerOffset,p=r.size,s=r.position,e=r._aspectRatio||t.shiftKey,f={top:0,left:0},h=r.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(f=u),s.left<(r._helper?u.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-u.left:r.position.left-f.left),e&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=l.helper?u.left:0),s.top<(r._helper?u.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-u.top:r.position.top),e&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?u.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var o=Math.abs((r._helper?r.offset.left-f.left:r.offset.left-f.left)+r.sizeDiff.width),c=Math.abs((r._helper?r.offset.top-f.top:r.offset.top-u.top)+r.sizeDiff.height),a=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));a&&v&&(o-=r.parentData.left),o+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-o,e&&(r.size.height=r.size.width/r.aspectRatio)),c+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-c,e&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var r=n(this).data("resizable"),f=r.options,a=r.position,e=r.containerOffset,o=r.containerPosition,s=r.containerElement,u=n(r.helper),h=u.offset(),c=u.outerWidth()-r.sizeDiff.width,l=u.outerHeight()-r.sizeDiff.height;r._helper&&!f.animate&&/relative/.test(s.css("position"))&&n(this).css({left:h.left-o.left-e.left,width:c,height:l}),r._helper&&!f.animate&&/static/.test(s.css("position"))&&n(this).css({left:h.left-o.left-e.left,width:c,height:l})}}),n.ui.plugin.add("resizable","ghost",{start:function(){var r=n(this).data("resizable"),u=r.options,f=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof u.ghost=="string"?u.ghost:""),r.ghost.appendTo(r.helper)},resize:function(){var r=n(this).data("resizable"),u=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(){var r=n(this).data("resizable"),u=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(t){var r=n(this).data("resizable"),u=r.options,c=r.size,f=r.originalSize,s=r.originalPosition,h=r.axis,l=u._aspectRatio||t.shiftKey,e,o;u.grid=typeof u.grid=="number"?[u.grid,u.grid]:u.grid,e=Math.round((c.width-f.width)/(u.grid[0]||1))*(u.grid[0]||1),o=Math.round((c.height-f.height)/(u.grid[1]||1))*(u.grid[1]||1),/^(se|s|e)$/.test(h)?(r.size.width=f.width+e,r.size.height=f.height+o):/^(ne)$/.test(h)?(r.size.width=f.width+e,r.size.height=f.height+o,r.position.top=s.top-o):/^(sw)$/.test(h)?(r.size.width=f.width+e,r.size.height=f.height+o,r.position.left=s.left-e):(r.size.width=f.width+e,r.size.height=f.height+o,r.position.top=s.top-o,r.position.left=s.left-e)}});var r=function(n){return parseInt(n,10)||0},i=function(n){return!isNaN(parseInt(n,10))}}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var i=this,t;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=n(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var r=this,i;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(i=this.options,this.selectees=n(i.filter,this.element[0]),this._trigger("start",t),n(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=n.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element}))}),n(t.target).parents().andSelf().each(function(){var i=n.data(this,"selectable-item"),u;if(i)return u=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),i.unselecting=!u,i.selecting=u,i.selected=u,u?r._trigger("selecting",t,{selecting:i.element}):r._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){var e=this,o;if(this.dragged=!0,!this.options.disabled){var s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(o=u,u=i,i=o),r>f&&(o=f,f=r,r=o),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),h;o&&o.element!=e.element[0]&&(h=!1,s.tolerance=="touch"?h=!(o.left>u||o.right<i||o.top>f||o.bottom<r):s.tolerance=="fit"&&(h=o.left>i&&o.right<u&&o.top>r&&o.bottom<f),h?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,e._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),e._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,e._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this,r;return this.dragged=!1,r=this.options,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){var i=5;n.widget("ui.slider",n.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var r,u,t=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>",e=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(t.disabled?" ui-slider-disabled ui-disabled":"")),this.range=n([]),t.range&&(t.range===!0&&(t.values||(t.values=[this._valueMin(),this._valueMin()]),t.values.length&&t.values.length!==2&&(t.values=[t.values[0],t.values[0]])),this.range=n("<div><\/div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))),u=t.values&&t.values.length||1,r=f.length;r<u;r++)e.push(o);this.handles=f.add(n(e.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).mouseenter(function(){t.disabled||n(this).addClass("ui-state-hover")}).mouseleave(function(){n(this).removeClass("ui-state-hover")}).focus(function(){t.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")}),this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var o,u,r,f,e=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),o=this._start(t,e),o===!1))return}f=this.options.step,u=this.options.values&&this.options.values.length?r=this.values(e):r=this.value();switch(t.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(t,e,r)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var s,u,f,i,r,h,e,c,l=this,o=this.options;return o.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},u=this._normValueFromMouse(s),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(u-l.values(t));f>e&&(f=e,i=n(this),r=t)}),o.range===!0&&this.values(1)===o.min&&(r+=1,i=n(this.handles[r])),h=this._start(t,r),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=r,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,u),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t);return}if(arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=t+"%",n(this).stop(1,1)[u?"animate":"css"](o,i.animate),r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate}))),s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))}})}(jQuery),function(n){n.widget("ui.sortable",n.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var n=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?n.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var u=this,r,e,f;return this.reverting?!1:this.options.disabled||this.options.type=="static"?!1:(this._refreshItems(t),r=null,e=n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")==u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")==u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(f=!1,n(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var u=this.options,f;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",u.cursor)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,f;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,r=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--){var u=this.items[f],e=u.item[0],o=this._intersectsWithPointer(u);if(o&&u.instance===this.currentContainer&&e!=this.currentItem[0]&&this.placeholder[o==1?"next":"prev"]()[0]!=e&&!n.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!n.contains(this.element[0],e):!0)){if(this.direction=o==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var u=this,r=this.placeholder.offset();this.reverting=!0,n(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){u._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=i+o>u&&i+o<e&&t+s>r&&t+s<f;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?l:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(t){var u=this.options.axis==="x"||n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),f=this.options.axis==="y"||n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r=="right"||i=="down"?2:1:i&&(i=="down"?2:1):!1},_intersectsWithSides:function(t){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),f=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r=="right"&&f||r=="left"&&!f:i&&(i=="down"&&u||i=="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!=0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!=0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor==String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var s=[],u=[],e=this._connectWith(),o,f,i,r;if(e&&t)for(r=e.length-1;r>=0;r--)for(o=n(e[r]),f=o.length-1;f>=0;f--)i=n.data(o[f],this.widgetName),i&&i!=this&&!i.options.disabled&&u.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(u.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=u.length-1;r>=0;r--)u[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]==n.item[0])return!1;return!0})},_refreshItems:function(t){var o,i,r,s,h,u,l,c;this.items=[],this.containers=[this];var a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(r=e.length-1;r>=0;r--)for(o=n(e[r]),u=o.length-1;u>=0;u--)i=n.data(o[u],this.widgetName),i&&i!=this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(s=f[r][1],h=f[r][0],u=0,l=h.length;u<l;u++)c=n(h[u]),c.data(this.widgetName+"-item",s),a.push({item:c,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var r,f,i,u;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,r;t=t||this,i=t.options,i.placeholder&&i.placeholder.constructor!=String||(r=i.placeholder,i.placeholder={element:function(){var i=n(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(i.style.visibility="hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var e=null,i=null,u,f,c,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r],i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(this.containers.length===1)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else{var l=1e4,o=null,h=this.containers[i].floating?"left":"top",a=this.containers[i].floating?"width":"height",s=this.positionAbs[h]+this.offset.click[h];for(u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!=this.currentItem[0]&&(f=this.items[u].item.offset()[h],c=!1,Math.abs(f-s)>Math.abs(f+this.items[u][a]-s)&&(c=!0,f+=this.items[u][a]),Math.abs(f-s)<l&&(l=Math.abs(f-s),o=this.items[u],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper=="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(i[0].style.width==""||r.forceHelperSize)&&i.width(this.currentItem.width()),(i[0].style.height==""||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options;if(i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(i.containment)){var t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!="hidden";this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var r=t=="absolute"?1:-1,e=this.options,u=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var i=this.options,o=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName),f,e,r,u;return this.cssPosition!="relative"||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),f=t.pageX,e=t.pageY,this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left<this.containment[0]||u-this.offset.click.left>this.containment[2]?u-this.offset.click.left<this.containment[0]?u+i.grid[0]:u-i.grid[0]:u:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u==this.counter&&this.refreshPositions(!r)})},_clear:function(t,i){var u,r;if(this.reverting=!1,u=[],!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]=="auto"||this._storedCSS[r]=="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(i||(u.push(function(n){this._trigger("remove",n,this._uiHash())}),u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.9.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100),n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height()),this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},n),this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+n*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return(r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max)?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t,this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t)),this._super(n,t),n==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n),this._value(this.element.val())}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i))),this.element.val(n),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._spin((n||1)*this.options.step)},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._spin((n||1)*-this.options.step)},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function r(){return++f}function u(n){return n.hash.length>1&&n.href.replace(i,"")===location.href.replace(i,"")}var f=0,i=/#.*$/;n.widget("ui.tabs",{version:"1.9.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var u=this,i=this.options,t=i.active,r=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i.collapsible?!1:0)),i.active=t,!i.collapsible&&i.active===!1&&this.anchors.length&&(i.active=0),n.isArray(i.disabled)&&(i.disabled=n.unique(i.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return u.tabs.index(n)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):n(),this._refresh(),this.active.length&&this.load(i.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1,i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,u),t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t),n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),n==="event"&&this._setupEvents(t),n==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+r()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=n(),this.anchors.each(function(i,r){var e,f,s,h=n(r).uniqueId().attr("id"),o=n(r).closest("li"),c=o.attr("aria-controls");u(r)?(e=r.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[i-1]||t.tablist)),f.attr("aria-live","polite")),f.length&&(t.panels=t.panels.add(f)),c&&o.data("ui-tabs-aria-controls",c),o.attr({"aria-controls":e.substring(1),"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,u,r=this.element.parent();t==="fill"?(n.support.minHeight||(u=r.css("overflow"),r.css("overflow","hidden")),i=r.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),u&&r.css("overflow",u),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1,u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o()),f.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i):t.removeAttr("aria-controls")}),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),n.inArray(i,r)!==-1)return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,i){t=this._getIndex(t);var f=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),e=this._getPanelForTab(r),s={tab:r,panel:e};u(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,i,s)),this.xhr&&this.xhr.statusText!=="canceled"&&(r.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n),f._trigger("load",i,s)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&f.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),e.removeAttr("aria-busy"),n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),n.uiBackCompat!==!1&&(n.ui.tabs.prototype._ui=function(n,t){return{tab:n,panel:t,index:this.anchors.index(n)}},n.widget("ui.tabs",n.ui.tabs,{url:function(n,t){this.anchors.eq(n).attr("href",t)}}),n.widget("ui.tabs",n.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(i,r){if(n.data(r.tab[0],"cache.tabs")){i.preventDefault();return}r.jqXHR.success(function(){t.options.cache&&n.data(r.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,i,r){var u=this.options.ajaxOptions;return n.extend({},u,{error:function(n,t){try{u.error(n,t,r.tab.closest("li").index(),r.tab[0])}catch(i){}}},this._superApply(arguments))},_setOption:function(n,t){n==="cache"&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(n,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(n){this.anchors.eq(n).removeData("cache.tabs"),this._superApply(arguments)}}),n.widget("ui.tabs",n.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),n.widget("ui.tabs",n.ui.tabs,{options:{spinner:"<em>Loading&#8230;<\/em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(n,t){if(n.target===this.element[0]&&this.options.spinner){var i=t.tab.find("span"),r=i.html();i.html(this.options.spinner),t.jqXHR.complete(function(){i.html(r)})}}})}}),n.widget("ui.tabs",n.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var i=this.options,r;(t&&i.disabled===!0||n.isArray(i.disabled)&&n.inArray(t,i.disabled)!==-1)&&(r=!0),this._superApply(arguments),r&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var i=this.options,r;(t&&i.disabled===!1||n.isArray(i.disabled)&&n.inArray(t,i.disabled)===-1)&&(r=!0),this._superApply(arguments),r&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),n.widget("ui.tabs",n.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}<\/span><\/a><\/li>"},add:function(i,r,u){u===t&&(u=this.anchors.length);var s,f,o=this.options,e=n(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,r)),h=i.indexOf("#")?this._tabId(e):i.replace("#","");return e.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),e.attr("aria-controls",h),s=u>=this.tabs.length,f=this.element.find("#"+h),f.length||(f=this._createPanel(h),s?u>0?f.insertAfter(this.panels.eq(-1)):f.appendTo(this.element):f.insertBefore(this.panels[u])),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),s?e.appendTo(this.tablist):e.insertBefore(this.tabs[u]),o.disabled=n.map(o.disabled,function(n){return n>=u?++n:n}),this.refresh(),this.tabs.length===1&&o.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[u],this.panels[u])),this},remove:function(t){t=this._getIndex(t);var r=this.options,i=this.tabs.eq(t).remove(),u=this._getPanelForTab(i).remove();return i.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),r.disabled=n.map(n.grep(r.disabled,function(n){return n!==t}),function(n){return n>=t?--n:n}),this.refresh(),this._trigger("remove",null,this._ui(i.find("a")[0],u[0])),this}}),n.widget("ui.tabs",n.ui.tabs,{length:function(){return this.anchors.length}}),n.widget("ui.tabs",n.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var i=t.is("li")?t.find("a[href]"):t;return i=i[0],n(i).closest("li").attr("aria-controls")||i.title&&i.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+r()}}),n.widget("ui.tabs",n.ui.tabs,{options:{panelTemplate:"<div><\/div>"},_createPanel:function(t){return n(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),n.widget("ui.tabs",n.ui.tabs,{_create:function(){var n=this.options;n.active===null&&n.selected!==t&&(n.active=n.selected===-1?!1:n.selected),this._super(),n.selected=n.active,n.selected===!1&&(n.selected=-1)},_setOption:function(n,t){if(n!=="selected")return this._super(n,t);var i=this.options;this._super("active",t===-1?!1:t),i.selected=i.active,i.selected===!1&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),n.widget("ui.tabs",n.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(n,t,i){var r=this._superApply(arguments);return r?(n==="beforeActivate"&&i.newTab.length?r=this._super("select",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()}):n==="activate"&&i.newTab.length&&(r=this._super("show",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),r):!1}}),n.widget("ui.tabs",n.ui.tabs,{select:function(n){if(n=this._getIndex(n),n===-1)if(this.options.collapsible&&this.options.selected!==-1)n=this.options.selected;else return;this.anchors.eq(n).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;n.widget("ui.tabs",n.ui.tabs,{options:{cookie:null},_create:function(){var t=this.options,n;t.active==null&&t.cookie&&(n=parseInt(this._cookie(),10),n===-1&&(n=!1),t.active=n),this._super()},_cookie:function(i){var r=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(r.push(i===!1?-1:i),r.push(this.options.cookie)),n.cookie.apply(null,r)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),n.widget("ui.tabs",n.ui.tabs,{_trigger:function(t,i,r){var u=n.extend({},r);return t==="load"&&(u.panel=u.panel[0],u.tab=u.tab.find(".ui-tabs-anchor")[0]),this._super(t,i,u)}}),n.widget("ui.tabs",n.ui.tabs,{options:{fx:null},_getFx:function(){var i,r,t=this.options.fx;return t&&(n.isArray(t)?(i=t[0],r=t[1]):i=r=t),t?{show:r,hide:i}:null},_toggle:function(n,t){function e(){r.running=!1,r._trigger("activate",n,t)}function o(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),u.length&&i.show?u.animate(i.show,i.show.duration,function(){e()}):(u.show(),e())}var r=this,u=t.newPanel,f=t.oldPanel,i=this._getFx();if(!i)return this._super(n,t);r.running=!0,f.length&&i.hide?f.animate(i.hide,i.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o())}}))}(jQuery),function(n){function i(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function r(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);r!==-1&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=n.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var t=0;n.widget("ui.tooltip",{version:"1.9.1",options:{content:function(){return n(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flipfit"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;if(t==="disabled"){this[i?"_disable":"_enable"](),this.options[t]=i;return}this._super(t,i),t==="content"&&n.each(this.tooltips,function(n,t){r._updateContent(t)})},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);if(i.length){if(this.options.track&&i.data("ui-tooltip-id")){this._find(i).position(n.extend({of:i},this.options.position)),this._off(this.document,"mousemove");return}i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("tooltip-open",!0),t&&t.type==="mouseover"&&i.parents().each(function(){var t;n(this).data("tooltip-open")&&(t=n.Event("blur"),t.target=t.currentTarget=this,r.close(t,!0)),this.title&&(n(this).uniqueId(),r.parents[this.id]={element:this,title:this.title},this.title="")}),this._updateContent(i,t)}},_updateContent:function(n,t){var i,r=this.options.content,u=this;if(typeof r=="string")return this._open(t,n,r);i=r.call(n[0],function(i){n.data("tooltip-open")&&u._delay(function(){this._open(t,n,i)})}),i&&this._open(t,n,i)},_open:function(t,r,u){function s(n){(o.of=n,f.is(":hidden"))||f.position(o)}var f,e,h,o=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length){f.find(".ui-tooltip-content").html(u);return}r.is("[title]")&&(t&&t.type==="mouseover"?r.attr("title",""):r.removeAttr("title")),f=this._tooltip(r),i(r,f.attr("id")),f.find(".ui-tooltip-content").html(u),this.options.track&&t&&/^mouse/.test(t.originalEvent.type)?(this._on(this.document,{mousemove:s}),s(t)):f.position(n.extend({of:r},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=setInterval(function(){f.is(":visible")&&(s(o.of),clearInterval(h))},n.fx.interval)),this._trigger("open",t,{tooltip:f}),e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0],this.close(i,!0)}},remove:function(){this._removeTooltip(f)}},t&&t.type!=="mouseover"||(e.mouseleave="close"),t&&t.type!=="focusin"||(e.focusout="close"),this._on(r,e)}},close:function(t){var f=this,i=n(t?t.currentTarget:this.element),u=this._find(i);this.closing||(i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),r(i),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&n.each(this.parents,function(n,t){t.element.title=t.title,delete f.parents[n]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(i){var u="ui-tooltip-"+t++,r=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),n.fn.bgiframe&&r.bgiframe(),this.tooltips[u]=i,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove(),delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0),n("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery);(function(n){var o="0.3.4",f="hasOwnProperty",e=/[\.\/]/,s="*",h=function(){},c=function(n,t){return n-t},r,i,u={n:{}},t=function(n,f){var k=u,w=i,v=Array.prototype.slice.call(arguments,2),s=t.listeners(n),a=0,d=!1,e,l=[],y={},h=[],b=r,g=[],o,p;for(r=n,i=0,o=0,p=s.length;o<p;o++)"zIndex"in s[o]&&(l.push(s[o].zIndex),s[o].zIndex<0&&(y[s[o].zIndex]=s[o]));for(l.sort(c);l[a]<0;)if(e=y[l[a++]],h.push(e.apply(f,v)),i)return i=w,h;for(o=0;o<p;o++)if(e=s[o],"zIndex"in e)if(e.zIndex==l[a]){if(h.push(e.apply(f,v)),i)break;do if(a++,e=y[l[a]],e&&h.push(e.apply(f,v)),i)break;while(e)}else y[e.zIndex]=e;else if(h.push(e.apply(f,v)),i)break;return i=w,r=b,h.length?h:null};t.listeners=function(n){for(var a=n.split(e),t=u,i,v,o,r,y,h,c=[t],l=[],f=0,p=a.length;f<p;f++){for(h=[],r=0,y=c.length;r<y;r++)for(t=c[r].n,v=[t[a[f]],t[s]],o=2;o--;)i=v[o],i&&(h.push(i),l=l.concat(i.f||[]));c=h}return l},t.on=function(n,t){for(var f=n.split(e),i=u,r=0,o=f.length;r<o;r++)i=i.n,!i[f[r]]&&(i[f[r]]={n:{}}),i=i[f[r]];for(i.f=i.f||[],r=0,o=i.f.length;r<o;r++)if(i.f[r]==t)return h;return i.f.push(t),function(n){+n==+n&&(t.zIndex=+n)}},t.stop=function(){i=1},t.nt=function(n){return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(r):r},t.off=t.unbind=function(n,t){for(var v=n.split(e),i,o,l,r,y,c=[u],a,h=0,p=v.length;h<p;h++)for(r=0;r<c.length;r+=l.length-2){if(l=[r,1],i=c[r].n,v[h]!=s)i[v[h]]&&l.push(i[v[h]]);else for(o in i)i[f](o)&&l.push(i[o]);c.splice.apply(c,l)}for(h=0,p=c.length;h<p;h++)for(i=c[h];i.n;){if(t){if(i.f){for(r=0,y=i.f.length;r<y;r++)if(i.f[r]==t){i.f.splice(r,1);break}i.f.length||delete i.f}for(o in i.n)if(i.n[f](o)&&i.n[o].f){for(a=i.n[o].f,r=0,y=a.length;r<y;r++)if(a[r]==t){a.splice(r,1);break}a.length||delete i.n[o].f}}else{delete i.f;for(o in i.n)i.n[f](o)&&i.n[o].f&&delete i.n[o].f}i=i.n}},t.once=function(n,i){var r=function(){var u=i.apply(this,arguments);return t.unbind(n,r),u};return t.on(n,r)},t.version=o,t.toString=function(){return"You are running Eve "+o},typeof module!="undefined"&&module.exports?module.exports=t:typeof define!="undefined"?define("eve",[],function(){return t}):n.eve=t})(this),function(){function ht(t,i,u,o,s,l){var g,v,et,a,lt,kt,ti,nt,vt,dt,yt,k,ut,st,ht,gt,ft,ct;u=e(u);var it,ot,pt,ii=[],ni,wt,bt,w=t.ms,p={},d={},b={};if(o){for(v=0,et=r.length;v<et;v++)if(g=r[v],g.el.id==i.id&&g.anim==t){g.percent!=u?(r.splice(v,1),pt=1):ot=g,i.attr(g.totalOrigin);break}}else o=+d;for(v=0,et=t.percents.length;v<et;v++){if(t.percents[v]==u||t.percents[v]>o*t.top){u=t.percents[v],wt=t.percents[v-1]||0,w=w/t.top*(u-wt),ni=t.percents[v+1],it=t.anim[u];break}o&&i.attr(t.anim[t.percents[v]])}if(!!it){if(ot)ot.initstatus=o,ot.start=new Date-ot.ms*o;else{for(a in it)if(it[h](a)&&(ci[h](a)||i.paper.customAttributes[h](a))){p[a]=i.attr(a),p[a]==null&&(p[a]=su[a]),d[a]=it[a];switch(ci[a]){case c:b[a]=(d[a]-p[a])/w;break;case"colour":p[a]=n.getRGB(p[a]),lt=n.getRGB(d[a]),b[a]={r:(lt.r-p[a].r)/w,g:(lt.g-p[a].g)/w,b:(lt.b-p[a].b)/w};break;case"path":for(kt=at(p[a],d[a]),ti=kt[1],p[a]=kt[0],b[a]=[],v=0,et=p[a].length;v<et;v++)for(b[a][v]=[0],nt=1,vt=p[a][v].length;nt<vt;nt++)b[a][v][nt]=(ti[v][nt]-p[a][v][nt])/w;break;case"transform":if(dt=i._,yt=rf(dt[a],d[a]),yt)for(p[a]=yt.from,d[a]=yt.to,b[a]=[],b[a].real=!0,v=0,et=p[a].length;v<et;v++)for(b[a][v]=[p[a][v][0]],nt=1,vt=p[a][v].length;nt<vt;nt++)b[a][v][nt]=(d[a][v][nt]-p[a][v][nt])/w;else k=i.matrix||new rt,ut={_:{transform:dt.transform},getBBox:function(){return i.getBBox(1)}},p[a]=[k.a,k.b,k.c,k.d,k.e,k.f],tf(ut,d[a]),d[a]=ut._.transform,b[a]=[(ut.matrix.a-k.a)/w,(ut.matrix.b-k.b)/w,(ut.matrix.c-k.c)/w,(ut.matrix.d-k.d)/w,(ut.matrix.e-k.e)/w,(ut.matrix.e-k.f)/w];break;case"csv":if(st=y(it[a])[tt](fi),ht=y(p[a])[tt](fi),a=="clip-rect")for(p[a]=ht,b[a]=[],v=ht.length;v--;)b[a][v]=(st[v]-p[a][v])/w;d[a]=st;break;default:for(st=[][f](it[a]),ht=[][f](p[a]),b[a]=[],v=i.paper.customAttributes[a].length;v--;)b[a][v]=((st[v]||0)-(ht[v]||0))/w}}if(gt=it.easing,ft=n.easing_formulas[gt],ft||(ft=y(gt).match(ou),ft&&ft.length==5?(ct=ft,ft=function(n){return nu(n,+ct[1],+ct[2],+ct[3],+ct[4],w)}):ft=pu),bt=it.start||t.start||+new Date,g={anim:t,percent:u,timestamp:bt,start:bt+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:w,easing:ft,from:p,diff:b,to:d,el:i,callback:it.callback,prev:wt,next:ni,repeat:l||t.times,origin:i.attr(),totalOrigin:s},r.push(g),o&&!ot&&!pt&&(g.stop=!0,g.start=new Date-w*o,r.length==1))return gi();pt&&(g.start=new Date-g.ms*o),r.length==1&&gr(gi)}eve("anim.start."+i.id,i,t)}}function it(n,t){var i=[],u={},r;if(this.ms=t,this.times=1,n){for(r in n)n[h](r)&&(u[e(r)]=n[r],i.push(e(r)));i.sort(vu)}this.anim=u,this.top=i[i.length-1],this.percents=i}function nu(n,t,i,r,u,f){function a(n,t){for(var r,u,f,s,i=n,l=0;l<8;l++){if(f=h(i)-n,k(f)<t)return i;if(s=(3*c*i+2*o)*i+e,k(s)<1e-6)break;i=i-f/s}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=h(i),k(f-n)<t)return i;n>f?r=i:u=i,i=(u-r)/2+r}return i}function v(n,t){var i=a(n,t);return((y*i+l)*i+s)*i}function h(n){return((c*n+o)*n+e)*n}var e=3*t,o=3*(r-t)-e,c=1-e-o,s=3*i,l=3*(u-i)-s,y=1-s-l;return v(n,1/(200*f))}function tr(){return this.x+st+this.y+st+this.width+" × "+this.height}function rt(n,t,i,r,u,f){n!=null?(this.a=+n,this.b=+t,this.c=+i,this.d=+r,this.e=+u,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function ir(n,t){for(var f=[],i,r=0,u=n.length;u-2*!t>r;r+=2)i=[{x:+n[r-2],y:+n[r-1]},{x:+n[r],y:+n[r+1]},{x:+n[r+2],y:+n[r+3]},{x:+n[r+4],y:+n[r+5]}],t?r?u-4==r?i[3]={x:+n[0],y:+n[1]}:u-2==r&&(i[2]={x:+n[0],y:+n[1]},i[3]={x:+n[2],y:+n[3]}):i[0]={x:+n[u-2],y:+n[u-1]}:u-4==r?i[3]=i[2]:r||(i[0]={x:+n[r],y:+n[r+1]}),f.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y]);return f}function yt(){return this.hex}function v(n,t,i){function r(){var o=Array.prototype.slice.call(arguments,0),u=o.join("␀"),f=r.cache=r.cache||{},e=r.count=r.count||[];return f[h](u)?(tu(e,u),i?i(f[u]):f[u]):(e.length>=1e3&&delete f[e.shift()],e.push(u),f[u]=n[s](t,o),i?i(f[u]):f[u])}return r}function tu(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return n.push(n.splice(i,1)[0])}function n(t){var i,r;return n.is(t,"function")?ui?t():eve.on("DOMload",t):n.is(t,w)?n._engine.create[s](n,t.splice(0,3+n.is(t[0],c))).add(t):(i=Array.prototype.slice.call(arguments,0),n.is(i[i.length-1],"function"))?(r=i.pop(),ui?r.call(n._engine.create[s](n,i)):eve.on("DOMload",function(){r.call(n._engine.create[s](n,i))})):n._engine.create[s](n,arguments)}var bt,kt,wu,du,vt,wi,et,br,d,ot,b,ri;n.version="2.0.2",n.eve=eve;var ui,fi=/[, ]+/,iu={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ru=/\{(\d+)\}/g,hf="prototype",h="hasOwnProperty",t={doc:document,win:window},ei={was:Object.prototype[h].call(t.win,"Raphael"),is:t.win.Raphael},rr=function(){this.ca=this.customAttributes={}},o,cf="appendChild",s="apply",f="concat",oi="createTouch"in t.doc,g="",st=" ",y=String,tt="split",ur="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[tt](st),si={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},pt=y.prototype.toLowerCase,i=Math,l=i.max,nt=i.min,k=i.abs,a=i.pow,p=i.PI,c="number",wt="string",w="array",lf="toString",af="fill",uu=Object.prototype.toString,vf={},yf="push",pf=n._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,fu=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,eu={NaN:1,Infinity:1,"-Infinity":1},ou=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,hi=i.round,wf="setAttribute",e=parseFloat,ut=parseInt,fr=y.prototype.toUpperCase,su=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ci=n._availableAnimAttrs={blur:c,"clip-rect":"csv",cx:c,cy:c,fill:"colour","fill-opacity":c,"font-size":c,height:c,opacity:c,path:"path",r:c,rx:c,ry:c,stroke:"colour","stroke-opacity":c,"stroke-width":c,transform:"transform",width:c,x:c,y:c},bf=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,li=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,hu={hs:1,rg:1},cu=/,?([achlmqrstvxz]),?/gi,lu=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,au=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,er=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,kf=n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,ct={},df=function(n,t){return n.key-t.key},vu=function(n,t){return e(n)-e(t)},yu=function(){},pu=function(n){return n},ai=n._rectPath=function(n,t,i,r,u){return u?[["M",n+u,t],["l",i-u*2,0],["a",u,u,0,0,1,u,u],["l",0,r-u*2],["a",u,u,0,0,1,-u,u],["l",u*2-i,0],["a",u,u,0,0,1,-u,-u],["l",0,u*2-r],["a",u,u,0,0,1,u,-u],["z"]]:[["M",n,t],["l",i,0],["l",0,r],["l",-i,0],["z"]]},or=function(n,t,i,r){return r==null&&(r=i),[["M",n,t],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},vi=n._getPath={path:function(n){return n.attr("path")},circle:function(n){var t=n.attrs;return or(t.cx,t.cy,t.r)},ellipse:function(n){var t=n.attrs;return or(t.cx,t.cy,t.rx,t.ry)},rect:function(n){var t=n.attrs;return ai(t.x,t.y,t.width,t.height,t.r)},image:function(n){var t=n.attrs;return ai(t.x,t.y,t.width,t.height)},text:function(n){var t=n._getBBox();return ai(t.x,t.y,t.width,t.height)}},sr=n.mapPath=function(n,t){if(!t)return n;var f,e,u,i,o,s,r;for(n=at(n),u=0,o=n.length;u<o;u++)for(r=n[u],i=1,s=r.length;i<s;i+=2)f=t.x(r[i],r[i+1]),e=t.y(r[i],r[i+1]),r[i]=f,r[i+1]=e;return n};if(n._g=t,n.type=t.win.SVGAngle||t.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",n.type=="VML"){if(bt=t.doc.createElement("div"),bt.innerHTML='<v:shape adj="1"/>',kt=bt.firstChild,kt.style.behavior="url(#default#VML)",!kt||typeof kt.adj!="object")return n.type=g;bt=null}n.svg=!(n.vml=n.type=="VML"),n._Paper=rr,n.fn=o=rr.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(n,t){return(t=pt.call(t),t=="finite")?!eu[h](+n):t=="array"?n instanceof Array:t=="null"&&n===null||t==typeof n&&n!==null||t=="object"&&n===Object(n)||t=="array"&&Array.isArray&&Array.isArray(n)||uu.call(n).slice(8,-1).toLowerCase()==t},n.angle=function(t,r,u,f,e,o){if(e==null){var s=t-u,h=r-f;return!s&&!h?0:(180+i.atan2(-h,-s)*180/p+360)%360}return n.angle(t,r,e,o)-n.angle(u,f,e,o)},n.rad=function(n){return n%360*p/180},n.deg=function(n){return n*180/p%360},n.snapTo=function(t,i,r){var f,u;if(r=n.is(r,"finite")?r:10,n.is(t,w)){for(f=t.length;f--;)if(k(t[f]-i)<=r)return t[f]}else{if(t=+t,u=i%t,u<r)return i-u;if(u>t-r)return i-u+t}return i},wu=n.createUUID=function(n,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,t).toUpperCase()}}(/[xy]/g,function(n){var t=i.random()*16|0,r=n=="x"?t:t&3|8;return r.toString(16)}),n.setWindow=function(i){eve("setWindow",n,t.win,i),t.win=i,t.doc=t.win.document,n._engine.initWin&&n._engine.initWin(t.win)};var dt=function(i){var e,u,f,o,r;if(n.vml){e=/^\s+|\s+$/g;try{f=new ActiveXObject("htmlfile"),f.write("<body>"),f.close(),u=f.body}catch(s){u=createPopup().document.body}o=u.createTextRange(),dt=v(function(n){try{u.style.color=y(n).replace(e,g);var t=o.queryCommandValue("ForeColor");return t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else r=t.doc.createElement("i"),r.title="Raphaël Colour Picker",r.style.display="none",t.doc.body.appendChild(r),dt=v(function(n){return r.style.color=n,t.doc.defaultView.getComputedStyle(r,g).getPropertyValue("color")});return dt(i)},bu=function(){return"hsb("+[this.h,this.s,this.b]+")"},ku=function(){return"hsl("+[this.h,this.s,this.l]+")"},hr=function(){return this.hex},cr=function(t,i,r){if(i==null&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,i=t.g,t=t.r),i==null&&n.is(t,wt)){var u=n.getRGB(t);t=u.r,i=u.g,r=u.b}return(t>1||i>1||r>1)&&(t/=255,i/=255,r/=255),[t,i,r]},lr=function(t,i,r,u){t*=255,i*=255,r*=255;var f={r:t,g:i,b:r,hex:n.rgb(t,i,r),toString:hr};return n.is(u,"finite")&&(f.opacity=u),f};n.color=function(t){var i;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=n.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=n.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=n.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=n.rgb2hsb(t),t.v=i.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=hr,t},n.hsb2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"b"in n&&(i=n.b,t=n.s,n=n.h,r=n.o),n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-k(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],lr(e,o,s,r)},n.hsl2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"l"in n&&(i=n.l,t=n.s,n=n.h),(n>1||t>1||i>1)&&(n/=360,t/=100,i/=100),n*=360;var e,o,s,f,u;return n=n%360/60,u=2*t*(i<.5?i:1-i),f=u*(1-k(n%2-1)),e=o=s=i-u/2,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],lr(e,o,s,r)},n.rgb2hsb=function(n,t,i){i=cr(n,t,i),n=i[0],t=i[1],i=i[2];var f,e,u,r;return u=l(n,t,i),r=u-nt(n,t,i),f=r==0?null:u==n?(t-i)/r:u==t?(i-n)/r+2:(n-t)/r+4,f=(f+360)%6/6,e=r==0?0:r/u,{h:f,s:e,b:u,toString:bu}},n.rgb2hsl=function(n,t,i){i=cr(n,t,i),n=i[0],t=i[1],i=i[2];var e,s,u,f,o,r;return f=l(n,t,i),o=nt(n,t,i),r=f-o,e=r==0?null:f==n?(t-i)/r:f==t?(i-n)/r+2:(n-t)/r+4,e=(e+360)%6/6,u=(f+o)/2,s=r==0?0:u<.5?r/(2*u):r/(2-2*u),{h:e,s:s,l:u,toString:ku}},n._path2string=function(){return this.join(",").replace(cu,"$1")},du=n._preload=function(n,i){var r=t.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){i.call(this),this.onload=null,t.doc.body.removeChild(this)},r.onerror=function(){t.doc.body.removeChild(this)},t.doc.body.appendChild(r),r.src=n},n.getRGB=v(function(t){if(!t||!!((t=y(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:yt};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:yt};hu[h](t.toLowerCase().substring(0,2))||t.charAt()=="#"||(t=dt(t));var l,u,f,o,s,c,i,r=t.match(fu);return r?(r[2]&&(o=ut(r[2].substring(5),16),f=ut(r[2].substring(3,5),16),u=ut(r[2].substring(1,3),16)),r[3]&&(o=ut((c=r[3].charAt(3))+c,16),f=ut((c=r[3].charAt(2))+c,16),u=ut((c=r[3].charAt(1))+c,16)),r[4]&&(i=r[4][tt](li),u=e(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=e(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),o=e(i[2]),i[2].slice(-1)=="%"&&(o*=2.55),r[1].toLowerCase().slice(0,4)=="rgba"&&(s=e(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100)),r[5])?(i=r[5][tt](li),u=e(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=e(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),o=e(i[2]),i[2].slice(-1)=="%"&&(o*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="°")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsba"&&(s=e(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100),n.hsb2rgb(u,f,o,s)):r[6]?(i=r[6][tt](li),u=e(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=e(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),o=e(i[2]),i[2].slice(-1)=="%"&&(o*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="°")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsla"&&(s=e(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100),n.hsl2rgb(u,f,o,s)):(r={r:u,g:f,b:o,toString:yt},r.hex="#"+(16777216|o|f<<8|u<<16).toString(16).slice(1),n.is(s,"finite")&&(r.opacity=s),r):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:yt}},n),n.hsb=v(function(t,i,r){return n.hsb2rgb(t,i,r).hex}),n.hsl=v(function(t,i,r){return n.hsl2rgb(t,i,r).hex}),n.rgb=v(function(n,t,i){return"#"+(16777216|i|t<<8|n<<16).toString(16).slice(1)}),n.getColor=function(n){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:n||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=v(function(t){if(!t)return null;var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return n.is(t,w)&&n.is(t[0],w)&&(i=lt(t)),i.length||y(t).replace(lu,function(n,t,u){var e=[],o=t.toLowerCase();if(u.replace(er,function(n,t){t&&e.push(+t)}),o=="m"&&e.length>2&&(i.push([t][f](e.splice(0,2))),o="l",t=t=="m"?"l":"L"),o=="r")i.push([t][f](e));else while(e.length>=r[o])if(i.push([t][f](e.splice(0,r[o]))),!r[o])break}),i.toString=n._path2string,i}),n.parseTransformString=v(function(t){if(!t)return null;var r={r:3,s:4,t:2,m:6},i=[];return n.is(t,w)&&n.is(t[0],w)&&(i=lt(t)),i.length||y(t).replace(au,function(n,t,r){var u=[],e=pt.call(t);r.replace(er,function(n,t){t&&u.push(+t)}),i.push([t][f](u))}),i.toString=n._path2string,i}),n.findDotsAtSegment=function(n,t,r,u,f,e,o,s,h){var c=1-h,k=a(c,3),d=a(c,2),l=h*h,g=l*h,tt=k*n+d*3*h*r+c*3*h*h*f+g*o,it=k*t+d*3*h*u+c*3*h*h*e+g*s,v=n+2*h*(r-n)+l*(f-2*r+n),y=t+2*h*(u-t)+l*(e-2*u+t),w=r+2*h*(f-r)+l*(o-2*f+r),b=u+2*h*(e-u)+l*(s-2*e+u),rt=c*n+h*r,ut=c*t+h*u,ft=c*f+h*o,et=c*e+h*s,nt=90-i.atan2(v-w,y-b)*180/p;return(v>w||y<b)&&(nt+=180),{x:tt,y:it,m:{x:v,y:y},n:{x:w,y:b},start:{x:rt,y:ut},end:{x:ft,y:et},alpha:nt}},n._removedFactory=function(n){return function(){throw new Error("Raphaël: you are calling to method “"+n+"” of removed object");}};var ar=v(function(n){var h,v,u,c,a;if(!n)return{x:0,y:0,width:0,height:0};n=at(n);var e=0,o=0,i=[],r=[],t;for(h=0,v=n.length;h<v;h++)t=n[h],t[0]=="M"?(e=t[1],o=t[2],i.push(e),r.push(o)):(u=nf(e,o,t[1],t[2],t[3],t[4],t[5],t[6]),i=i[f](u.min.x,u.max.x),r=r[f](u.min.y,u.max.y),e=t[5],o=t[6]);return c=nt[s](0,i),a=nt[s](0,r),{x:c,y:a,width:l[s](0,i)-c,height:l[s](0,r)-a}},null,function(n){return{x:n.x,y:n.y,width:n.width,height:n.height}}),lt=function(t){var u=[],i,f,r,e;for(n.is(t,w)&&n.is(t&&t[0],w)||(t=n.parsePathString(t)),i=0,f=t.length;i<f;i++)for(u[i]=[],r=0,e=t[i].length;r<e;r++)u[i][r]=t[i][r];return u.toString=n._path2string,u},gu=n._pathToRelative=v(function(t){var r,y,u,i,s,p,h,b,c;n.is(t,w)&&n.is(t&&t[0],w)||(t=n.parsePathString(t));var f=[],o=0,e=0,l=0,a=0,v=0;for(t[0][0]=="M"&&(o=t[0][1],e=t[0][2],l=o,a=e,v++,f.push(["M",o,e])),r=v,y=t.length;r<y;r++){if(u=f[r]=[],i=t[r],i[0]!=pt.call(i[0])){u[0]=pt.call(i[0]);switch(u[0]){case"a":u[1]=i[1],u[2]=i[2],u[3]=i[3],u[4]=i[4],u[5]=i[5],u[6]=+(i[6]-o).toFixed(3),u[7]=+(i[7]-e).toFixed(3);break;case"v":u[1]=+(i[1]-e).toFixed(3);break;case"m":l=i[1],a=i[2];default:for(s=1,p=i.length;s<p;s++)u[s]=+(i[s]-(s%2?o:e)).toFixed(3)}}else for(u=f[r]=[],i[0]=="m"&&(l=i[1]+o,a=i[2]+e),h=0,b=i.length;h<b;h++)f[r][h]=i[h];c=f[r].length;switch(f[r][0]){case"z":o=l,e=a;break;case"h":o+=+f[r][c-1];break;case"v":e+=+f[r][c-1];break;default:o+=+f[r][c-2],e+=+f[r][c-1]}}return f.toString=n._path2string,f},0,lt),vr=n._pathToAbsolute=v(function(t){var p,i,r,v,k,h,o,y,c,d;if(n.is(t,w)&&n.is(t&&t[0],w)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var s=[],u=0,e=0,l=0,a=0,b=0;for(t[0][0]=="M"&&(u=+t[0][1],e=+t[0][2],l=u,a=e,b++,s[0]=["M",u,e]),p=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z",v=b,k=t.length;v<k;v++){if(s.push(i=[]),r=t[v],r[0]!=fr.call(r[0])){i[0]=fr.call(r[0]);switch(i[0]){case"A":i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=+(r[6]+u),i[7]=+(r[7]+e);break;case"V":i[1]=+r[1]+e;break;case"H":i[1]=+r[1]+u;break;case"R":for(h=[u,e][f](r.slice(1)),o=2,y=h.length;o<y;o++)h[o]=+h[o]+u,h[++o]=+h[o]+e;s.pop(),s=s[f](ir(h,p));break;case"M":l=+r[1]+u,a=+r[2]+e;default:for(o=1,y=r.length;o<y;o++)i[o]=+r[o]+(o%2?u:e)}}else if(r[0]=="R")h=[u,e][f](r.slice(1)),s.pop(),s=s[f](ir(h,p)),i=["R"][f](r.slice(-2));else for(c=0,d=r.length;c<d;c++)i[c]=r[c];switch(i[0]){case"Z":u=l,e=a;break;case"H":u=i[1];break;case"V":e=i[1];break;case"M":l=i[i.length-2],a=i[i.length-1];default:u=i[i.length-2],e=i[i.length-1]}}return s.toString=n._path2string,s},null,lt),gt=function(n,t,i,r){return[n,t,i,r,i,r]},yr=function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},pr=function(n,t,r,u,e,o,s,h,c,l){var at=p*120/180,et=p/180*(+e||0),w=[],nt,ot=v(function(n,t,r){var u=n*i.cos(r)-t*i.sin(r),f=n*i.sin(r)+t*i.cos(r);return{x:u,y:f}}),st,lt,b,gt;if(l)y=l[0],a=l[1],ut=l[2],ft=l[3];else{nt=ot(n,t,-et),n=nt.x,t=nt.y,nt=ot(h,c,-et),h=nt.x,c=nt.y;var oi=i.cos(p/180*e),si=i.sin(p/180*e),d=(n-h)/2,g=(t-c)/2,rt=d*d/(r*r)+g*g/(u*u);rt>1&&(rt=i.sqrt(rt),r=rt*r,u=rt*u);var ht=r*r,ct=u*u,vt=(o==s?-1:1)*i.sqrt(k((ht*ct-ht*g*g-ct*d*d)/(ht*g*g+ct*d*d))),ut=vt*r*g/u+(n+h)/2,ft=vt*-u*d/r+(t+c)/2,y=i.asin(((t-ft)/u).toFixed(9)),a=i.asin(((c-ft)/u).toFixed(9));y=n<ut?p-y:y,a=h<ut?p-a:a,y<0&&(y=p*2+y),a<0&&(a=p*2+a),s&&y>a&&(y=y-p*2),!s&&a>y&&(a=a-p*2)}if(st=a-y,k(st)>at){var ni=a,ti=h,ii=c;a=y+at*(s&&a>y?1:-1),h=ut+r*i.cos(a),c=ft+u*i.sin(a),w=pr(h,c,r,u,e,0,s,ti,ii,[a,ni,ut,ft])}st=a-y;var ri=i.cos(y),ui=i.sin(y),fi=i.cos(a),ei=i.sin(a),yt=i.tan(st/4),pt=4/3*r*yt,wt=4/3*u*yt,bt=[n,t],it=[n+pt*ui,t-wt*ri],kt=[h+pt*ei,c-wt*fi],dt=[h,c];if(it[0]=2*bt[0]-it[0],it[1]=2*bt[1]-it[1],l)return[it,kt,dt][f](w);for(w=[it,kt,dt][f](w).join()[tt](","),lt=[],b=0,gt=w.length;b<gt;b++)lt[b]=b%2?ot(w[b-1],w[b],et).y:ot(w[b],w[b+1],et).x;return lt},ni=function(n,t,i,r,u,f,e,o,s){var h=1-s;return{x:a(h,3)*n+a(h,2)*3*s*i+h*3*s*s*u+a(s,3)*e,y:a(h,3)*t+a(h,2)*3*s*r+h*3*s*s*f+a(s,3)*o}},nf=v(function(n,t,r,u,f,e,o,h){var p=f-2*r+n-(o-2*f+r),c=2*(r-n)-2*(f-r),d=n-r,v=(-c+i.sqrt(c*c-4*p*d))/2/p,y=(-c-i.sqrt(c*c-4*p*d))/2/p,w=[t,h],b=[n,o],a;return k(v)>"1e12"&&(v=.5),k(y)>"1e12"&&(y=.5),v>0&&v<1&&(a=ni(n,t,r,u,f,e,o,h,v),b.push(a.x),w.push(a.y)),y>0&&y<1&&(a=ni(n,t,r,u,f,e,o,h,y),b.push(a.x),w.push(a.y)),p=e-2*u+t-(h-2*e+u),c=2*(u-t)-2*(e-u),d=t-u,v=(-c+i.sqrt(c*c-4*p*d))/2/p,y=(-c-i.sqrt(c*c-4*p*d))/2/p,k(v)>"1e12"&&(v=.5),k(y)>"1e12"&&(y=.5),v>0&&v<1&&(a=ni(n,t,r,u,f,e,o,h,v),b.push(a.x),w.push(a.y)),y>0&&y<1&&(a=ni(n,t,r,u,f,e,o,h,y),b.push(a.x),w.push(a.y)),{min:{x:nt[s](0,b),y:nt[s](0,w)},max:{x:l[s](0,b),y:l[s](0,w)}}}),at=n._path2curve=v(function(n,t){for(var u=vr(n),i=t&&vr(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},w=function(n,t){var i,r;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];n[0]in{T:1,Q:1}||(t.qx=t.qy=null);switch(n[0]){case"M":t.X=n[1],t.Y=n[2];break;case"A":n=["C"][f](pr[s](0,[t.x,t.y][f](n.slice(1))));break;case"S":i=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),n=["C",i,r][f](n.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),n=["C"][f](yr(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1],t.qy=n[2],n=["C"][f](yr(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"][f](gt(t.x,t.y,n[1],n[2]));break;case"H":n=["C"][f](gt(t.x,t.y,n[1],t.y));break;case"V":n=["C"][f](gt(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"][f](gt(t.x,t.y,t.X,t.Y))}return n},b=function(n,t){if(n[t].length>7){n[t].shift();for(var r=n[t];r.length;)n.splice(t++,0,["C"][f](r.splice(0,6)));n.splice(t,1),v=l(u.length,i&&i.length||0)}},k=function(n,t,r,f,e){n&&t&&n[e][0]=="M"&&t[e][0]!="M"&&(t.splice(e,0,["M",f.x,f.y]),r.bx=0,r.by=0,r.x=n[e][1],r.y=n[e][2],v=l(u.length,i&&i.length||0))},r=0,v=l(u.length,i&&i.length||0);r<v;r++){u[r]=w(u[r],o),b(u,r),i&&(i[r]=w(i[r],h)),i&&b(i,r),k(u,i,o,h,r),k(i,u,h,o,r);var c=u[r],a=i&&i[r],y=c.length,p=i&&a.length;o.x=c[y-2],o.y=c[y-1],o.bx=e(c[y-4])||o.x,o.by=e(c[y-3])||o.y,h.bx=i&&(e(a[p-4])||h.x),h.by=i&&(e(a[p-3])||h.y),h.x=i&&a[p-2],h.y=i&&a[p-1]}return i?[u,i]:u},null,lt),gf=n._parseDots=v(function(t){for(var r=[],f,h,c,o,u,l,i=0,s=t.length;i<s;i++){if(f={},h=t[i].match(/^([^:]*):?([\d\.]*)/),f.color=n.getRGB(h[1]),f.color.error)return null;f.color=f.color.hex,h[2]&&(f.offset=h[2]+"%"),r.push(f)}for(i=1,s=r.length-1;i<s;i++)if(!r[i].offset){for(c=e(r[i-1].offset||0),o=0,u=i+1;u<s;u++)if(r[u].offset){o=r[u].offset;break}for(o||(o=100,u=s),o=e(o),l=(o-c)/(u-i+1);i<u;i++)c+=l,r[i].offset=c+"%"}return r}),ti=n._tear=function(n,t){n==t.top&&(t.top=n.prev),n==t.bottom&&(t.bottom=n.next),n.next&&(n.next.prev=n.prev),n.prev&&(n.prev.next=n.next)},ne=n._tofront=function(n,t){t.top!==n&&(ti(n,t),n.next=null,n.prev=t.top,t.top.next=n,t.top=n)},te=n._toback=function(n,t){t.bottom!==n&&(ti(n,t),n.next=t.bottom,n.prev=null,t.bottom.prev=n,t.bottom=n)},ie=n._insertafter=function(n,t,i){ti(n,i),t==i.top&&(i.top=n),t.next&&(t.next.prev=n),n.next=t.next,n.prev=t,t.next=n},re=n._insertbefore=function(n,t,i){ti(n,i),t==i.bottom&&(i.bottom=n),t.prev&&(t.prev.next=n),n.prev=t.prev,t.prev=n,n.next=t},tf=n._extractTransform=function(t,i){var b,tt;if(i==null)return t._.transform;i=y(i).replace(/\.{3}|\u2026/g,t._.transform||g);var a=n.parseTransformString(i),v=0,d=0,nt=0,p=1,w=1,e=t._,u=new rt;if(e.transform=a||[],a)for(b=0,tt=a.length;b<tt;b++){var r=a[b],o=r.length,l=y(r[0]).toLowerCase(),k=r[0]!=l,s=k?u.invert():0,it,ut,h,c,f;l=="t"&&o==3?k?(it=s.x(0,0),ut=s.y(0,0),h=s.x(r[1],r[2]),c=s.y(r[1],r[2]),u.translate(h-it,c-ut)):u.translate(r[1],r[2]):l=="r"?o==2?(f=f||t.getBBox(1),u.rotate(r[1],f.x+f.width/2,f.y+f.height/2),v+=r[1]):o==4&&(k?(h=s.x(r[2],r[3]),c=s.y(r[2],r[3]),u.rotate(r[1],h,c)):u.rotate(r[1],r[2],r[3]),v+=r[1]):l=="s"?o==2||o==3?(f=f||t.getBBox(1),u.scale(r[1],r[o-1],f.x+f.width/2,f.y+f.height/2),p*=r[1],w*=r[o-1]):o==5&&(k?(h=s.x(r[3],r[4]),c=s.y(r[3],r[4]),u.scale(r[1],r[2],h,c)):u.scale(r[1],r[2],r[3],r[4]),p*=r[1],w*=r[2]):l=="m"&&o==7&&u.add(r[1],r[2],r[3],r[4],r[5],r[6]),e.dirtyT=1,t.matrix=u}t.matrix=u,e.sx=p,e.sy=w,e.deg=v,e.dx=d=u.e,e.dy=nt=u.f,p==1&&w==1&&!v&&e.bbox?(e.bbox.x+=+d,e.bbox.y+=+nt):e.dirtyT=1},wr=function(n){var t=n[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return n.length==4?[t,0,n[2],n[3]]:[t,0];case"s":return n.length==5?[t,1,1,n[3],n[4]]:n.length==3?[t,1,1]:[t,1]}},rf=n._equaliseTransform=function(t,i){i=y(i).replace(/\.{3}|\u2026/g,t),t=n.parseTransformString(t)||[],i=n.parseTransformString(i)||[];for(var c=l(t.length,i.length),o=[],s=[],u=0,f,h,r,e;u<c;u++){if(r=t[u]||wr(i[u]),e=i[u]||wr(r),r[0]!=e[0]||r[0].toLowerCase()=="r"&&(r[2]!=e[2]||r[3]!=e[3])||r[0].toLowerCase()=="s"&&(r[3]!=e[3]||r[4]!=e[4]))return;for(o[u]=[],s[u]=[],f=0,h=l(r.length,e.length);f<h;f++)f in r&&(o[u][f]=r[f]),f in e&&(s[u][f]=e[f])}return{from:o,to:s}};n._getContainer=function(i,r,u,f){var e;return e=f==null&&!n.is(i,"object")?t.doc.getElementById(i):i,e!=null?e.tagName?r==null?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:r,height:u}:{container:1,x:i,y:r,width:u,height:f}:void 0},n.pathToRelative=gu,n._engine={},n.path2curve=at,n.matrix=function(n,t,i,r,u,f){return new rt(n,t,i,r,u,f)},function(t){function u(n){var t=i.sqrt(r(n));n[0]&&(n[0]/=t),n[1]&&(n[1]/=t)}function r(n){return n[0]*n[0]+n[1]*n[1]}t.add=function(n,t,i,r,u,f){var e=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[n,i,u],[t,r,f],[0,0,1]],o,s,h,c;for(n&&n instanceof rt&&(l=[[n.a,n.c,n.e],[n.b,n.d,n.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(c=0,h=0;h<3;h++)c+=a[o][h]*l[h][s];e[o][s]=c}this.a=e[0][0],this.b=e[1][0],this.c=e[0][1],this.d=e[1][1],this.e=e[0][2],this.f=e[1][2]},t.invert=function(){var n=this,t=n.a*n.d-n.b*n.c;return new rt(n.d/t,-n.b/t,-n.c/t,n.a/t,(n.c*n.f-n.d*n.e)/t,(n.b*n.e-n.a*n.f)/t)},t.clone=function(){return new rt(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(n,t){this.add(1,0,0,1,n,t)},t.scale=function(n,t,i,r){t==null&&(t=n),(i||r)&&this.add(1,0,0,1,i,r),this.add(n,0,0,t,0,0),(i||r)&&this.add(1,0,0,1,-i,-r)},t.rotate=function(t,r,u){t=n.rad(t),r=r||0,u=u||0;var f=+i.cos(t).toFixed(9),e=+i.sin(t).toFixed(9);this.add(f,e,-e,f,r,u),this.add(1,0,0,1,-r,-u)},t.x=function(n,t){return n*this.a+t*this.c+this.e},t.y=function(n,t){return n*this.b+t*this.d+this.f},t.get=function(n){return+this[y.fromCharCode(97+n)].toFixed(4)},t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={},f,e,o;return t.dx=this.e,t.dy=this.f,f=[[this.a,this.c],[this.b,this.d]],t.scalex=i.sqrt(r(f[0])),u(f[0]),t.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1],f[1]=[f[1][0]-f[0][0]*t.shear,f[1][1]-f[0][1]*t.shear],t.scaley=i.sqrt(r(f[1])),u(f[1]),t.shear/=t.scaley,e=-f[0][1],o=f[1][1],o<0?(t.rotate=n.deg(i.acos(o)),e<0&&(t.rotate=360-t.rotate)):t.rotate=n.deg(i.asin(e)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(n){var t=n||this[tt]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:g)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:g)+(t.rotate?"r"+[t.rotate,0,0]:g)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(rt.prototype),vt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/),o.safari=navigator.vendor=="Apple Computer, Inc."&&(vt&&vt[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&vt&&vt[1]<8?function(){var n=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){n.remove()})}:yu;var uf=function(){this.returnValue=!1},ff=function(){return this.originalEvent.preventDefault()},ef=function(){this.cancelBubble=!0},of=function(){return this.originalEvent.stopPropagation()},sf=function(){return t.doc.addEventListener?function(n,i,r,u){var f=oi&&si[i]?si[i]:i,e=function(f){var c=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,l=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,a=f.clientX+l,v=f.clientY+c,e,o,s;if(oi&&si[h](i))for(e=0,o=f.targetTouches&&f.targetTouches.length;e<o;e++)if(f.targetTouches[e].target==n){s=f,f=f.targetTouches[e],f.originalEvent=s,f.preventDefault=ff,f.stopPropagation=of;break}return r.call(u,f,a,v)};return n.addEventListener(f,e,!1),function(){return n.removeEventListener(f,e,!1),!0}}:t.doc.attachEvent?function(n,i,r,u){var f=function(n){n=n||t.win.event;var i=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,f=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,e=n.clientX+f,o=n.clientY+i;return n.preventDefault=n.preventDefault||uf,n.stopPropagation=n.stopPropagation||ef,r.call(u,n,e,o)},e;return n.attachEvent("on"+i,f),e=function(){return n.detachEvent("on"+i,f),!0}}:void 0}(),ft=[],yi=function(n){for(var u=n.clientX,f=n.clientY,a=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,v=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,i,c=ft.length,o,e;c--;){if(i=ft[c],oi){for(o=n.touches.length;o--;)if(e=n.touches[o],e.identifier==i.el._drag.id){u=e.clientX,f=e.clientY,(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();var r=i.el.node,s,l=r.nextSibling,h=r.parentNode,y=r.style.display;t.win.opera&&h.removeChild(r),r.style.display="none",s=i.el.paper.getElementByPoint(u,f),r.style.display=y,t.win.opera&&(l?h.insertBefore(r,l):h.appendChild(r)),s&&eve("drag.over."+i.el.id,i.el,s),u+=v,f+=a,eve("drag.move."+i.el.id,i.move_scope||i.el,u-i.el._drag.x,f-i.el._drag.y,u,f,n)}},pi=function(t){n.unmousemove(yi).unmouseup(pi);for(var r=ft.length,i;r--;)i=ft[r],i.el._drag={},eve("drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);ft=[]},u=n.el={};for(wi=ur.length;wi--;)(function(i){n[i]=u[i]=function(r,u){return n.is(r,"function")&&(this.events=this.events||[],this.events.push({name:i,f:r,unbind:sf(this.shape||this.node||t.doc,i,r,u||this)})),this},n["un"+i]=u["un"+i]=function(n){for(var t=this.events||[],r=t.length;r--;)if(t[r].name==i&&t[r].f==n)return t[r].unbind(),t.splice(r,1),!t.length&&delete this.events,this;return this}})(ur[wi]);u.data=function(t,i){var u=ct[this.id]=ct[this.id]||{},r;if(arguments.length==1){if(n.is(t,"object")){for(r in t)t[h](r)&&this.data(r,t[r]);return this}return eve("data.get."+this.id,this,u[t],t),u[t]}return u[t]=i,eve("data.set."+this.id,this,i,t),this},u.removeData=function(n){return n==null?ct[this.id]={}:ct[this.id]&&delete ct[this.id][n],this},u.hover=function(n,t,i,r){return this.mouseover(n,i).mouseout(t,r||i)},u.unhover=function(n,t){return this.unmouseover(n).unmouseout(t)},et=[],u.drag=function(i,r,u,f,e,o){function s(s){(s.originalEvent||s).preventDefault();var h=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,c=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft;this._drag.x=s.clientX+c,this._drag.y=s.clientY+h,this._drag.id=s.identifier,!ft.length&&n.mousemove(yi).mouseup(pi),ft.push({el:this,move_scope:f,start_scope:e,end_scope:o}),r&&eve.on("drag.start."+this.id,r),i&&eve.on("drag.move."+this.id,i),u&&eve.on("drag.end."+this.id,u),eve("drag.start."+this.id,e||f||this,s.clientX+c,s.clientY+h,s)}return this._drag={},et.push({el:this,start:s}),this.mousedown(s),this},u.onDragOver=function(n){n?eve.on("drag.over."+this.id,n):eve.unbind("drag.over."+this.id)},u.undrag=function(){for(var t=et.length;t--;)et[t].el==this&&(this.unmousedown(et[t].start),et.splice(t,1),eve.unbind("drag.*."+this.id));et.length||n.unmousemove(yi).unmouseup(pi)},o.circle=function(t,i,r){var u=n._engine.circle(this,t||0,i||0,r||0);return this.__set__&&this.__set__.push(u),u},o.rect=function(t,i,r,u,f){var e=n._engine.rect(this,t||0,i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e},o.ellipse=function(t,i,r,u){var f=n._engine.ellipse(this,t||0,i||0,r||0,u||0);return this.__set__&&this.__set__.push(f),f},o.path=function(t){!t||n.is(t,wt)||n.is(t[0],w)||(t+=g);var i=n._engine.path(n.format[s](n,arguments),this);return this.__set__&&this.__set__.push(i),i},o.image=function(t,i,r,u,f){var e=n._engine.image(this,t||"about:blank",i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e},o.text=function(t,i,r){var u=n._engine.text(this,t||0,i||0,y(r));return this.__set__&&this.__set__.push(u),u},o.set=function(t){n.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new ot(t);return this.__set__&&this.__set__.push(i),i},o.setStart=function(n){this.__set__=n||this.set()},o.setFinish=function(){var t=this.__set__;return delete this.__set__,t},o.setSize=function(t,i){return n._engine.setSize.call(this,t,i)},o.setViewBox=function(t,i,r,u,f){return n._engine.setViewBox.call(this,t,i,r,u,f)},o.top=o.bottom=null,o.raphael=n,br=function(n){var u=n.getBoundingClientRect(),f=n.ownerDocument,i=f.body,r=f.documentElement,e=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0,s=u.top+(t.win.pageYOffset||r.scrollTop||i.scrollTop)-e,h=u.left+(t.win.pageXOffset||r.scrollLeft||i.scrollLeft)-o;return{y:s,x:h}},o.getElementByPoint=function(n,i){var o=this,f=o.canvas,r=t.doc.elementFromPoint(n,i),s,u,e;if(t.win.opera&&r.tagName=="svg"&&(s=br(f),u=f.createSVGRect(),u.x=n-s.x,u.y=i-s.y,u.width=u.height=1,e=f.getIntersectionList(u,null),e.length&&(r=e[e.length-1])),!r)return null;while(r.parentNode&&r!=f.parentNode&&!r.raphael)r=r.parentNode;return r==o.canvas.parentNode&&(r=f),r=r&&r.raphael?o.getById(r.raphaelid):null,r},o.getById=function(n){for(var t=this.bottom;t;){if(t.id==n)return t;t=t.next}return null},o.forEach=function(n,t){for(var i=this.bottom;i;){if(n.call(t,i)===!1)return this;i=i.next}return this},u.getBBox=function(n){if(this.removed)return{};var t=this._;return n?((t.dirty||!t.bboxwt)&&(this.realPath=vi[this.type](this),t.bboxwt=ar(this.realPath),t.bboxwt.toString=tr,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=vi[this.type](this)),t.bbox=ar(sr(this.realPath,this.matrix)),t.bbox.toString=tr,t.dirty=t.dirtyT=0),t.bbox)},u.clone=function(){if(this.removed)return null;var n=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(n),n},u.glow=function(n){var r;if(this.type=="text")return null;n=n||{};var t={width:(n.width||10)+(+this.attr("stroke-width")||1),fill:n.fill||!1,opacity:n.opacity||.5,offsetx:n.offsetx||0,offsety:n.offsety||0,color:n.color||"#000"},u=t.width/2,f=this.paper,e=f.set(),i=this.realPath||vi[this.type](this);for(i=this.matrix?sr(i,this.matrix):i,r=1;r<u+1;r++)e.push(f.path(i).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/u*r).toFixed(3),opacity:+(t.opacity/u).toFixed(3)}));return e.insertBefore(this).translate(t.offsetx,t.offsety)};var bi={},ii=function(t,i,r,u,f,e,o,s,h){var p=0,v=100,w=[t,i,r,u,f,e,o,s].join(),c=bi[w],b,y,k,l;for(c||(bi[w]=c={data:[]}),c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){delete bi[w]},2e3),h==null||c.precision||(k=ii(t,i,r,u,f,e,o,s),c.precision=~~k*10,c.data=[]),v=c.precision||v,l=0;l<v+1;l++){if(c.data[l*v]?y=c.data[l*v]:(y=n.findDotsAtSegment(t,i,r,u,f,e,o,s,l/v),c.data[l*v]=y),l&&(p+=a(a(b.x-y.x,2)+a(b.y-y.y,2),.5)),h!=null&&p>=h)return y;b=y}if(h==null)return p},ki=function(t,i){return function(r,u,f){var y,p;r=at(r);var s,h,e,a,c="",v={},o,l=0;for(y=0,p=r.length;y<p;y++){if(e=r[y],e[0]=="M")s=+e[1],h=+e[2];else{if(a=ii(s,h,e[1],e[2],e[3],e[4],e[5],e[6]),l+a>u){if(i&&!v.start){if(o=ii(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),c+=["C"+o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],f)return c;v.start=c,c=["M"+o.x,o.y+"C"+o.n.x,o.n.y,o.end.x,o.end.y,e[5],e[6]].join(),l+=a,s=+e[5],h=+e[6];continue}if(!t&&!i)return o=ii(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),{x:o.x,y:o.y,alpha:o.alpha}}l+=a,s=+e[5],h=+e[6]}c+=e.shift()+e}return v.end=c,o=t?l:i?v:n.findDotsAtSegment(s,h,e[0],e[1],e[2],e[3],e[4],e[5],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},kr=ki(1),dr=ki(),di=ki(0,1);n.getTotalLength=kr,n.getPointAtLength=dr,n.getSubpath=function(n,t,i){if(this.getTotalLength(n)-i<1e-6)return di(n,t).end;var r=di(n,i,1);return t?di(r,t).end:r},u.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():kr(this.attrs.path)},u.getPointAtLength=function(n){if(this.type=="path")return dr(this.attrs.path,n)},u.getSubpath=function(t,i){if(this.type=="path")return n.getSubpath(this.attrs.path,t,i)},d=n.easing_formulas={linear:function(n){return n},"<":function(n){return a(n,1.7)},">":function(n){return a(n,.48)},"<>":function(n){var r=.48-n/1.04,u=i.sqrt(.1734+r*r),f=u-r,o=a(k(f),1/3)*(f<0?-1:1),e=-u-r,s=a(k(e),1/3)*(e<0?-1:1),t=o+s+.5;return(1-t)*3*t*t+t*t*t},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){n=n-1;var t=1.70158;return n*n*((t+1)*n+t)+1},elastic:function(n){return n==!!n?n:a(2,-10*n)*i.sin((n-.075)*2*p/.3)+1},bounce:function(n){var r=7.5625,t=2.75,i;return n<1/t?i=r*n*n:n<2/t?(n-=1.5/t,i=r*n*n+.75):n<2.5/t?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}},d.easeIn=d["ease-in"]=d["<"],d.easeOut=d["ease-out"]=d[">"],d.easeInOut=d["ease-in-out"]=d["<>"],d["back-in"]=d.backIn,d["back-out"]=d.backOut;var r=[],gr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,16)},gi=function(){for(var ut=+new Date,w=0,t,v,i,u,d,l,g,p,rt;w<r.length;w++)if(t=r[w],!t.el.removed&&!t.paused){var b=ut-t.start,s=t.ms,ft=t.easing,o=t.from,a=t.diff,nt=t.to,et=t.t,y=t.el,tt={},e,it={},k;if(t.initstatus?(b=(t.initstatus*t.anim.top-t.prev)/(t.percent-t.prev)*s,t.status=t.initstatus,delete t.initstatus,t.stop&&r.splice(w--,1)):t.status=(t.prev+(t.percent-t.prev)*(b/s))/t.anim.top,!(b<0))if(b<s){v=ft(b/s);for(i in o)if(o[h](i)){switch(ci[i]){case c:e=+o[i]+v*s*a[i];break;case"colour":e="rgb("+[nr(hi(o[i].r+v*s*a[i].r)),nr(hi(o[i].g+v*s*a[i].g)),nr(hi(o[i].b+v*s*a[i].b))].join(",")+")";break;case"path":for(e=[],u=0,d=o[i].length;u<d;u++){for(e[u]=[o[i][u][0]],l=1,g=o[i][u].length;l<g;l++)e[u][l]=+o[i][u][l]+v*s*a[i][u][l];e[u]=e[u].join(st)}e=e.join(st);break;case"transform":if(a[i].real)for(e=[],u=0,d=o[i].length;u<d;u++)for(e[u]=[o[i][u][0]],l=1,g=o[i][u].length;l<g;l++)e[u][l]=o[i][u][l]+v*s*a[i][u][l];else p=function(n){return+o[i][n]+v*s*a[i][n]},e=[["m",p(0),p(1),p(2),p(3),p(4),p(5)]];break;case"csv":if(i=="clip-rect")for(e=[],u=4;u--;)e[u]=+o[i][u]+v*s*a[i][u];break;default:for(rt=[][f](o[i]),e=[],u=y.paper.customAttributes[i].length;u--;)e[u]=+rt[u]+v*s*a[i][u]}tt[i]=e}y.attr(tt),function(n,t,i){setTimeout(function(){eve("anim.frame."+n,t,i)})}(y.id,y,t.anim)}else{if(function(t,i,r){setTimeout(function(){eve("anim.frame."+i.id,i,r),eve("anim.finish."+i.id,i,r),n.is(t,"function")&&t.call(i)})}(t.callback,y,t.anim),y.attr(nt),r.splice(w--,1),t.repeat>1&&!t.next){for(k in nt)nt[h](k)&&(it[k]=t.totalOrigin[k]);t.el.attr(it),ht(t.anim,t.el,t.anim.percents[0],null,t.totalOrigin,t.repeat-1)}t.next&&!t.stop&&ht(t.anim,t.el,t.next,null,t.totalOrigin,t.repeat)}}n.svg&&y&&y.paper&&y.paper.safari(),r.length&&gr(gi)},nr=function(n){return n>255?255:n<0?0:n};u.animateWith=function(t,i,u,f,e,o){var s=this,c,a,v,h,l;if(s.removed)return o&&o.call(s),s;for(c=u instanceof it?u:n.animation(u,f,e,o),ht(c,s,c.percents[0],null,s.attr()),h=0,l=r.length;h<l;h++)if(r[h].anim==i&&r[h].el==t){r[l-1].start=r[h].start;break}return s},u.onAnimation=function(n){return n?eve.on("anim.frame."+this.id,n):eve.unbind("anim.frame."+this.id),this},it.prototype.delay=function(n){var t=new it(this.anim,this.ms);return t.times=this.times,t.del=+n||0,t},it.prototype.repeat=function(n){var t=new it(this.anim,this.ms);return t.del=this.del,t.times=i.floor(l(n,0))||1,t},n.animation=function(t,i,r,u){if(t instanceof it)return t;(n.is(r,"function")||!r)&&(u=u||r||null,r=null),t=Object(t),i=+i||0;var o={},s,f;for(f in t)t[h](f)&&e(f)!=f&&e(f)+"%"!=f&&(s=!0,o[f]=t[f]);return s?(r&&(o.easing=r),u&&(o.callback=u),new it({100:o},i)):new it(t,i)},u.animate=function(t,i,r,u){var f=this,e;return f.removed?(u&&u.call(f),f):(e=t instanceof it?t:n.animation(t,i,r,u),ht(e,f,e.percents[0],null,f.attr()),f)},u.setTime=function(n,t){return n&&t!=null&&this.status(n,nt(t,n.ms)/n.ms),this},u.status=function(n,t){var f=[],u=0,e,i;if(t!=null)return ht(n,this,-1,nt(t,1)),this;for(e=r.length;u<e;u++)if(i=r[u],i.el.id==this.id&&(!n||i.anim==n)){if(n)return i.status;f.push({anim:i.anim,status:i.status})}return n?0:f},u.pause=function(n){for(var t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||eve("anim.pause."+this.id,this,r[t].anim)===!1||(r[t].paused=!0);return this},u.resume=function(n){for(var i,t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||(i=r[t],eve("anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status)));return this},u.stop=function(n){for(var t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||eve("anim.stop."+this.id,this,r[t].anim)===!1||r.splice(t--,1);return this},u.toString=function(){return"Raphaël’s object"},ot=function(n){if(this.items=[],this.length=0,this.type="set",n)for(var t=0,i=n.length;t<i;t++)n[t]&&(n[t].constructor==u.constructor||n[t].constructor==ot)&&(this[this.items.length]=this.items[this.items.length]=n[t],this.length++)},b=ot.prototype,b.push=function(){for(var n,i,t=0,r=arguments.length;t<r;t++)n=arguments[t],n&&(n.constructor==u.constructor||n.constructor==ot)&&(i=this.items.length,this[i]=this.items[i]=n,this.length++);return this},b.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},b.forEach=function(n,t){for(var i=0,r=this.items.length;i<r;i++)if(n.call(t,this.items[i],i)===!1)return this;return this};for(ri in u)u[h](ri)&&(b[ri]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n][s](i,t)})}}(ri));b.attr=function(t,i){var r,f,u,e;if(t&&n.is(t,w)&&n.is(t[0],"object"))for(r=0,f=t.length;r<f;r++)this.items[r].attr(t[r]);else for(u=0,e=this.items.length;u<e;u++)this.items[u].attr(t,i);return this},b.clear=function(){while(this.length)this.pop()},b.splice=function(n,t){var u;n=n<0?l(this.length+n,0):n,t=l(0,nt(this.length-n,t));for(var f=[],o=[],e=[],r=2;r<arguments.length;r++)e.push(arguments[r]);for(r=0;r<t;r++)o.push(this[n+r]);for(;r<this.length-n;r++)f.push(this[n+r]);for(u=e.length,r=0;r<u+f.length;r++)this.items[n+r]=this[n+r]=r<u?e[r]:f[r-u];for(r=this.items.length=this.length-=t-u;this[r];)delete this[r++];return new ot(o)},b.exclude=function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]==n)return this.splice(t,1),!0},b.animate=function(t,i,r,u){var e;(n.is(r,"function")||!r)&&(u=r||null);var o=this.items.length,f=o,h,c=this,s;if(!o)return this;for(u&&(s=function(){--o||u.call(c)}),r=n.is(r,wt)?r:s,e=n.animation(t,i,r,s),h=this.items[--f].animate(e);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(h,e,e);return this},b.insertAfter=function(n){for(var t=this.items.length;t--;)this.items[t].insertAfter(n);return this},b.getBBox=function(){for(var t=[],i=[],u=[],f=[],n,r=this.items.length;r--;)this.items[r].removed||(n=this.items[r].getBBox(),t.push(n.x),i.push(n.y),u.push(n.x+n.width),f.push(n.y+n.height));return t=nt[s](0,t),i=nt[s](0,i),{x:t,y:i,width:l[s](0,u)-t,height:l[s](0,f)-i}},b.clone=function(n){n=new ot;for(var t=0,i=this.items.length;t<i;t++)n.push(this.items[t].clone());return n},b.toString=function(){return"Raphaël‘s set"},n.registerFont=function(n){var i,u,f,r,t,e;if(!n.face)return n;this.fonts=this.fonts||{},i={w:n.w,face:{},glyphs:{}},u=n.face["font-family"];for(f in n.face)n.face[h](f)&&(i.face[f]=n.face[f]);if(this.fonts[u]?this.fonts[u].push(i):this.fonts[u]=[i],!n.svg){i.face["units-per-em"]=ut(n.face["units-per-em"],10);for(r in n.glyphs)if(n.glyphs[h](r)&&(t=n.glyphs[r],i.glyphs[r]={w:t.w,k:{},d:t.d&&"M"+t.d.replace(/[mlcxtrv]/g,function(n){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[n]||"M"})+"z"},t.k))for(e in t.k)t[h](e)&&(i.glyphs[r].k[e]=t.k[e])}return n},o.getFont=function(t,i,r,u){var f,c,o,e,s,l;if(u=u||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,!!n.fonts){if(f=n.fonts[t],!f){c=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,g)+"(\\s|$)","i");for(o in n.fonts)if(n.fonts[h](o)&&c.test(o)){f=n.fonts[o];break}}if(f)for(s=0,l=f.length;s<l;s++)if(e=f[s],e.face["font-weight"]==i&&(e.face["font-style"]==r||!e.face["font-style"])&&e.face["font-stretch"]==u)break;return e}},o.print=function(t,i,r,u,f,e,o){var s,it,v,p;e=e||"middle",o=l(nt(o||0,1),-1);var w=this.set(),a=y(r)[tt](g),b=0,rt=g,h;if(n.is(u,r)&&(u=this.getFont(u)),u){h=(f||16)/u.face["units-per-em"];var c=u.face.bbox[tt](fi),k=+c[0],d=+c[1]+(e=="baseline"?c[3]-c[1]+ +u.face.descent:(c[3]-c[1])/2);for(s=0,it=a.length;s<it;s++)v=s&&u.glyphs[a[s-1]]||{},p=u.glyphs[a[s]],b+=s?(v.w||u.w)+(v.k&&v.k[a[s]]||0)+u.w*o:0,p&&p.d&&w.push(this.path(p.d).attr({fill:"#000",stroke:"none",transform:[["t",b*h,0]]}));w.transform(["...s",h,h,k,d,"t",(t-k)/h,(i-d)/h])}return w},o.add=function(t){if(n.is(t,"array"))for(var u=this.set(),r=0,f=t.length,i;r<f;r++)i=t[r]||{},iu[h](i.type)&&u.push(this[i.type]().attr(i));return u},n.format=function(t,i){var r=n.is(i,w)?[0][f](i):arguments;return t&&n.is(t,wt)&&r.length-1&&(t=t.replace(ru,function(n,t){return r[++t]==null?g:r[t]})),t||g},n.fullfill=function(){var n=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(n,i,r){var u=r;return i.replace(t,function(n,t,i,r,f){t=t||r,u&&(t in u&&(u=u[t]),typeof u=="function"&&f&&(u=u()))}),u=(u==null||u==r?n:u)+"",u};return function(t,r){return String(t).replace(n,function(n,t){return i(n,t,r)})}}(),n.ninja=function(){return ei.was?t.win.Raphael=ei.is:delete Raphael,n},n.st=b,function(t,i,r){function u(){/in/.test(t.readyState)?setTimeout(u,9):n.eve("DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(i,r=function(){t.removeEventListener(i,r,!1),t.readyState="complete"},!1),t.readyState="loading"),u()}(document,"DOMContentLoaded"),ei.was?t.win.Raphael=n:Raphael=n,eve.on("DOMload",function(){ui=!0})}(),window.Raphael.svg&&function(n){var i="hasOwnProperty",u=String,f=parseFloat,tt=parseInt,c=Math,k=c.max,y=c.abs,d=c.pow,l=/[, ]+/,p=n.eve,o="",w=" ",a="http://www.w3.org/1999/xlink",ft={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},e={},nt,v;n.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var t=function(r,f){if(f){typeof r=="string"&&(r=t(r));for(var e in f)f[i](e)&&(e.substring(0,6)=="xlink:"?r.setAttributeNS(a,e.substring(6),u(f[e])):r.setAttribute(e,u(f[e])))}else r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},it=function(i,r){var w="linear",l=i.id+r,b=.5,s=.5,tt=i.node,it=i.paper,g=tt.style,a=n._g.doc.getElementById(l),v,e,nt,p,h,rt;if(!a){if(r=u(r).replace(n._radial_gradient,function(n,t,i){if(w="radial",t&&i){b=f(t),s=f(i);var r=(s>.5)*2-1;d(b-.5,2)+d(s-.5,2)>.25&&(s=c.sqrt(.25-d(b-.5,2))*r+.5)&&s!=.5&&(s=s.toFixed(5)-1e-5*r)}return o}),r=r.split(/\s*\-\s*/),w=="linear"){if(v=r.shift(),v=-f(v),isNaN(v))return null;e=[0,0,c.cos(n.rad(v)),c.sin(n.rad(v))],nt=1/(k(y(e[2]),y(e[3]))||1),e[2]*=nt,e[3]*=nt,e[2]<0&&(e[0]=-e[2],e[2]=0),e[3]<0&&(e[1]=-e[3],e[3]=0)}if(p=n._parseDots(r),!p)return null;if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),i.gradient&&l!=i.gradient.id&&(it.defs.removeChild(i.gradient),delete i.gradient),!i.gradient)for(a=t(w+"Gradient",{id:l}),i.gradient=a,t(a,w=="radial"?{fx:b,fy:s}:{x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientTransform:i.matrix.invert()}),it.defs.appendChild(a),h=0,rt=p.length;h<rt;h++)a.appendChild(t("stop",{offset:p[h].offset?p[h].offset:h?"100%":"0%","stop-color":p[h].color||"#fff"}))}return t(tt,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),g.fill=o,g.opacity=1,g.fillOpacity=1,1},b=function(n){var i=n.getBBox(1);t(n.pattern,{patternTransform:n.matrix.invert()+" translate("+i.x+","+i.y+")"})},s=function(r,f,s){var b,k,g,tt,it,rt;if(r.type=="path"){for(var ut=u(f).toLowerCase().split("-"),ht=r.paper,h=s?"end":"start",ct=r.node,l=r.attrs,d=l["stroke-width"],et=ut.length,a="classic",p,w,ot,st,c,v=3,y=3,nt=5;et--;)switch(ut[et]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=ut[et];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":v=5;break;case"short":v=2}a=="open"?(v+=2,y+=2,nt+=2,ot=1,st=s?4:1,c={fill:"none",stroke:l.stroke}):(st=ot=v/2,c={fill:l.stroke,stroke:"none"}),r._.arrows?s?(r._.arrows.endPath&&e[r._.arrows.endPath]--,r._.arrows.endMarker&&e[r._.arrows.endMarker]--):(r._.arrows.startPath&&e[r._.arrows.startPath]--,r._.arrows.startMarker&&e[r._.arrows.startMarker]--):r._.arrows={},a!="none"?(b="raphael-marker-"+a,k="raphael-marker-"+h+a+v+y,n._g.doc.getElementById(b)?e[b]++:(ht.defs.appendChild(t(t("path"),{"stroke-linecap":"round",d:ft[a],id:b})),e[b]=1),g=n._g.doc.getElementById(k),g?(e[k]++,tt=g.getElementsByTagName("use")[0]):(g=t(t("marker"),{id:k,markerHeight:y,markerWidth:v,orient:"auto",refX:st,refY:y/2}),tt=t(t("use"),{"xlink:href":"#"+b,transform:(s?"rotate(180 "+v/2+" "+y/2+") ":o)+"scale("+v/nt+","+y/nt+")","stroke-width":(2/(v/nt+y/nt)).toFixed(4)}),g.appendChild(tt),ht.defs.appendChild(g),e[k]=1),t(tt,c),it=ot*(a!="diamond"&&a!="oval"),s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-it*d):(p=it*d,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),c={},c["marker-"+h]="url(#"+k+")",(w||p)&&(c.d=Raphael.getSubpath(l.path,p,w)),t(ct,c),r._.arrows[h+"Path"]=b,r._.arrows[h+"Marker"]=k,r._.arrows[h+"dx"]=it,r._.arrows[h+"Type"]=a,r._.arrows[h+"String"]=f):(s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-p):(p=0,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),r._.arrows[h+"Path"]&&t(ct,{d:Raphael.getSubpath(l.path,p,w)}),delete r._.arrows[h+"Path"],delete r._.arrows[h+"Marker"],delete r._.arrows[h+"dx"],delete r._.arrows[h+"Type"],delete r._.arrows[h+"String"]);for(c in e)e[i](c)&&!e[c]&&(rt=n._g.doc.getElementById(c),rt&&rt.parentNode.removeChild(rt))}},et={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},rt=function(n,i,r){if(i=et[u(i).toLowerCase()],i){for(var e=n.attrs["stroke-width"]||"1",s={round:e,square:e,butt:0}[n.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],f=i.length;f--;)o[f]=i[f]*e+(f%2?1:-1)*s;t(n.node,{"stroke-dasharray":o.join(",")})}},g=function(r,f){var h=r.node,c=r.attrs,vt=h.style.visibility,v,e,d,ft,g,p,et,lt,st,ht,ct,w,nt,ut,at;h.style.visibility="hidden";for(v in f)if(f[i](v)){if(!n._availableAttrs[i](v))continue;e=f[v],c[v]=e;switch(v){case"blur":r.blur(e);break;case"href":case"title":case"target":d=h.parentNode,d.tagName.toLowerCase()!="a"&&(ft=t("a"),d.insertBefore(ft,h),ft.appendChild(h),d=ft),v=="target"?d.setAttributeNS(a,"show",e=="blank"?"new":e):d.setAttributeNS(a,v,e);break;case"cursor":h.style.cursor=e;break;case"transform":r.transform(e);break;case"arrow-start":s(r,e);break;case"arrow-end":s(r,e,1);break;case"clip-rect":g=u(e).split(l),g.length==4&&(r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode),p=t("clipPath"),et=t("rect"),p.id=n.createUUID(),t(et,{x:g[0],y:g[1],width:g[2],height:g[3]}),p.appendChild(et),r.paper.defs.appendChild(p),t(h,{"clip-path":"url(#"+p.id+")"}),r.clip=et),e||(lt=h.getAttribute("clip-path"),lt&&(st=n._g.doc.getElementById(lt.replace(/(^url\(#|\)$)/g,o)),st&&st.parentNode.removeChild(st),t(h,{"clip-path":o}),delete r.clip));break;case"path":r.type=="path"&&(t(h,{d:e?c.path=n._pathToAbsolute(e):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1)));break;case"width":if(h.setAttribute(v,e),r._.dirty=1,c.fx)v="x",e=c.x;else break;case"x":c.fx&&(e=-c.x-(c.width||0));case"rx":if(v=="rx"&&r.type=="rect")break;case"cx":h.setAttribute(v,e),r.pattern&&b(r),r._.dirty=1;break;case"height":if(h.setAttribute(v,e),r._.dirty=1,c.fy)v="y",e=c.y;else break;case"y":c.fy&&(e=-c.y-(c.height||0));case"ry":if(v=="ry"&&r.type=="rect")break;case"cy":h.setAttribute(v,e),r.pattern&&b(r),r._.dirty=1;break;case"r":r.type=="rect"?t(h,{rx:e,ry:e}):h.setAttribute(v,e),r._.dirty=1;break;case"src":r.type=="image"&&h.setAttributeNS(a,"href",e);break;case"stroke-width":(r._.sx!=1||r._.sy!=1)&&(e/=k(y(r._.sx),y(r._.sy))||1),r.paper._vbSize&&(e*=r.paper._vbSize),h.setAttribute(v,e),c["stroke-dasharray"]&&rt(r,c["stroke-dasharray"],f),r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"stroke-dasharray":rt(r,e,f);break;case"fill":if(ht=u(e).match(n._ISURL),ht){p=t("pattern"),ct=t("image"),p.id=n.createUUID(),t(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),t(ct,{x:0,y:0,"xlink:href":ht[1]}),p.appendChild(ct),function(i){n._preload(ht[1],function(){var n=this.offsetWidth,u=this.offsetHeight;t(i,{width:n,height:u}),t(ct,{width:n,height:u}),r.paper.safari()})}(p),r.paper.defs.appendChild(p),t(h,{fill:"url(#"+p.id+")"}),r.pattern=p,r.pattern&&b(r);break}if(w=n.getRGB(e),w.error){if((r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&it(r,e)){("opacity"in c||"fill-opacity"in c)&&(nt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o)),nt&&(ut=nt.getElementsByTagName("stop"),t(ut[ut.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)}))),c.gradient=e,c.fill="none";break}}else delete f.gradient,delete c.gradient,!n.is(c.opacity,"undefined")&&n.is(f.opacity,"undefined")&&t(h,{opacity:c.opacity}),!n.is(c["fill-opacity"],"undefined")&&n.is(f["fill-opacity"],"undefined")&&t(h,{"fill-opacity":c["fill-opacity"]});w[i]("opacity")&&t(h,{"fill-opacity":w.opacity>1?w.opacity/100:w.opacity});case"stroke":w=n.getRGB(e),h.setAttribute(v,w.hex),v=="stroke"&&w[i]("opacity")&&t(h,{"stroke-opacity":w.opacity>1?w.opacity/100:w.opacity}),v=="stroke"&&r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&it(r,e);break;case"opacity":c.gradient&&!c[i]("stroke-opacity")&&t(h,{"stroke-opacity":e>1?e/100:e});case"fill-opacity":if(c.gradient){nt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o)),nt&&(ut=nt.getElementsByTagName("stop"),t(ut[ut.length-1],{"stop-opacity":e}));break}default:v=="font-size"&&(e=tt(e,10)+"px"),at=v.replace(/(\-.)/g,function(n){return n.substring(1).toUpperCase()}),h.style[at]=e,r._.dirty=1,h.setAttribute(v,e)}}ot(r,f),h.style.visibility=vt},ut=1.2,ot=function(r,f){var y,h,l,e,a,p,v;if(r.type=="text"&&!!(f[i]("text")||f[i]("font")||f[i]("font-size")||f[i]("x")||f[i]("y"))){var c=r.attrs,s=r.node,w=s.firstChild?tt(n._g.doc.defaultView.getComputedStyle(s.firstChild,o).getPropertyValue("font-size"),10):10;if(f[i]("text")){for(c.text=f.text;s.firstChild;)s.removeChild(s.firstChild);for(y=u(f.text).split("\n"),h=[],e=0,a=y.length;e<a;e++)l=t("tspan"),e&&t(l,{dy:w*ut,x:c.x}),l.appendChild(n._g.doc.createTextNode(y[e])),s.appendChild(l),h[e]=l}else for(h=s.getElementsByTagName("tspan"),e=0,a=h.length;e<a;e++)e?t(h[e],{dy:w*ut,x:c.x}):t(h[0],{dy:0});t(s,{x:c.x,y:c.y}),r._.dirty=1,p=r._getBBox(),v=c.y-(p.y+p.height/2),v&&n.is(v,"finite")&&t(h[0],{dy:v})}},h=function(t,i){var r=0,u=0;this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},r=n.el;h.prototype=r,r.constructor=h,n._engine.path=function(n,i){var u=t("path"),r;return i.canvas&&i.canvas.appendChild(u),r=new h(u,i),r.type="path",g(r,{fill:"none",stroke:"#000",path:n}),r},r.rotate=function(n,t,i){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2])),n=f(n[0]),i==null&&(t=i),t==null||i==null){var r=this.getBBox(1);t=r.x+r.width/2,i=r.y+r.height/2}return this.transform(this._.transform.concat([["r",n,t,i]])),this},r.scale=function(n,t,i,r){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2]),r=f(n[3])),n=f(n[0]),t==null&&(t=n),r==null&&(i=r),i==null||r==null)var e=this.getBBox(1);return i=i==null?e.x+e.width/2:i,r=r==null?e.y+e.height/2:r,this.transform(this._.transform.concat([["s",n,t,i,r]])),this},r.translate=function(n,t){return this.removed?this:(n=u(n).split(l),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",n,t]])),this)},r.transform=function(r){var u=this._,f;return r==null?u.transform:(n._extractTransform(this,r),this.clip&&t(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&t(this.node,{transform:this.matrix}),(u.sx!=1||u.sy!=1)&&(f=this.attrs[i]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":f})),this)},r.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},r.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},r.remove=function(){var t,i;if(!this.removed){t=this.paper,t.__set__&&t.__set__.exclude(this),p.unbind("*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),n._tear(this,t),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(i in this)this[i]=typeof this[i]=="function"?n._removedFactory(i):null;this.removed=!0}},r._getBBox=function(){var t,n;this.node.style.display=="none"&&(this.show(),t=!0),n={};try{n=this.node.getBBox()}catch(i){}finally{n=n||{}}return t&&this.hide(),n},r.attr=function(t,r){var e,c,a,o,s,h,f,u,v,y;if(this.removed)return this;if(t==null){e={};for(c in this.attrs)this.attrs[i](c)&&(e[c]=this.attrs[c]);return e.gradient&&e.fill=="none"&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(r==null&&n.is(t,"string")){if(t=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(t=="transform")return this._.transform;for(a=t.split(l),o={},s=0,h=a.length;s<h;s++)t=a[s],o[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return h-1?o:o[a[0]]}if(r==null&&n.is(t,"array")){for(o={},s=0,h=t.length;s<h;s++)o[t[s]]=this.attr(t[s]);return o}r!=null?(f={},f[t]=r):t!=null&&n.is(t,"object")&&(f=t);for(u in f)p("attr."+u+"."+this.id,this,f[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[i](u)&&f[i](u)&&n.is(this.paper.customAttributes[u],"function")){v=this.paper.customAttributes[u].apply(this,[].concat(f[u])),this.attrs[u]=f[u];for(y in v)v[i](y)&&(f[y]=v[y])}return g(this,f),this},r.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&n._tofront(this,t),this},r.toBack=function(){var t,i;return this.removed?this:(t=this.node.parentNode,t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper),i=this.paper,this)},r.insertAfter=function(t){if(this.removed)return this;var i=t.node||t[t.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this},r.insertBefore=function(t){if(this.removed)return this;var i=t.node||t[0].node;return i.parentNode.insertBefore(this.node,i),n._insertbefore(this,t,this.paper),this},r.blur=function(i){var r=this,u,f;+i!=0?(u=t("filter"),f=t("feGaussianBlur"),r.attrs.blur=i,u.id=n.createUUID(),t(f,{stdDeviation:+i||1.5}),u.appendChild(f),r.paper.defs.appendChild(u),r._blur=u,t(r.node,{filter:"url(#"+u.id+")"})):(r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter"))},n._engine.circle=function(n,i,r,u){var e=t("circle"),f;return n.canvas&&n.canvas.appendChild(e),f=new h(e,n),f.attrs={cx:i,cy:r,r:u,fill:"none",stroke:"#000"},f.type="circle",t(e,f.attrs),f},n._engine.rect=function(n,i,r,u,f,e){var s=t("rect"),o;return n.canvas&&n.canvas.appendChild(s),o=new h(s,n),o.attrs={x:i,y:r,width:u,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",stroke:"#000"},o.type="rect",t(s,o.attrs),o},n._engine.ellipse=function(n,i,r,u,f){var o=t("ellipse"),e;return n.canvas&&n.canvas.appendChild(o),e=new h(o,n),e.attrs={cx:i,cy:r,rx:u,ry:f,fill:"none",stroke:"#000"},e.type="ellipse",t(o,e.attrs),e},n._engine.image=function(n,i,r,u,f,e){var o=t("image"),s;return t(o,{x:r,y:u,width:f,height:e,preserveAspectRatio:"none"}),o.setAttributeNS(a,"href",i),n.canvas&&n.canvas.appendChild(o),s=new h(o,n),s.attrs={x:r,y:u,width:f,height:e,src:i},s.type="image",s},n._engine.text=function(i,r,u,f){var o=t("text"),e;return i.canvas&&i.canvas.appendChild(o),e=new h(o,i),e.attrs={x:r,y:u,"text-anchor":"middle",text:f,font:n._availableAttrs.font,stroke:"none",fill:"#000"},e.type="text",g(e,e.attrs),e},n._engine.setSize=function(n,t){return this.width=n||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var u=n._getContainer.apply(0,arguments),i=u&&u.container,o=u.x,s=u.y,f=u.width,e=u.height,r,h,c;if(!i)throw new Error("SVG container not found.");return r=t("svg"),h="overflow:hidden;",o=o||0,s=s||0,f=f||512,e=e||342,t(r,{height:e,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),i==1?(r.style.cssText=h+"position:absolute;left:"+o+"px;top:"+s+"px",n._g.doc.body.appendChild(r),c=1):(r.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),i=new n._Paper,i.width=f,i.height=e,i.canvas=r,i.clear(),i._left=i._top=0,c&&(i.renderfix=function(){}),i.renderfix(),i},n._engine.setViewBox=function(n,i,r,u,f){p("setViewBox",this,this._viewBox,[n,i,r,u,f]);var o=k(r/this.width,u/this.height),e=this.top,c=f?"meet":"xMinYMin",s,h;for(n==null?(this._vbSize&&(o=1),delete this._vbSize,s="0 0 "+this.width+w+this.height):(this._vbSize=o,s=n+w+i+w+r+w+u),t(this.canvas,{viewBox:s,preserveAspectRatio:c});o&&e;)h="stroke-width"in e.attrs?e.attrs["stroke-width"]:1,e.attr({"stroke-width":h}),e._.dirty=1,e._.dirtyT=1,e=e.prev;return this._viewBox=[n,i,r,u,!!f],this},n.prototype.renderfix=function(){var n=this.canvas,u=n.style,t,i,r;try{t=n.getScreenCTM()||n.createSVGMatrix()}catch(f){t=n.createSVGMatrix()}i=-t.e%1,r=-t.f%1,(i||r)&&(i&&(this._left=(this._left+i)%1,u.left=this._left+"px"),r&&(this._top=(this._top+r)%1,u.top=this._top+"px"))},n.prototype.clear=function(){n.eve("clear",this);for(var i=this.canvas;i.firstChild;)i.removeChild(i.firstChild);this.bottom=this.top=null,(this.desc=t("desc")).appendChild(n._g.doc.createTextNode("Created with Raphaël "+n.version)),i.appendChild(this.desc),i.appendChild(this.defs=t("defs"))},n.prototype.remove=function(){p("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null},nt=n.st;for(v in r)r[i](v)&&!nt[i](v)&&(nt[v]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(v))}(window.Raphael),window.Raphael.vml&&function(n){var h="hasOwnProperty",i=String,f=parseFloat,c=Math,e=c.round,k=c.max,g=c.min,p=c.abs,l="fill",a=/[, ]+/,ut=n.eve,ft=" progid:DXImageTransform.Microsoft",o=" ",u="",nt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},et=/([clmz]),?([^clmz]*)/gi,ot=/ progid:\S+Blur\([^\)]+\)/g,st=/-?[^,\s-]+/g,tt="position:absolute;left:0;top:0;width:1px;height:1px",t=21600,ht={path:1,rect:1,image:1},ct={circle:1,ellipse:1},lt=function(r){var a=/[ahqstv]/ig,v=n._pathToAbsolute,f,l,y,s,h,w,c,p;if(i(r).match(a)&&(v=n._path2curve),a=/[clmz]/g,v==n._pathToAbsolute&&!i(r).match(a))return f=i(r).replace(et,function(n,i,r){var u=[],o=i.toLowerCase()=="m",f=nt[i];return r.replace(st,function(n){o&&u.length==2&&(f+=u+nt[i=="m"?"l":"L"],u=[]),u.push(e(n*t))}),f+u});for(l=v(r),f=[],h=0,w=l.length;h<w;h++){for(y=l[h],s=l[h][0].toLowerCase(),s=="z"&&(s="x"),c=1,p=y.length;c<p;c++)s+=e(y[c]*t)+(c!=p-1?",":u);f.push(s)}return f.join(o)},it=function(t,i,r){var u=n.matrix();return u.rotate(-t,.5,.5),{dx:u.x(i,r),dy:u.y(i,r)}},w=function(n,i,r,u,f,e){var v=n._,k=n.matrix,h=v.fillpos,c=n.node,y=c.style,w=1,b="",nt,d=t/i,g=t/r,a,s;y.visibility="hidden",!i||!r||(c.coordsize=p(d)+o+p(g),y.rotation=e*(i*r<0?-1:1),e&&(a=it(e,u,f),u=a.dx,f=a.dy),i<0&&(b+="x"),r<0&&(b+=" y")&&(w=-1),y.flip=b,c.coordorigin=u*-d+o+f*-g,(h||v.fillsize)&&(s=c.getElementsByTagName(l),s=s&&s[0],c.removeChild(s),h&&(a=it(e,k.x(h[0],h[1]),k.y(h[0],h[1])),s.position=a.dx*w+o+a.dy*w),v.fillsize&&(s.size=v.fillsize[0]*p(i)+o+v.fillsize[1]*p(r)),c.appendChild(s)),y.visibility="visible")},s,d,y;n.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var rt=function(n,t,r){for(var u=i(t).toLowerCase().split("-"),o=r?"end":"start",f=u.length,s="classic",h="medium",c="medium",e;f--;)switch(u[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=u[f];break;case"wide":case"narrow":c=u[f];break;case"long":case"short":h=u[f]}e=n.node.getElementsByTagName("stroke")[0],e[o+"arrow"]=s,e[o+"arrowlength"]=h,e[o+"arrowwidth"]=c},v=function(r,c){var yt,nt,ot,ut,ft,y,si,pt,st,tt,d,dt,gt,et,ni,vt,ri,bt,hi;r.attrs=r.attrs||{};var b=r.node,v=r.attrs,it=b.style,li,ui=ht[r.type]&&(c.x!=v.x||c.y!=v.y||c.width!=v.width||c.height!=v.height||c.cx!=v.cx||c.cy!=v.cy||c.rx!=v.rx||c.ry!=v.ry||c.r!=v.r),ci=ct[r.type]&&(v.cx!=c.cx||v.cy!=c.cy||v.r!=c.r||v.rx!=c.rx||v.ry!=c.ry),p=r;for(yt in c)c[h](yt)&&(v[yt]=c[yt]);if(ui&&(v.path=n._getPath[r.type](r),r._.dirty=1),c.href&&(b.href=c.href),c.title&&(b.title=c.title),c.target&&(b.target=c.target),c.cursor&&(it.cursor=c.cursor),"blur"in c&&r.blur(c.blur),(c.path&&r.type=="path"||ui)&&(b.path=lt(~i(v.path).toLowerCase().indexOf("r")?n._pathToAbsolute(v.path):v.path),r.type=="image"&&(r._.fillpos=[v.x,v.y],r._.fillsize=[v.width,v.height],w(r,1,1,0,0,0))),"transform"in c&&r.transform(c.transform),ci){var kt=+v.cx,fi=+v.cy,ei=+v.rx||+v.r||0,oi=+v.ry||+v.r||0;b.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",e((kt-ei)*t),e((fi-oi)*t),e((kt+ei)*t),e((fi+oi)*t),e(kt*t))}if("clip-rect"in c&&(nt=i(c["clip-rect"]).split(a),nt.length==4&&(nt[2]=+nt[2]+ +nt[0],nt[3]=+nt[3]+ +nt[1],ot=b.clipRect||n._g.doc.createElement("div"),ut=ot.style,ut.clip=n.format("rect({1}px {2}px {3}px {0}px)",nt),b.clipRect||(ut.position="absolute",ut.top=0,ut.left=0,ut.width=r.paper.width+"px",ut.height=r.paper.height+"px",b.parentNode.insertBefore(ot,b),ot.appendChild(b),b.clipRect=ot)),c["clip-rect"]||b.clipRect&&(b.clipRect.style.clip="auto")),r.textpath&&(ft=r.textpath.style,c.font&&(ft.font=c.font),c["font-family"]&&(ft.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),c["font-size"]&&(ft.fontSize=c["font-size"]),c["font-weight"]&&(ft.fontWeight=c["font-weight"]),c["font-style"]&&(ft.fontStyle=c["font-style"])),"arrow-start"in c&&rt(p,c["arrow-start"]),"arrow-end"in c&&rt(p,c["arrow-end"],1),(c.opacity!=null||c["stroke-width"]!=null||c.fill!=null||c.src!=null||c.stroke!=null||c["stroke-width"]!=null||c["stroke-opacity"]!=null||c["fill-opacity"]!=null||c["stroke-dasharray"]!=null||c["stroke-miterlimit"]!=null||c["stroke-linejoin"]!=null||c["stroke-linecap"]!=null)&&(y=b.getElementsByTagName(l),si=!1,y=y&&y[0],!y&&(si=y=s(l)),r.type=="image"&&c.src&&(y.src=c.src),c.fill&&(y.on=!0),(y.on==null||c.fill=="none"||c.fill===null)&&(y.on=!1),y.on&&c.fill&&(pt=i(c.fill).match(n._ISURL),pt?(y.parentNode==b&&b.removeChild(y),y.rotate=!0,y.src=pt[1],y.type="tile",st=r.getBBox(1),y.position=st.x+o+st.y,r._.fillpos=[st.x,st.y],n._preload(pt[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})):(y.color=n.getRGB(c.fill).hex,y.src=u,y.type="solid",n.getRGB(c.fill).error&&(p.type in{circle:1,ellipse:1}||i(c.fill).charAt()!="r")&&at(p,c.fill,y)&&(v.fill="none",v.gradient=c.fill,y.rotate=!1))),("fill-opacity"in c||"opacity"in c)&&(tt=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+n.getRGB(c.fill).o+1||2)-1),tt=g(k(tt,0),1),y.opacity=tt,y.src&&(y.color="none")),b.appendChild(y),d=b.getElementsByTagName("stroke")&&b.getElementsByTagName("stroke")[0],dt=!1,d||(dt=d=s("stroke")),(c.stroke&&c.stroke!="none"||c["stroke-width"]||c["stroke-opacity"]!=null||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(d.on=!0),(c.stroke=="none"||c.stroke===null||d.on==null||c.stroke==0||c["stroke-width"]==0)&&(d.on=!1),gt=n.getRGB(c.stroke),d.on&&c.stroke&&(d.color=gt.hex),tt=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+gt.o+1||2)-1),et=(f(c["stroke-width"])||1)*.75,tt=g(k(tt,0),1),c["stroke-width"]==null&&(et=v["stroke-width"]),c["stroke-width"]&&(d.weight=et),et&&et<1&&(tt*=et)&&(d.weight=1),d.opacity=tt,c["stroke-linejoin"]&&(d.joinstyle=c["stroke-linejoin"]||"miter"),d.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(d.endcap=c["stroke-linecap"]=="butt"?"flat":c["stroke-linecap"]=="square"?"square":"round"),c["stroke-dasharray"]&&(ni={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},d.dashstyle=ni[h](c["stroke-dasharray"])?ni[c["stroke-dasharray"]]:u),dt&&b.appendChild(d)),p.type=="text"){p.paper.canvas.style.display=u;var ti=p.paper.span,ii=100,wt=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);for(it=ti.style,v.font&&(it.font=v.font),v["font-family"]&&(it.fontFamily=v["font-family"]),v["font-weight"]&&(it.fontWeight=v["font-weight"]),v["font-style"]&&(it.fontStyle=v["font-style"]),wt=f(v["font-size"]||wt&&wt[0])||10,it.fontSize=wt*ii+"px",p.textpath.string&&(ti.innerHTML=i(p.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),vt=ti.getBoundingClientRect(),p.W=v.w=(vt.right-vt.left)/ii,p.H=v.h=(vt.bottom-vt.top)/ii,p.X=v.x,p.Y=v.y+p.H/2,("x"in c||"y"in c)&&(p.path.v=n.format("m{0},{1}l{2},{1}",e(v.x*t),e(v.y*t),e(v.x*t)+1)),ri=["x","y","text","font","font-family","font-weight","font-style","font-size"],bt=0,hi=ri.length;bt<hi;bt++)if(ri[bt]in c){p._.dirty=1;break}switch(v["text-anchor"]){case"start":p.textpath.style["v-text-align"]="left",p.bbx=p.W/2;break;case"end":p.textpath.style["v-text-align"]="right",p.bbx=-p.W/2;break;default:p.textpath.style["v-text-align"]="center",p.bbx=0}p.textpath.style["v-text-kern"]=!0}},at=function(t,r,e){var l,s,a,h,w;t.attrs=t.attrs||{};var b=t.attrs,v=Math.pow,k,d,y="linear",p=".5 .5";if((t.attrs.gradient=r,r=i(r).replace(n._radial_gradient,function(n,t,i){return y="radial",t&&i&&(t=f(t),i=f(i),v(t-.5,2)+v(i-.5,2)>.25&&(i=c.sqrt(.25-v(t-.5,2))*((i>.5)*2-1)+.5),p=t+o+i),u}),r=r.split(/\s*\-\s*/),y=="linear"&&(l=r.shift(),l=-f(l),isNaN(l)))||(s=n._parseDots(r),!s))return null;if(t=t.shape||t.node,s.length){for(t.removeChild(e),e.on=!0,e.method="none",e.color=s[0].color,e.color2=s[s.length-1].color,a=[],h=0,w=s.length;h<w;h++)s[h].offset&&a.push(s[h].offset+o+s[h].color);e.colors=a.length?a.join():"0% "+e.color,y=="radial"?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=p,e.angle=0):(e.type="gradient",e.angle=(270-l)%360),t.appendChild(e)}return 1},b=function(t,i){this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},r=n.el;b.prototype=r,r.constructor=b,r.transform=function(r){var e,a,l;if(r==null)return this._.transform;e=this.paper._viewBoxShift,a=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:u,e&&(l=r=i(r).replace(/\.{3}|\u2026/g,this._.transform||u)),n._extractTransform(this,a+r);var s=this.matrix.clone(),h=this.skew,c=this.node,f,v=~i(this.attrs.fill).indexOf("-"),d=!i(this.attrs.fill).indexOf("url(");if(s.translate(-.5,-.5),d||v||this.type=="image")if(h.matrix="1 0 0 1",h.offset="0 0",f=s.split(),v&&f.noRotation||!f.isSimple){c.style.filter=s.toFilter();var y=this.getBBox(),p=this.getBBox(1),b=y.x-p.x,k=y.y-p.y;c.coordorigin=b*-t+o+k*-t,w(this,1,1,b,k,0)}else c.style.filter=u,w(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate);else c.style.filter=u,h.matrix=i(s),h.offset=s.offset();return l&&(this._.transform=l),this},r.rotate=function(n,t,r){if(this.removed)return this;if(n!=null){if(n=i(n).split(a),n.length-1&&(t=f(n[1]),r=f(n[2])),n=f(n[0]),r==null&&(t=r),t==null||r==null){var u=this.getBBox(1);t=u.x+u.width/2,r=u.y+u.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",n,t,r]])),this}},r.translate=function(n,t){return this.removed?this:(n=i(n).split(a),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=n,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",n,t]])),this)},r.scale=function(n,t,r,u){if(this.removed)return this;if(n=i(n).split(a),n.length-1&&(t=f(n[1]),r=f(n[2]),u=f(n[3]),isNaN(r)&&(r=null),isNaN(u)&&(u=null)),n=f(n[0]),t==null&&(t=n),u==null&&(r=u),r==null||u==null)var e=this.getBBox(1);return r=r==null?e.x+e.width/2:r,u=u==null?e.y+e.height/2:u,this.transform(this._.transform.concat([["s",n,t,r,u]])),this._.dirtyT=1,this},r.hide=function(){return this.removed||(this.node.style.display="none"),this},r.show=function(){return this.removed||(this.node.style.display=u),this},r._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},r.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;this.removed=!0}},r.attr=function(t,i){var f,c,y,e,o,s,r,u,p,w;if(this.removed)return this;if(t==null){f={};for(c in this.attrs)this.attrs[h](c)&&(f[c]=this.attrs[c]);return f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient,f.transform=this._.transform,f}if(i==null&&n.is(t,"string")){if(t==l&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(y=t.split(a),e={},o=0,s=y.length;o<s;o++)t=y[o],e[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return s-1?e:e[y[0]]}if(this.attrs&&i==null&&n.is(t,"array")){for(e={},o=0,s=t.length;o<s;o++)e[t[o]]=this.attr(t[o]);return e}i!=null&&(r={},r[t]=i),i==null&&n.is(t,"object")&&(r=t);for(u in r)ut("attr."+u+"."+this.id,this,r[u]);if(r){for(u in this.paper.customAttributes)if(this.paper.customAttributes[h](u)&&r[h](u)&&n.is(this.paper.customAttributes[u],"function")){p=this.paper.customAttributes[u].apply(this,[].concat(r[u])),this.attrs[u]=r[u];for(w in p)p[h](w)&&(r[w]=p[w])}r.text&&this.type=="text"&&(this.textpath.string=r.text),v(this,r)}return this},r.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},r.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)},r.insertAfter=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this)},r.insertBefore=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper),this)},r.blur=function(t){var i=this.node.runtimeStyle,r=i.filter;r=r.replace(ot,u),+t!=0?(this.attrs.blur=t,i.filter=r+o+ft+".Blur(pixelradius="+(+t||1.5)+")",i.margin=n.format("-{0}px 0 0 -{0}px",e(+t||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur)},n._engine.path=function(n,i){var f=s("shape"),r,h,e;return f.style.cssText=tt,f.coordsize=t+o+t,f.coordorigin=i.coordorigin,r=new b(f,i),h={fill:"none",stroke:"#000"},n&&(h.path=n),r.type="path",r.path=[],r.Path=u,v(r,h),i.canvas.appendChild(f),e=s("skew"),e.on=!0,f.appendChild(e),r.skew=e,r.transform(u),r},n._engine.rect=function(t,i,r,u,f,e){var h=n._rectPath(i,r,u,f,e),o=t.path(h),s=o.attrs;return o.X=s.x=i,o.Y=s.y=r,o.W=s.width=u,o.H=s.height=f,s.r=e,s.path=h,o.type="rect",o},n._engine.ellipse=function(n,t,i,r,u){var f=n.path(),e=f.attrs;return f.X=t-r,f.Y=i-u,f.W=r*2,f.H=u*2,f.type="ellipse",v(f,{cx:t,cy:i,rx:r,ry:u}),f},n._engine.circle=function(n,t,i,r){var u=n.path(),f=u.attrs;return u.X=t-r,u.Y=i-r,u.W=u.H=r*2,u.type="circle",v(u,{cx:t,cy:i,r:r}),u},n._engine.image=function(t,i,r,u,f,e){var a=n._rectPath(r,u,f,e),o=t.path(a).attr({stroke:"none"}),s=o.attrs,c=o.node,h=c.getElementsByTagName(l)[0];return s.src=i,o.X=s.x=r,o.Y=s.y=u,o.W=s.width=f,o.H=s.height=e,s.path=a,o.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=i,h.type="tile",o._.fillpos=[r,u],o._.fillsize=[f,e],c.appendChild(h),w(o,1,1,0,0,0),o},n._engine.text=function(r,f,h,c){var a=s("shape"),y=s("path"),p=s("textpath"),l,k,w;return f=f||0,h=h||0,c=c||"",y.v=n.format("m{0},{1}l{2},{1}",e(f*t),e(h*t),e(f*t)+1),y.textpathok=!0,p.string=i(c),p.on=!0,a.style.cssText=tt,a.coordsize=t+o+t,a.coordorigin="0 0",l=new b(a,r),k={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:c},l.shape=a,l.path=y,l.textpath=p,l.type="text",l.attrs.text=i(c),l.attrs.x=f,l.attrs.y=h,l.attrs.w=1,l.attrs.h=1,v(l,k),a.appendChild(p),a.appendChild(y),r.canvas.appendChild(a),w=s("skew"),w.on=!0,a.appendChild(w),l.skew=w,l.transform(u),l},n._engine.setSize=function(t,i){var r=this.canvas.style;return this.width=t,this.height=i,t==+t&&(t+="px"),i==+i&&(i+="px"),r.width=t,r.height=i,r.clip="rect(0 "+t+" "+i+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(t,i,r,u,f){n.eve("setViewBox",this,this._viewBox,[t,i,r,u,f]);var e=this.width,o=this.height,c=1/k(r/e,u/o),s,h;return f&&(s=o/u,h=e/r,r*s<e&&(t-=(e-r*s)/2/s),u*h<o&&(i-=(o-u*h)/2/h)),this._viewBox=[t,i,r,u,!!f],this._viewBoxShift={dx:-t,dy:-i,scale:c},this.forEach(function(n){n.transform("...")}),this},n._engine.initWin=function(n){var t=n.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{t.namespaces.rvml||t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),s=function(n){return t.createElement("<rvml:"+n+' class="rvml">')}}catch(i){s=function(n){return t.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var e=n._getContainer.apply(0,arguments),f=e.container,r=e.height,a,u=e.width,c=e.x,l=e.y;if(!f)throw new Error("VML container not found.");var i=new n._Paper,s=i.canvas=n._g.doc.createElement("div"),h=s.style;return c=c||0,l=l||0,u=u||512,r=r||342,i.width=u,i.height=r,u==+u&&(u+="px"),r==+r&&(r+="px"),i.coordsize=t*1e3+o+t*1e3,i.coordorigin="0 0",i.span=n._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(i.span),h.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",u,r),f==1?(n._g.doc.body.appendChild(s),h.left=c+"px",h.top=l+"px",h.position="absolute"):f.firstChild?f.insertBefore(s,f.firstChild):f.appendChild(s),i.renderfix=function(){},i},n.prototype.clear=function(){n.eve("clear",this),this.canvas.innerHTML=u,this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){n.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;return!0},d=n.st;for(y in r)r[h](y)&&!d[h](y)&&(d[y]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(y))}(window.Raphael);
/*!
 * jquery.fixedHeaderTable. The jQuery fixedHeaderTable plugin
 *
 * Copyright (c) 2011 Mark Malek
 * http://fixedheadertable.com
 *
 * Licensed under MIT
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * http://docs.jquery.com/Plugins/Authoring
 * jQuery authoring guidelines
 *
 * Launch  : October 2009
 * Version : 1.3
 * Released: May 9th, 2011
 *
 * 
 * all CSS sizing (width,height) is done in pixels (px)
 */
(function(n){n.fn.fixedHeaderTable=function(t){var f={width:"100%",height:"100%",themeClass:"fht-default",borderCollapse:!0,fixedColumns:0,fixedColumn:!1,sortable:!1,autoShow:!0,footer:!1,cloneHeadToFoot:!1,autoResize:!1,create:null},i={},u={init:function(t){return i=n.extend({},f,t),this.each(function(){var t=n(this),f=this;r._isTable(t)?(u.setup.apply(this,Array.prototype.slice.call(arguments,1)),n.isFunction(i.create)&&i.create.call(this)):n.error("Invalid table mark-up")})},setup:function(){var f=n(this),h=this,v=f.find("thead"),l=f.find("tfoot"),k=f.find("tbody"),e,o,d,c,g,nt,y=0,a,b,p,s,w;return i.originalTable=n(this).clone(),i.includePadding=r._isPaddingIncludedWithWidth(),i.scrollbarOffset=r._getScrollbarWidth(),i.themeClassName=i.themeClass,a=i.width.search("%")>-1?f.parent().width()-i.scrollbarOffset:i.width-i.scrollbarOffset,f.css({width:a}),f.closest(".fht-table-wrapper").length||(f.addClass("fht-table"),f.wrap('<div class="fht-table-wrapper"><\/div>')),e=f.closest(".fht-table-wrapper"),i.fixedColumn==!0&&i.fixedColumns<=0&&(i.fixedColumns=1),i.fixedColumns>0&&e.find(".fht-fixed-column").length==0&&(f.wrap('<div class="fht-fixed-body"><\/div>'),b=n('<div class="fht-fixed-column"><\/div>').prependTo(e),p=e.find(".fht-fixed-body")),e.css({width:i.width,height:i.height}).addClass(i.themeClassName),f.hasClass("fht-table-init")||f.wrap('<div class="fht-tbody"><\/div>'),c=f.closest(".fht-tbody"),s=r._getTableProps(f),r._setupClone(c,s.tbody),f.hasClass("fht-table-init")?o=e.find("div.fht-thead"):(o=i.fixedColumns>0?n('<div class="fht-thead"><table class="fht-table"><\/table><\/div>').prependTo(p):n('<div class="fht-thead"><table class="fht-table"><\/table><\/div>').prependTo(e),o.find("table.fht-table").addClass(i.originalTable.attr("class")),v.clone().appendTo(o.find("table"))),r._setupClone(o,s.thead),f.css({"margin-top":-o.outerHeight(!0)}),i.footer==!0&&(r._setupTableFooter(f,h,s),l.length||(l=e.find("div.fht-tfoot table")),y=l.outerHeight(!0)),w=e.height()-v.outerHeight(!0)-y-s.border,c.css({height:w}),f.addClass("fht-table-init"),typeof i.altClass!="undefined"&&u.altRows.apply(h),i.fixedColumns>0&&r._setupFixedColumn(f,h,s),i.autoShow||e.hide(),r._bindScroll(c,s),h},resize:function(){var r=n(this);return this},altRows:function(t){var r=n(this),f=this,u=typeof t!="undefined"?t:i.altClass;r.closest(".fht-table-wrapper").find("tbody tr:odd:not(:hidden)").addClass(u)},show:function(t,i,r){var f=n(this),u=this,e=f.closest(".fht-table-wrapper");return typeof t!="undefined"&&typeof t=="number"?(e.show(t,function(){n.isFunction(i)&&i.call(this)}),u):typeof t!="undefined"&&typeof t=="string"&&typeof i!="undefined"&&typeof i=="number"?(e.show(t,i,function(){n.isFunction(r)&&r.call(this)}),u):(f.closest(".fht-table-wrapper").show(),n.isFunction(t)&&t.call(this),u)},hide:function(t,i,r){var f=n(this),u=this,e=f.closest(".fht-table-wrapper");return typeof t!="undefined"&&typeof t=="number"?(e.hide(t,function(){n.isFunction(r)&&r.call(this)}),u):typeof t!="undefined"&&typeof t=="string"&&typeof i!="undefined"&&typeof i=="number"?(e.hide(t,i,function(){n.isFunction(r)&&r.call(this)}),u):(f.closest(".fht-table-wrapper").hide(),n.isFunction(r)&&r.call(this),u)},destroy:function(){var i=n(this),r=this,t=i.closest(".fht-table-wrapper");return i.insertBefore(t).removeAttr("style").append(t.find("tfoot")).removeClass("fht-table fht-table-init").find(".fht-cell").remove(),t.remove(),r}},r={_isTable:function(n){var t=n,i=t.is("table"),r=t.find("thead").length>0,u=t.find("tbody").length>0;return i&&r&&u?!0:!1},_bindScroll:function(n){var r=n,u=r.closest(".fht-table-wrapper"),f=r.siblings(".fht-thead"),e=r.siblings(".fht-tfoot");r.bind("scroll",function(){if(i.fixedColumns>0){var n=u.find(".fht-fixed-column");n.find(".fht-tbody table").css({"margin-top":-r.scrollTop()})}f.find("table").css({"margin-left":-this.scrollLeft}),(i.footer||i.cloneHeadToFoot)&&e.find("table").css({"margin-left":-this.scrollLeft})})},_fixHeightWithCss:function(n,t){i.includePadding?n.css({height:n.height()+t.border}):n.css({height:n.parent().height()+t.border})},_fixWidthWithCss:function(t,r,u){i.includePadding?t.each(function(){n(this).css({width:u==undefined?n(this).width()+r.border:u+r.border})}):t.each(function(){n(this).css({width:u==undefined?n(this).parent().width()+r.border:u+r.border})})},_setupFixedColumn:function(t,u,f){var d=t,tt=u,c=d.closest(".fht-table-wrapper"),o=c.find(".fht-fixed-body"),e=c.find(".fht-fixed-column"),b=n('<div class="fht-thead"><table class="fht-table"><thead><tr><\/tr><\/thead><\/table><\/div>'),l=n('<div class="fht-tbody"><table class="fht-table"><tbody><\/tbody><\/table><\/div>'),h=n('<div class="fht-tfoot"><table class="fht-table"><tfoot><tr><\/tr><\/tfoot><\/table><\/div>'),s,k,a,g=c.width(),nt=o.find(".fht-tbody").height()-i.scrollbarOffset,v,y,p,w;b.find("table.fht-table").addClass(i.originalTable.attr("class")),l.find("table.fht-table").addClass(i.originalTable.attr("class")),h.find("table.fht-table").addClass(i.originalTable.attr("class")),s=o.find(".fht-thead thead tr > *:lt("+i.fixedColumns+")"),a=i.fixedColumns*f.border,s.each(function(){a+=n(this).outerWidth(!0)}),r._fixHeightWithCss(s,f),r._fixWidthWithCss(s,f),v=[],s.each(function(){v.push(n(this).width())}),firstTdChildrenSelector="tbody tr > *:not(:nth-child(n+"+(i.fixedColumns+1)+"))",k=o.find(firstTdChildrenSelector).each(function(t){r._fixHeightWithCss(n(this),f),r._fixWidthWithCss(n(this),f,v[t%i.fixedColumns])}),b.appendTo(e).find("tr").append(s.clone()),l.appendTo(e).css({"margin-top":-1,height:nt+f.border}),k.each(function(t){t%i.fixedColumns==0&&(y=n("<tr><\/tr>").appendTo(l.find("tbody")),i.altClass&&n(this).parent().hasClass(i.altClass)&&y.addClass(i.altClass)),n(this).clone().appendTo(y)}),e.css({height:0,width:a}),p=e.find(".fht-tbody .fht-table").height()-e.find(".fht-tbody").height(),e.find(".fht-table").bind("mousewheel",function(t,i,r,u){if(u!=0){var f=parseInt(n(this).css("marginTop"),10)+(u>0?120:-120);return f>0&&(f=0),f<-p&&(f=-p),n(this).css("marginTop",f),o.find(".fht-tbody").scrollTop(-f).scroll(),!1}}),o.css({width:g}),(i.footer==!0||i.cloneHeadToFoot==!0)&&(w=o.find(".fht-tfoot tr > *:lt("+i.fixedColumns+")"),r._fixHeightWithCss(w,f),h.appendTo(e).find("tr").append(w.clone()),footwidth=h.find("table").innerWidth(),h.css({top:i.scrollbarOffset,width:footwidth}))},_setupTableFooter:function(t,u,f){var h=t,l=u,o=h.closest(".fht-table-wrapper"),s=h.find("tfoot"),e=o.find("div.fht-tfoot"),c;e.length||(e=i.fixedColumns>0?n('<div class="fht-tfoot"><table class="fht-table"><\/table><\/div>').appendTo(o.find(".fht-fixed-body")):n('<div class="fht-tfoot"><table class="fht-table"><\/table><\/div>').appendTo(o)),e.find("table.fht-table").addClass(i.originalTable.attr("class"));switch(!0){case!s.length&&i.cloneHeadToFoot==!0&&i.footer==!0:c=o.find("div.fht-thead"),e.empty(),c.find("table").clone().appendTo(e);break;case s.length&&i.cloneHeadToFoot==!1&&i.footer==!0:e.find("table").append(s).css({"margin-top":-f.border}),r._setupClone(e,f.tfoot)}},_getTableProps:function(t){var r={thead:{},tbody:{},tfoot:{},border:0},u=1;return i.borderCollapse==!0&&(u=2),r.border=(t.find("th:first-child").outerWidth()-t.find("th:first-child").innerWidth())/u,t.find("thead tr:first-child > *").each(function(t){r.thead[t]=n(this).width()+r.border}),t.find("tfoot tr:first-child > *").each(function(t){r.tfoot[t]=n(this).width()+r.border}),t.find("tbody tr:first-child > *").each(function(t){r.tbody[t]=n(this).width()+r.border}),r},_setupClone:function(t,r){var u=t,e=u.find("thead").length?"thead tr:first-child > *":u.find("tfoot").length?"tfoot tr:first-child > *":"tbody tr:first-child > *",f;u.find(e).each(function(t){if(f=n(this).find("div.fht-cell").length?n(this).find("div.fht-cell"):n('<div class="fht-cell"><\/div>').appendTo(n(this)),f.css({width:parseInt(r[t])}),!n(this).closest(".fht-tbody").length&&n(this).is(":last-child")&&!n(this).closest(".fht-fixed-column").length){var u=(n(this).innerWidth()-n(this).width())/2+i.scrollbarOffset;n(this).css({"padding-right":u+"px"})}})},_isPaddingIncludedWithWidth:function(){var t=n('<table class="fht-table"><tr><td style="padding: 10px; font-size: 10px;">test<\/td><\/tr><\/table>'),r,u;return t.addClass(i.originalTable.attr("class")),t.appendTo("body"),r=t.find("td").height(),t.find("td").css("height",t.find("tr").height()),u=t.find("td").height(),t.remove(),r!=u?!0:!1},_getScrollbarWidth:function(){var t=0,i,r,u;return t||(n.browser.msie?(i=n('<textarea cols="10" rows="2"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),r=n('<textarea cols="10" rows="2" style="overflow: hidden;"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),t=i.width()-r.width()+2,i.add(r).remove()):(u=n("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),t=100-u.width(),u.parent().remove())),t}};if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error('Method "'+t+'" does not exist in fixedHeaderTable plugin!');else return u.init.apply(this,arguments)}})(jQuery);(function(){function u(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n}function ci(){for(var n=0,t=arguments,r=t.length,i={};n<r;n++)i[t[n++]]=t[n];return i}function s(n,t){return parseInt(n,t||10)}function li(n){return typeof n=="string"}function bt(n){return typeof n=="object"}function vr(n){return Object.prototype.toString.call(n)==="[object Array]"}function tr(n){return typeof n=="number"}function ai(n){return d.log(n)/d.LN10}function dt(n){return d.pow(10,n)}function ir(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function i(n){return n!==f&&n!==null}function h(n,t,r){var u,f="setAttribute",e;if(li(t))i(r)?n[f](t,r):n&&n.getAttribute&&(e=n.getAttribute(t));else if(i(t)&&bt(t))for(u in t)n[f](u,t[u]);return e}function vi(n){return vr(n)?n:[n]}function n(){for(var i=arguments,n,r=i.length,t=0;t<r;t++)if(n=i[t],typeof n!="undefined"&&n!==null)return n}function y(n,t){nr&&t&&t.opacity!==f&&(t.filter="alpha(opacity="+t.opacity*100+")"),u(n.style,t)}function et(n,t,i,r,f){var e=c.createElement(n);return t&&u(e,t),f&&y(e,{padding:0,border:ft,margin:0}),i&&y(e,i),r&&r.appendChild(e),e}function gt(n,t){var i=function(){};return i.prototype=new n,u(i.prototype,t),i}function ro(n){return n=(n||0).toString(),n.indexOf(".")>-1?n.split(".")[1].length:0}function yr(n,t,i,r){var h=tt.lang,f=n,e=t===-1?ro(n):isNaN(t=g(t))?2:t,l=i===undefined?h.decimalPoint:i,c=r===undefined?h.thousandsSep:r,a=f<0?"-":"",u=String(s(f=g(+f||0).toFixed(e))),o=u.length>3?u.length%3:0;return a+(o?u.substr(0,o)+c:"")+u.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+c)+(e?l+g(f-u).toFixed(e).slice(2):"")}function bi(n,t){return new Array((t||2)+1-String(n).length).join(0)+n}function uo(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}}function yf(t,i,r,u){var e,f;for(r=n(r,1),e=t/r,i||(i=[1,2,2.5,5,10],u&&u.allowDecimals===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),f=0;f<i.length;f++)if(t=i[f],e<=(i[f]+(i[f+1]||i[f]))/2)break;return t*=r}function fo(n,t){for(var r=t||[[fe,[1,2,5,10,20,25,50,100,200,500]],[uf,[1,2,5,10,15,30]],[fu,[1,2,5,10,15,30]],[cr,[1,2,3,4,6,8,12]],[hi,[1,2]],[eu,[1,2]],[lr,[1,2,3,4,6]],[wi,null]],u=r[r.length-1],i=l[u[0]],f=u[1],o,s,e=0;e<r.length;e++)if(u=r[e],i=l[u[0]],f=u[1],r[e+1]&&(s=(i*f[f.length-1]+l[r[e+1][0]])/2,n<=s))break;return i===l[wi]&&n<5*i&&(f=[1,2,5]),i===l[wi]&&n<5*i&&(f=[1,2,5]),o=yf(n/i,f),{unitRange:i,count:o,unitName:u[0]}}function eo(t,i,r,f){var v=[],a,y={},p=tt.global.useUTC,c,e=new Date(i),o=t.unitRange,s=t.count;o>=l[uf]&&(e.setMilliseconds(0),e.setSeconds(o>=l[fu]?0:s*ht(e.getSeconds()/s))),o>=l[fu]&&e[ee](o>=l[cr]?0:s*ht(e[cf]()/s)),o>=l[cr]&&e[oe](o>=l[hi]?0:s*ht(e[lf]()/s)),o>=l[hi]&&e[vf](o>=l[lr]?1:s*ht(e[ar]()/s)),o>=l[lr]&&(e[se](o>=l[wi]?0:s*ht(e[su]()/s)),c=e[hu]()),o>=l[wi]&&(c-=c%s,e[he](c)),o===l[eu]&&e[vf](e[ar]()-e[af]()+n(f,1)),a=1,c=e[hu]();for(var h=e.getTime(),w=e[su](),b=e[ar](),k=p?0:(864e5+e.getTimezoneOffset()*6e4)%864e5;h<r;)v.push(h),o===l[wi]?h=ou(c+a*s,0):o===l[lr]?h=ou(c,w+a*s):p||o!==l[hi]&&o!==l[eu]?(h+=o*s,o<=l[cr]&&h%l[hi]===k&&(y[h]=hi)):h=ou(c,w,b+a*s*(o===l[hi]?1:7)),a++;return v.push(h),v.info=u(t,{higherRanks:y,totalRange:o*s}),v}function ce(){this.color=0,this.symbol=0}function le(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].ss_i=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.ss_i-i.ss_i:r}),i=0;i<u;i++)delete n[i].ss_i}function pr(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function rr(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function ur(n,t){var i;for(i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function wr(n){ru||(ru=et(ii)),n&&ru.appendChild(n),ru.innerHTML=""}function cu(n,t){var i="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(t)throw i;else k.console&&console.log(i)}function ti(n){return parseFloat(n.toPrecision(14))}function ki(t,i){hr=n(t,i.animation)}function ye(){var r=tt.global.useUTC,t=r?"getUTC":"get",i=r?"setUTC":"set";ou=r?Date.UTC:function(t,i,r,u,f,e){return+new Date(t,i,n(r,1),n(u,0),n(f,0),n(e,0))},cf=t+"Minutes",lf=t+"Hours",af=t+"Day",ar=t+"Date",su=t+"Month",hu=t+"FullYear",ee=i+"Minutes",oe=i+"Hours",vf=i+"Date",se=i+"Month",he=i+"FullYear"}function co(n){return tt=o(tt,n),ye(),tt}function lo(){return tt}function di(){}function gr(n,t,i){this.axis=n,this.pos=t,this.type=i||"",this.isNew=!0,i||this.addLabel()}function bf(n,t){return this.axis=n,t&&(this.options=t,this.id=t.id),this}function be(t,i,r,u,f,e){var o=t.chart.inverted;this.axis=t,this.isNegative=r,this.options=i,this.x=u,this.stack=f,this.percent=e==="percent",this.alignOptions={align:i.align||(o?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(o?"middle":r?"bottom":"top"),y:n(i.y,o?4:r?14:-6),x:n(i.x,o?r?-6:6:0)},this.textAlign=i.textAlign||(o?r?"right":"left":"center")}function kf(){this.init.apply(this,arguments)}function df(n,t){var r=t.borderWidth,i=t.style,u=s(i.padding);this.chart=n,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=n.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).hide().add(),lt||this.label.shadow(t.shadow),this.shared=t.shared}function gf(n,t){var i=lt?"":t.chart.zoomType;this.zoomX=/x/.test(i),this.zoomY=/y/.test(i),this.options=t,this.chart=n,this.init(n,t.tooltip)}function ne(n){this.init(n)}function te(t,i){var f,h=t.series,s;t.series=null,f=o(tt,t),f.series=t.series=h;var r=f.chart,u=r.margin,e=bt(u)?u:[u,u,u,u];this.optionsMarginTop=n(r.marginTop,e[0]),this.optionsMarginRight=n(r.marginRight,e[1]),this.optionsMarginBottom=n(r.marginBottom,e[2]),this.optionsMarginLeft=n(r.marginLeft,e[3]),s=r.events,this.runChartClick=s&&!!s.click,this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes,this.init(s)}var f,c=document,k=window,d=Math,r=d.round,ht=d.floor,yi=d.ceil,e=d.max,it=d.min,g=d.abs,ct=d.cos,yt=d.sin,pi=d.PI,tu=pi/180,gi=navigator.userAgent,re=k.opera,nr=/msie/i.test(gi)&&!re,or=c.documentMode===8,ku=/AppleWebKit/.test(gi),iu=/Firefox/.test(gi),oi="http://www.w3.org/2000/svg",pt=!!c.createElementNS&&!!c.createElementNS(oi,"svg").createSVGRect,io=iu&&parseInt(gi.split("Firefox/")[1],10)<4,lt=!pt&&!nr&&!!c.createElement("canvas").getContext,sr,ni=c.documentElement.ontouchstart!==f,ue={},du=0,ru,tt,uu,hr,gu,l,nf=function(){},ii="div",ri="absolute",tf="relative",rt="hidden",ui="highcharts-",ut="visible",v="px",ft="none",b="M",p="L",rf="rgba(192,192,192,"+(pt?1e-6:.002)+")",vt="",kt="hover",si="select",fe="millisecond",uf="second",fu="minute",cr="hour",hi="day",eu="week",lr="month",wi="year",ff="fill",ef="linearGradient",of="stops",sf="stroke",hf="stroke-width",ou,cf,lf,af,ar,su,hu,ee,oe,vf,se,he,wt={},br,ot,at,fr,fi,ei,dr,vu,pe,yu,we,er,nt,ke,nu,ie,pu,de,wu,ge,no,to,bu;k.Highcharts={},uu=function(t,u,f){if(!i(u)||isNaN(u))return"Invalid date";t=n(t,"%Y-%m-%d %H:%M:%S");var e=new Date(u),s,o=e[lf](),l=e[af](),a=e[ar](),h=e[su](),v=e[hu](),c=tt.lang,y=c.weekdays,p={a:y[l].substr(0,3),A:y[l],d:bi(a),e:a,b:c.shortMonths[h],B:c.months[h],m:bi(h+1),y:v.toString().substr(2,2),Y:v,H:bi(o),I:bi(o%12||12),l:o%12||12,M:bi(e[cf]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:bi(e.getSeconds()),L:bi(r(u%1e3),3)};for(s in p)t=t.replace("%"+s,p[s]);return f?t.substr(0,1).toUpperCase()+t.substr(1):t},ce.prototype={wrapColor:function(n){this.color>=n&&(this.color=0)},wrapSymbol:function(n){this.symbol>=n&&(this.symbol=0)}},l=ci(fe,1,uf,1e3,fu,6e4,cr,36e5,hi,864e5,eu,6048e5,lr,2592e6,wi,31556952e3),gu={init:function(n,t,i){t=t||"";var c=n.shift,s=t.indexOf("C")>-1,f=s?7:3,l,o,e,r=t.split(" "),u=[].concat(i),h,a,v=function(n){for(e=n.length;e--;)n[e]===b&&n.splice(e+1,0,n[e+1],n[e+2],n[e+1],n[e+2])};if(s&&(v(r),v(u)),n.isArea&&(h=r.splice(r.length-6,6),a=u.splice(u.length-6,6)),c<=u.length/f)while(c--)u=[].concat(u).splice(0,f).concat(u);if(n.shift=0,r.length)for(l=u.length;r.length<l;)o=[].concat(r).splice(r.length-f,f),s&&(o[f-6]=o[f-2],o[f-5]=o[f-1]),r=r.concat(o);return h&&(r=r.concat(h),u=u.concat(a)),[r,u]},step:function(n,t,i,r){var f=[],u=n.length,e;if(i===1)f=r;else if(u===t.length&&i<1)while(u--)e=parseFloat(n[u]),f[u]=isNaN(e)?n[u]:i*parseFloat(t[u]-e)+e;else f=t;return f}},function(n){k.HighchartsAdapter=k.HighchartsAdapter||n&&{init:function(t){var u=n.fx,e=u.step,r,i=n.Tween,o=i&&i.propHooks;n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i}}),n.each(["cur","_default","width","height"],function(n,t){var r=e,s,h;t==="cur"?r=u.prototype:t==="_default"&&i&&(r=o[t],t="set"),s=r[t],s&&(r[t]=function(i){return i=n?i:this,h=i.elem,h.attr?h.attr(i.prop,t==="cur"?f:i.now):s.apply(this,arguments)})}),r=function(n){var i=n.elem,r;n.started||(r=t.init(i,i.d,i.toD),n.start=r[0],n.end=r[1],n.started=!0),i.attr("d",t.step(n.start,n.end,n.pos,i.toD))},i?o.d={set:r}:e.d=r,this.each=Array.prototype.forEach?function(n,t){return Array.prototype.forEach.call(n,t)}:function(n,t){for(var i=0,r=n.length;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(t,i){return n(t)[i]()},grep:n.grep,map:function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},merge:function(){var t=arguments;return n.extend(!0,null,t[0],t[1],t[2],t[3])},offset:function(t){return n(t).offset()},addEvent:function(t,i,r){n(t).bind(i,r)},removeEvent:function(t,i,r){var u=c.removeEventListener?"removeEventListener":"detachEvent";c[u]&&!t[u]&&(t[u]=function(){}),n(t).unbind(i,r)},fireEvent:function(t,i,r,f){var e=n.Event(i),o="detached"+i,s;!nr&&r&&(delete r.layerX,delete r.layerY),u(e,r),t[i]&&(t[o]=t[i],t[i]=null),n.each(["preventDefault","stopPropagation"],function(n,t){var i=e[t];e[t]=function(){try{i.call(e)}catch(n){t==="preventDefault"&&(s=!0)}}}),n(t).trigger(e),t[o]&&(t[i]=t[o],t[o]=null),!f||e.isDefaultPrevented()||s||f(e)},washMouseEvent:function(n){var t=n.originalEvent||n;return t.pageX===f&&(t.pageX=n.pageX,t.pageY=n.pageY),t},animate:function(t,i,r){var u=n(t);i.d&&(t.toD=i.d,i.d=1),u.stop(),u.animate(i,r)},stop:function(t){n(t).stop()}}}(k.jQuery),br=k.HighchartsAdapter,ot=br||{},br&&br.init.call(br,gu);var lu=ot.adapterRun,oo=ot.getScript,so=ot.inArray,t=ot.each,ae=ot.grep,ho=ot.offset,kr=ot.map,o=ot.merge,w=ot.addEvent,st=ot.removeEvent,a=ot.fireEvent,ve=ot.washMouseEvent,pf=ot.animate,au=ot.stop,wf={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};tt={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:o(wf,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:ri,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:ri,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:tf,top:"1em"},style:{position:ri,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}<\/span>: <b>{point.y}<\/b><br/>',shadow:!0,shared:lt,snap:ni?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}},at=tt.plotOptions,fr=at.line,ye(),fi=function(n){function r(n){i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(n),i?t=[s(i[1]),s(i[2]),s(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n),i&&(t=[s(i[1],16),s(i[2],16),s(i[3],16),1]))}function u(i){var r;return r=t&&!isNaN(t[0])?i==="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":i==="a"?t[3]:"rgba("+t.join(",")+")":n}function f(n){if(tr(n)&&n!==0)for(var i=0;i<3;i++)t[i]+=s(n*255),t[i]<0&&(t[i]=0),t[i]>255&&(t[i]=255);return this}function e(n){return t[3]=n,this}var t=[],i;return r(n),{get:u,brighten:f,setOpacity:e}},di.prototype={init:function(n,t){var i=this;i.element=t==="span"?et(t):c.createElementNS(oi,t),i.renderer=n,i.attrSetters={}},animate:function(t,i,r){var u=n(i,hr,!0);au(this),u?(u=o(u),r&&(u.complete=r),pf(this,t,u)):(this.attr(t),r&&r())},attr:function(n,t){var o=this,r,u,w,a,d,l=o.element,v=l.nodeName.toLowerCase(),g=o.renderer,y,p,nt=o.attrSetters,b=o.shadows,tt,it,k=o;if(li(n)&&i(t)&&(r=n,n={},n[r]=t),li(n))r=n,v==="circle"?r={x:"cx",y:"cy"}[r]||r:r==="strokeWidth"&&(r="stroke-width"),k=h(l,r)||o[r]||0,r!=="d"&&r!=="visibility"&&(k=parseFloat(k));else for(r in n)if(y=!1,u=n[r],w=nt[r]&&nt[r].call(o,u,r),w!==!1){if(w!==f&&(u=w),r==="d")u&&u.join&&(u=u.join(" ")),/(NaN| {2}|^$)/.test(u)&&(u="M 0 0");else if(r==="x"&&v==="text"){for(a=0;a<l.childNodes.length;a++)d=l.childNodes[a],h(d,"x")===h(l,"x")&&h(d,"x",u);o.rotation&&h(l,"transform","rotate("+o.rotation+" "+u+" "+s(n.y||h(l,"y"))+")")}else if(r==="fill")u=g.color(u,l,r);else if(v==="circle"&&(r==="x"||r==="y"))r={x:"cx",y:"cy"}[r]||r;else if(v==="rect"&&r==="r")h(l,{rx:u,ry:u}),y=!0;else if(r==="translateX"||r==="translateY"||r==="rotation"||r==="verticalAlign")it=!0,y=!0;else if(r==="stroke")u=g.color(u,l,r);else if(r==="dashstyle"){if(r="stroke-dasharray",u=u&&u.toLowerCase(),u==="solid")u=ft;else if(u){for(u=u.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=u.length;a--;)u[a]=s(u[a])*n["stroke-width"];u=u.join(",")}}else r==="isTracker"?o[r]=u:r==="width"?u=s(u):r==="align"?(r="text-anchor",u={left:"start",center:"middle",right:"end"}[u]):r==="title"&&(p=l.getElementsByTagName("title")[0],p||(p=c.createElementNS(oi,"title"),l.appendChild(p)),p.textContent=u);if(r==="strokeWidth"&&(r="stroke-width"),ku&&r==="stroke-width"&&u===0&&(u=1e-6),o.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(tt||(o.symbolAttr(n),tt=!0),y=!0),b&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(a=b.length;a--;)h(b[a],r,r==="height"?e(u-(b[a].cutHeight||0),0):u);(r==="width"||r==="height")&&v==="rect"&&u<0&&(u=0),o[r]=u,it&&o.updateTransform(),r==="text"?(u!==o.textStr&&delete o.bBox,o.textStr=u,o.added&&g.buildText(o)):y||h(l,r,u)}return k},symbolAttr:function(i){var r=this;t(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){r[t]=n(i[t],r[t])}),r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":ft)},crisp:function(n,t,i,u,f){var e=this,s,c={},o={},h;n=n||e.strokeWidth||e.attr&&e.attr("stroke-width")||0,h=r(n)%2/2,o.x=ht(t||e.x||0)+h,o.y=ht(i||e.y||0)+h,o.width=ht((u||e.width||0)-2*h),o.height=ht((f||e.height||0)-2*h),o.strokeWidth=n;for(s in o)e[s]!==o[s]&&(e[s]=c[s]=o[s]);return c},css:function(n){var t=this,e=t.element,i=n&&n.width&&e.nodeName.toLowerCase()==="text",r,f="",o=function(n,t){return"-"+t.toLowerCase()};if(n&&n.color&&(n.fill=n.color),n=u(t.styles,n),t.styles=n,lt&&i&&delete n.width,nr&&!pt)i&&delete n.width,y(t.element,n);else{for(r in n)f+=r.replace(/([A-Z])/g,o)+":"+n[r]+";";t.attr({style:f})}return i&&t.added&&t.renderer.buildText(t),t},on:function(n,t){var i=t;return ni&&n==="click"&&(n="touchstart",i=function(n){n.preventDefault(),t()}),this.element["on"+n]=i,this},setRadialReference:function(n){return this.element.radialReference=n,this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){var n=this;return n.inverted=!0,n.updateTransform(),n},htmlCss:function(n){var t=this,r=t.element,i=n&&r.tagName==="SPAN"&&n.width;return i&&(delete n.width,t.textWidth=i,t.updateTransform()),t.styles=u(t.styles,n),y(t.element,n),t},htmlGetBBox:function(){var t=this,n=t.element,i=t.bBox;return i||(n.nodeName==="text"&&(n.style.position=ri),i=t.bBox={x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var r=this,b=r.renderer,u=r.element,k=r.translateX||0,d=r.translateY||0,st=r.x||0,ht=r.y||0,c=r.textAlign||"left",h={left:0,center:.5,right:1}[c],lt=c&&c!=="left",ut=r.shadows;if((k||d)&&(y(u,{marginLeft:k,marginTop:d}),ut&&t(ut,function(n){y(n,{marginLeft:k+1,marginTop:d+1})})),r.inverted&&t(u.childNodes,function(n){b.invertChild(n,u)}),u.tagName==="SPAN"){var l,g,f=r.rotation,nt,tt=0,e=1,o=0,it,rt=s(r.textWidth),a=r.xCorr||0,p=r.yCorr||0,et=[f,c,u.innerHTML,r.textWidth].join(","),w={},ot;et!==r.cTT&&(i(f)&&(b.isSVG?(ot=nr?"-ms-transform":ku?"-webkit-transform":iu?"MozTransform":re?"-o-transform":"",w[ot]=w.transform="rotate("+f+"deg)"):(tt=f*tu,e=ct(tt),o=yt(tt),w.filter=f?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-o,", M21=",o,", M22=",e,", sizingMethod='auto expand')"].join(""):ft),y(u,w)),l=n(r.elemWidth,u.offsetWidth),g=n(r.elemHeight,u.offsetHeight),l>rt&&/[ \-]/.test(u.innerText)&&(y(u,{width:rt+v,display:"block",whiteSpace:"normal"}),l=rt),nt=b.fontMetrics(u.style.fontSize).b,a=e<0&&-l,p=o<0&&-g,it=e*o<0,a+=o*nt*(it?1-h:h),p-=e*nt*(f?it?h:1-h:1),lt&&(a-=l*h*(e<0?-1:1),f&&(p-=g*h*(o<0?-1:1)),y(u,{textAlign:c})),r.xCorr=a,r.yCorr=p),y(u,{left:st+a+v,top:ht+p+v}),r.cTT=et}},updateTransform:function(){var n=this,i=n.translateX||0,r=n.translateY||0,u=n.inverted,f=n.rotation,t=[];u&&(i+=n.attr("width"),r+=n.attr("height")),(i||r)&&t.push("translate("+i+","+r+")"),u?t.push("rotate(90) scale(-1,1)"):f&&t.push("rotate("+f+" "+(n.x||0)+" "+(n.y||0)+")"),t.length&&h(n.element,"transform",t.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(t,i,u){var f=this;t?(f.alignOptions=t,f.alignByTranslate=i,u||f.renderer.alignedObjects.push(f)):(t=f.alignOptions,i=f.alignByTranslate),u=n(u,f.renderer);var o=t.align,s=t.verticalAlign,h=(u.x||0)+(t.x||0),c=(u.y||0)+(t.y||0),e={};return(o==="right"||o==="center")&&(h+=(u.width-(t.width||0))/{right:1,center:2}[o]),e[i?"translateX":"x"]=r(h),(s==="bottom"||s==="middle")&&(c+=(u.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),e[i?"translateY":"y"]=r(c),f[f.placed?"animate":"attr"](e),f.placed=!0,f.alignAttr=e,f},getBBox:function(){var t=this,n=t.bBox,o=t.renderer,e,r,s=t.rotation,i=t.element,h=t.styles,f=s*tu;if(!n){if(i.namespaceURI===oi||o.forExport){try{n=i.getBBox?u({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight}}catch(c){}(!n||n.width<0)&&(n={width:0,height:0})}else n=t.htmlGetBBox();o.isSVG&&(e=n.width,r=n.height,s&&(n.width=g(r*yt(f))+g(e*ct(f)),n.height=g(r*ct(f))+g(e*yt(f)))),nr&&h&&h.fontSize==="11px"&&r===22.700000762939453&&(n.height=14),t.bBox=n}return n},show:function(){return this.attr({visibility:ut})},hide:function(){return this.attr({visibility:rt})},add:function(n){var e=this.renderer,o=n||e,c=o.element||e.box,v=c.childNodes,r=this.element,t=h(r,"zIndex"),u,l,f,y;if(n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==undefined&&e.buildText(this),t&&(o.handleZ=!0,t=s(t)),o.handleZ)for(f=0;f<v.length;f++)if(u=v[f],l=h(u,"zIndex"),u!==r&&(s(l)>t||!i(t)&&i(l))){c.insertBefore(r,u),y=!0;break}return y||c.appendChild(r),this.added=!0,a(this,"add"),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,i=n.element||{},u=n.shadows,f,r;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,au(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(r=0;r<n.stops.length;r++)n.stops[r]=n.stops[r].destroy();n.stops=null}n.safeRemoveChild(i),u&&t(u,function(t){n.safeRemoveChild(t)}),ir(n.renderer.alignedObjects,n);for(f in n)delete n[f];return null},empty:function(){for(var n=this.element,t=n.childNodes,i=t.length;i--;)n.removeChild(t[i])},shadow:function(t,i,r){var l=[],f,u,c=this.element,o,s,a,v;if(t){for(s=n(t.width,3),a=(t.opacity||.15)/s,v=this.parentInverted?"(-1,-1)":"("+n(t.offsetX,1)+", "+n(t.offsetY,1)+")",f=1;f<=s;f++)u=c.cloneNode(0),o=s*2+1-2*f,h(u,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*f,"stroke-width":o,transform:"translate"+v,fill:ft}),r&&(h(u,"height",e(h(u,"height")-o,0)),u.cutHeight=o),i?i.element.appendChild(u):c.parentNode.insertBefore(u,c),l.push(u);this.shadows=l}return this}},ei=function(){this.init.apply(this,arguments)},ei.prototype={Element:di,init:function(n,t,i,r){var u=this,s=location,e,o,f;e=u.createElement("svg").attr({xmlns:oi,version:"1.1"}),n.appendChild(e.element),u.isSVG=!0,u.box=e.element,u.boxWrapper=e,u.alignedObjects=[],u.url=(iu||ku)&&c.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",u.defs=this.createElement("defs").add(),u.forExport=r,u.gradients={},u.setSize(t,i,!1),iu&&n.getBoundingClientRect&&(u.subPixelFix=o=function(){y(n,{left:0,top:0}),f=n.getBoundingClientRect(),y(n,{left:yi(f.left)-f.left+v,top:yi(f.top)-f.top+v})},o(),w(k,"resize",o))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this,t=n.defs;return n.box=null,n.boxWrapper=n.boxWrapper.destroy(),ur(n.gradients||{}),n.gradients=null,t&&(n.defs=t.destroy()),n.subPixelFix&&st(k,"resize",n.subPixelFix),n.alignedObjects=null,null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},buildText:function(i){function tt(n){return a[n]=u.getBBox?u.getBBox().height:i.renderer.fontMetrics(u.style.fontSize).h,r(a[n]-(a[n-1]||0))}for(var u=i.element,o=n(i.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g),v=u.childNodes,p=/style="([^"]+)"/,w=/href="([^"]+)"/,b=h(u,"x"),f=i.styles,e=f&&f.width&&s(f.width),d=f&&f.lineHeight,l,g="getComputedStyle",nt=v.length,a=[];nt--;)u.removeChild(v[nt]);e&&!i.added&&this.box.appendChild(u),o[o.length-1]===""&&o.pop(),t(o,function(n,r){var o,a=0,f;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||"),o=n.split("|||"),t(o,function(n){var it,t,rt,v,ft,ut,nt;if((n!==""||o.length===1)&&(it={},t=c.createElementNS(oi,"tspan"),p.test(n)&&(rt=n.match(p)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(t,"style",rt)),w.test(n)&&(h(t,"onclick",'location.href="'+n.match(w)[1]+'"'),y(t,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),t.appendChild(c.createTextNode(n)),a?it.dx=3:it.x=b,a||(r&&(!pt&&i.renderer.forExport&&y(t,{display:"block"}),f=k[g]&&s(k[g](l,null).getPropertyValue("line-height")),(!f||isNaN(f))&&(f=d||l.offsetHeight||tt(r)||18),h(t,"dy",f)),l=t),h(t,it),u.appendChild(t),a++,e))for(v=n.replace(/([^\^])-/g,"$1- ").split(" "),nt=[];v.length||nt.length;)delete i.bBox,ut=i.getBBox().width,ft=ut>e,ft&&v.length!==1?(t.removeChild(t.firstChild),nt.unshift(v.pop())):(v=nt,nt=[],v.length&&(t=c.createElementNS(oi,"tspan"),h(t,{dy:d||16,x:b}),rt&&h(t,"style",rt),u.appendChild(t),ut>e&&(e=ut))),v.length&&t.appendChild(c.createTextNode(v.join(" ").replace(/- /g,"-")))})})},button:function(n,t,i,r,f,e,s){var h=this.label(n,t,i),a=0,b,k,l,v,y,c="style",p={x1:0,y1:0,x2:0,y2:1};return f=o(ci(hf,1,sf,"#999",ff,ci(ef,p,of,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,c,ci("color","black")),f),l=f[c],delete f[c],e=o(f,ci(sf,"#68A",ff,ci(ef,p,of,[[0,"#FFF"],[1,"#ACF"]])),e),v=e[c],delete e[c],s=o(f,ci(sf,"#68A",ff,ci(ef,p,of,[[0,"#9BD"],[1,"#CDF"]])),s),y=s[c],delete s[c],w(h.element,"mouseenter",function(){h.attr(e).css(v)}),w(h.element,"mouseleave",function(){b=[f,e,s][a],k=[l,v,y][a],h.attr(b).css(k)}),h.setState=function(n){a=n,n?n===2&&h.attr(s).css(y):h.attr(f).css(l)},h.on("click",function(){r.call(h)}).attr(f).css(u({cursor:"default"},l))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=r(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=r(n[2])+t%2/2),n},path:function(n){var t={fill:ft};return vr(n)?t.d=n:bt(n)&&u(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){var r=bt(n)?n:{x:n,y:t,r:i};return this.createElement("circle").attr(r)},arc:function(n,t,i,r,u,f){return bt(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0})},rect:function(n,t,i,r,u,f){u=bt(n)?n.r:u;var o=this.createElement("rect").attr({rx:u,ry:u,fill:ft});return o.attr(bt(n)?n:o.crisp(f,n,t,e(i,0),e(r,0)))},setSize:function(t,i,r){var u=this,f=u.alignedObjects,e=f.length;for(u.width=t,u.height=i,u.boxWrapper[n(r,!0)?"animate":"attr"]({width:t,height:i});e--;)f[e].align()},g:function(n){var t=this.createElement("g");return i(n)?t.attr({"class":ui+n}):t},image:function(n,t,i,r,f){var o={preserveAspectRatio:ft},e;return arguments.length>1&&u(o,{x:t,y:i,width:r,height:f}),e=this.createElement("image").attr(o),e.element.setAttributeNS?e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):e.element.setAttribute("hc-svg-href",n),e},symbol:function(n,t,i,f,e,o){var s,a=this.symbols[n],v=a&&a(r(t),r(i),f,e,o),y=/^url\((.*?)\)$/,h,c,l;return v?(s=this.path(v),u(s,{symbolName:n,x:t,y:i,width:f,height:e}),o&&u(s,o)):y.test(n)&&(l=function(n,t){n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(-r(t[0]/2),-r(t[1]/2))},h=n.match(y)[1],c=ue[h],s=this.image(h).attr({x:t,y:i}),c?l(s,c):(s.attr({width:0,height:0}),et("img",{onload:function(){var n=this;l(s,ue[h]=[n.width,n.height])},src:h}))),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return[b,n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return[b,n,t,p,n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return[b,n+i/2,t,p,n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return[b,n,t,p,n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return[b,n+i/2,t,p,n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var o=u.start,f=u.r||i||r,s=u.end-1e-6,e=u.innerR,h=u.open,c=ct(o),l=yt(o),a=ct(s),v=yt(s),y=u.end-o<pi?0:1;return[b,n+f*c,t+f*l,"A",f,f,0,y,1,n+f*a,t+f*v,h?b:p,n+e*a,t+e*v,"A",e,e,0,y,0,n+e*c,t+e*l,h?"":"Z"]}},clipRect:function(n,t,i,r){var u,f=ui+du++,e=this.createElement("clipPath").attr({id:f}).add(this.defs);return u=this.rect(n,t,i,r,0).add(e),u.id=f,u.clipPath=e,u},color:function(n,r,f){var l=this,c,p=/^rgba/,s;if(n&&n.linearGradient?s="linearGradient":n&&n.radialGradient&&(s="radialGradient"),s){var e=n[s],w=l.gradients,a,v,y,o=r.radialReference;return e.id&&w[e.id]||(vr(e)&&(n[s]=e={x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&o&&!i(e.gradientUnits)&&u(e,{cx:o[0]-o[2]/2+e.cx*o[2],cy:o[1]-o[2]/2+e.cy*o[2],r:e.r*o[2],gradientUnits:"userSpaceOnUse"}),e.id=ui+du++,w[e.id]=a=l.createElement(s).attr(e).add(l.defs),a.stops=[],t(n.stops,function(n){var t;p.test(n[1])?(c=fi(n[1]),v=c.get("rgb"),y=c.get("a")):(v=n[1],y=1),t=l.createElement("stop").attr({offset:n[0],"stop-color":v,"stop-opacity":y}).add(a),a.stops.push(t)})),"url("+l.url+"#"+e.id+")"}return p.test(n)?(c=fi(n),h(r,f+"-opacity",c.get("a")),c.get("rgb")):(r.removeAttribute(f+"-opacity"),n)},text:function(t,i,u,f){var o=this,s=tt.chart.style,h=lt||!pt&&o.forExport,e;return f&&!o.forExport?o.html(t,i,u):(i=r(n(i,0)),u=r(n(u,0)),e=o.createElement("text").attr({x:i,y:u,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),h&&e.css({position:ri}),e.x=i,e.y=u,e)},html:function(n,i,f){var c=tt.chart.style,e=this.createElement("span"),o=e.attrSetters,s=e.element,l=e.renderer;return o.text=function(n){return n!==s.innerHTML&&delete this.bBox,s.innerHTML=n,!1},o.x=o.y=o.align=function(n,t){return t==="align"&&(t="textAlign"),e[t]=n,e.htmlUpdateTransform(),!1},e.attr({text:n,x:r(i),y:r(f)}).css({position:ri,whiteSpace:"nowrap",fontFamily:c.fontFamily,fontSize:c.fontSize}),e.css=e.htmlCss,l.isSVG&&(e.add=function(n){var i,f=l.box.parentNode,r,o=[];if(n){if(i=n.div,!i){for(r=n;r;)o.push(r),r=r.parentGroup;t(o.reverse(),function(n){var t;i=n.div=n.div||et(ii,{className:h(n.element,"class")},{position:ri,left:(n.translateX||0)+v,top:(n.translateY||0)+v},i||f),t=i.style,u(n.attrSetters,{translateX:function(n){t.left=n+v},translateY:function(n){t.top=n+v},visibility:function(n,i){t[i]=n}})})}}else i=f;return i.appendChild(s),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e},fontMetrics:function(n){n=s(n||11);var t=n<24?n+4:r(n*1.2),i=r(t*.8);return{h:t,b:i}},label:function(n,e,s,h,c,l,a,v,y){function pt(){var n,t=b.element.style;it=(nt===undefined||et===undefined||p.styles.textAlign)&&b.getBBox(),p.width=(nt||it.width||0)+2*g,p.height=(et||it.height||0)+2*g,ht=g+tt.fontMetrics(t&&t.fontSize).b,d||(n=v?-ht:0,p.box=d=h?tt.symbol(h,-rt*g,n,p.width,p.height):tt.rect(-rt*g,n,p.width,p.height,0,ut[hf]),d.add(p)),d.attr(o({width:p.width,height:p.height},ut)),ut=null}function at(){var u=p.styles,r=u&&u.textAlign,n=g*(1-rt),t;t=v?0:ht,i(nt)&&(r==="center"||r==="right")&&(n+={center:.5,right:1}[r]*(nt-it.width)),(n!==b.x||t!==b.y)&&b.attr({x:n,y:t}),b.x=n,b.y=t}function ft(n,t){d?d.attr(n,t):ut[n]=t}function vt(){b.add(p),p.attr({text:n,x:e,y:s}),i(c)&&p.attr({anchorX:c,anchorY:l})}var tt=this,p=tt.g(y),b=tt.text("",0,0,a).attr({zIndex:1}),d,it,rt=0,g=3,nt,et,ot,ct,lt=0,ut={},ht,k=p.attrSetters,yt;return w(p,"add",vt),k.width=function(n){return nt=n,!1},k.height=function(n){return et=n,!1},k.padding=function(n){return i(n)&&n!==g&&(g=n,at()),!1},k.align=function(n){return rt={left:0,center:.5,right:1}[n],!1},k.text=function(n,t){return b.attr(t,n),pt(),at(),!1},k[hf]=function(n,t){return lt=n%2/2,ft(t,n),!1},k.stroke=k.fill=k.r=function(n,t){return ft(t,n),!1},k.anchorX=function(n,t){return c=n,ft(t,n+lt-ot),!1},k.anchorY=function(n,t){return l=n,ft(t,n-ct),!1},k.x=function(n){return p.x=n,n-=rt*((nt||it.width)+g),ot=r(n),p.attr("translateX",ot),!1},k.y=function(n){return ct=p.y=r(n),p.attr("translateY",n),!1},yt=p.css,u(p,{css:function(n){if(n){var i={};n=o({},n),t(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(t){n[t]!==f&&(i[t]=n[t],delete n[t])}),b.css(i)}return yt.call(p,n)},getBBox:function(){return d.getBBox()},shadow:function(n){return d.shadow(n),p},destroy:function(){st(p,"add",vt),st(p.element,"mouseenter"),st(p.element,"mouseleave"),b&&(b=b.destroy()),d&&(d=d.destroy()),di.prototype.destroy.call(p)}})}},sr=ei,pt||lt||(vu={init:function(n,t){var r=this,i=["<",t,' filled="f" stroked="f"'],u=["position: ",ri,";"];(t==="shape"||t===ii)&&u.push("left:0;top:0;width:1px;height:1px;"),or&&u.push("visibility: ",t===ii?rt:ut),i.push(' style="',u.join(""),'"/>'),t&&(i=t===ii||t==="span"||t==="img"?i.join(""):n.prepVML(i),r.element=et(i)),r.renderer=n,r.attrSetters={}},add:function(n){var t=this,i=t.renderer,r=t.element,f=i.box,e=n&&n.inverted,u=n?n.element||n:f;return e&&i.invertChild(r,u),u.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),a(t,"add"),t},updateTransform:di.prototype.htmlUpdateTransform,attr:function(n,t){var s=this,u,o,c,b,l=s.element||{},p=l.style,k=l.nodeName,d=s.renderer,ut=s.symbolName,nt,y=s.shadows,a,tt=s.attrSetters,g=s,w,it;if(li(n)&&i(t)&&(u=n,n={},n[u]=t),li(n))u=n,g=u==="strokeWidth"||u==="stroke-width"?s.strokeweight:s[u];else for(u in n)if(o=n[u],a=!1,b=tt[u]&&tt[u].call(s,o,u),b!==!1&&o!==null){if(b!==f&&(o=b),ut&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(u))nt||(s.symbolAttr(n),nt=!0),a=!0;else if(u==="d"){for(o=o||[],s.d=o.join(" "),c=o.length,w=[];c--;)w[c]=tr(o[c])?r(o[c]*10)-5:o[c]==="Z"?"x":o[c];if(o=w.join(" ")||"x",l.path=o,y)for(c=y.length;c--;)y[c].path=y[c].cutOff?this.cutOffPath(o,y[c].cutOff):o;a=!0}else if(u==="visibility"){if(y)for(c=y.length;c--;)y[c].style[u]=o;k==="DIV"&&(o=o===rt?"-999em":0,u="top"),p[u]=o,a=!0}else u==="zIndex"?(o&&(p[u]=o),a=!0):u==="width"||u==="height"?(o=e(0,o),this[u]=o,s.updateClipping?(s[u]=o,s.updateClipping()):p[u]=o,a=!0):u==="x"||u==="y"?(s[u]=o,p[{x:"left",y:"top"}[u]]=o):u==="class"?l.className=o:u==="stroke"?(o=d.color(o,l,u),u="strokecolor"):u==="stroke-width"||u==="strokeWidth"?(l.stroked=o?!0:!1,u="strokeweight",s[u]=o,tr(o)&&(o+=v)):u==="dashstyle"?(it=l.getElementsByTagName("stroke")[0]||et(d.prepVML(["<stroke/>"]),null,null,l),it[u]=o||"solid",s.dashstyle=o,a=!0):u==="fill"?k==="SPAN"?p.color=o:(l.filled=o!==ft?!0:!1,o=d.color(o,l,u,s),u="fillcolor"):k==="shape"&&u==="rotation"?(s[u]=o,l.style.left=-r(yt(o*tu)+1)+v,l.style.top=r(ct(o*tu))+v):u==="translateX"||u==="translateY"||u==="rotation"?(s[u]=o,s.updateTransform(),a=!0):u==="text"&&(this.bBox=null,l.innerHTML=o,a=!0);a||(or?l[u]=o:h(l,u,o))}return g},clip:function(n){var t=this,i,u=t.element,f=u.parentNode,r;return n?(i=n.members,i.push(t),t.destroyClip=function(){ir(i,t)},f&&f.className==="highcharts-tracker"&&!or&&y(u,{visibility:rt}),r=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:or?"inherit":"rect(auto)"}),t.css(r)},css:di.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&wr(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),di.prototype.destroy.apply(this)},empty:function(){for(var r=this.element,t=r.childNodes,i=t.length,n;i--;)n=t[i],n.parentNode.removeChild(n)},on:function(n,t){return this.element["on"+n]=function(){var n=k.event;n.target=n.srcElement,t(n)},this},cutOffPath:function(n,t){var i;return n=n.split(/[ ,]/),i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=s(n[i-2])-10*t),n.join(" ")},shadow:function(t,i,r){var v=[],f,e=this.element,y=this.renderer,u,p=e.style,h,o=e.path,c,l,a,w;if(o&&typeof o.value!="string"&&(o="x"),l=o,t){for(a=n(t.width,3),w=(t.opacity||.15)/a,f=1;f<=3;f++)c=a*2+1-2*f,r&&(l=this.cutOffPath(o.value,c+.5)),h=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',l,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=et(y.prepVML(h),null,{left:s(p.left)+n(t.offsetX,1),top:s(p.top)+n(t.offsetY,1)}),r&&(u.cutOff=c+1),h=['<stroke color="',t.color||"black",'" opacity="',w*f,'"/>'],et(y.prepVML(h),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),v.push(u);this.shadows=v}return this}},vu=gt(di,vu),pe={Element:vu,isIE8:gi.indexOf("MSIE 8.0")>-1,init:function(n,t,i){var r=this,u,f;r.alignedObjects=[],u=r.createElement(ii),f=u.element,f.style.position=tf,n.appendChild(u.element),r.box=f,r.boxWrapper=u,r.setSize(t,i,!1),c.namespaces.hcv||(c.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),c.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,i,f,e){var s=this.createElement(),o=bt(n);return u(s,{members:[],left:o?n.x:n,top:o?n.y:i,width:o?n.width:f,height:o?n.height:e,getCSS:function(n){var t=n.inverted,i=this,f=i.top,e=i.left,o=e+i.width,s=f+i.height,h={clip:"rect("+r(t?e:f)+"px,"+r(t?s:o)+"px,"+r(t?o:s)+"px,"+r(t?f:e)+"px)"};return!t&&or&&n.element.nodeName!=="IMG"&&u(h,{width:o+v,height:s+v}),h},updateClipping:function(){t(s.members,function(n){n.css(s.getCSS(n))})}})},color:function(n,i,r,u){var gt=this,o,nt=/^rgba/,v,c,l=ft,g;if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var s,y,f=n.linearGradient||n.radialGradient,it,rt,ut,ot,st,ht,ct,lt,p="",h=n.stops,b,k,at=[],vt=function(){v=['<fill colors="'+at.join(",")+'" opacity="',ht,'" o:opacity2="',st,'" type="',c,'" ',p,'focus="100%" method="any" />'],et(gt.prepVML(v),null,null,i)};if(b=h[0],k=h[h.length-1],b[0]>0&&h.unshift([0,b[1]]),k[0]<1&&h.push([1,k[1]]),t(h,function(n,t){nt.test(n[1])?(o=fi(n[1]),s=o.get("rgb"),y=o.get("a")):(s=n[1],y=1),at.push(n[0]*100+"% "+s),t?(ht=y,ct=s):(st=y,lt=s)}),r==="fill")if(c==="gradient")it=f.x1||f[0]||0,rt=f.y1||f[1]||0,ut=f.x2||f[2]||0,ot=f.y2||f[3]||0,p='angle="'+(90-d.atan((ot-rt)/(ut-it))*180/pi)+'"',vt();else{var yt=f.r,pt=yt*2,wt=yt*2,bt=f.cx,kt=f.cy,a=i.radialReference,e,dt=function(){a&&(e=u.getBBox(),bt+=(a[0]-e.x)/e.width-.5,kt+=(a[1]-e.y)/e.height-.5,pt*=a[2]/e.width,wt*=a[2]/e.height),p='src="'+tt.global.VMLRadialGradientURL+'" size="'+pt+","+wt+'" origin="0.5,0.5" position="'+bt+","+kt+'" color2="'+lt+'" ',vt()};u.added?dt():w(u,"add",dt),l=ct}else l=s}else nt.test(n)&&i.tagName!=="IMG"?(o=fi(n),v=["<",r,' opacity="',o.get("a"),'"/>'],et(this.prepVML(v),null,null,i),l=o.get("rgb")):(g=i.getElementsByTagName(r),g.length&&(g[0].opacity=1),l=n);return l},prepVML:function(n){var t="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return n=n.join(""),i?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="'+t+'" />'):n.replace('style="','style="'+t)):n=n.replace("<","<hcv:"),n},text:ei.prototype.html,path:function(n){var t={coordsize:"10 10"};return vr(n)?t.d=n:bt(n)&&u(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){return this.symbol("circle").attr({x:n-i,y:t-i,width:2*i,height:2*i})},g:function(n){var t,i;return n&&(i={className:ui+n,"class":ui+n}),t=this.createElement(ii).attr(i)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},rect:function(n,t,i,r,u,f){bt(n)&&(t=n.y,i=n.width,r=n.height,f=n.strokeWidth,n=n.x);var o=this.symbol("rect");return o.r=u,o.attr(o.crisp(f,n,t,e(i,0),e(r,0)))},invertChild:function(n,t){var i=t.style;y(n,{flip:"x",left:s(i.width)-1,top:s(i.height)-1,rotation:-90})},symbols:{arc:function(n,t,i,r,u){var o=u.start,s=u.end,e=u.r||i||r,l=ct(o),a=yt(o),h=ct(s),v=yt(s),f=u.innerR,y=.08/e,p=f&&.1/f||0,c;return s-o==0?["x"]:(2*pi-s+o<y?h=-y:s-o<p&&(h=ct(o+p)),c=["wa",n-e,t-e,n+e,t+e,n+e*l,t+e*a,n+e*h,t+e*v],u.open&&!f&&c.push("e",b,n,t),c.push("at",n-f,t-f,n+f,t+f,n+f*h,t+f*v,n+f*l,t+f*a,"x","e"),c)},circle:function(n,t,i,r){return["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,r,u,f){var o=n+r,s=t+u,h,e;return i(f)&&f.r?(e=it(f.r,r,u),h=[b,n+e,t,p,o-e,t,"wa",o-2*e,t,o,t+2*e,o-e,t,o,t+e,p,o,s-e,"wa",o-2*e,s-2*e,o,s,o,s-e,o-e,s,p,n+e,s,"wa",n,s-2*e,n+2*e,s,n+e,s,n,s-e,p,n,t+e,"wa",n,t,n+2*e,t+2*e,n,t+e,n+e,t,"x","e"]):h=ei.prototype.symbols.square.apply(0,arguments),h}}},dr=function(){this.init.apply(this,arguments)},dr.prototype=o(ei.prototype,pe),sr=dr),lt&&(yu=function(){oi="http://www.w3.org/1999/xhtml"},yu.prototype.symbols={},we=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&oo(r,t),n.push(i)}}}()),sr=dr||yu||ei,gr.prototype={addLabel:function(){var f=this,n=f.axis,b=n.options,l=n.chart,k=n.horiz,s=n.categories,o=f.pos,t=b.labels,a,h=n.tickPositions,d=s&&k&&s.length&&!t.step&&!t.staggerLines&&!t.rotation&&l.plotWidth/h.length||!k&&l.plotWidth/2,g=o===h[0],nt=o===h[h.length-1],c,y,tt=s&&i(s[o])?s[o]:o,p=f.label,w=h.info,it;n.isDatetimeAxis&&w&&(it=b.dateTimeLabelFormats[w.higherRanks[o]||w.unitName]),f.isFirst=g,f.isLast=nt,a=n.labelFormatter.call({axis:n,chart:l,isFirst:g,isLast:nt,dateTimeLabelFormat:it,value:n.isLog?ti(dt(tt)):tt}),c=d&&{width:e(1,r(d-2*(t.padding||10)))+v},c=u(c,t.style),i(p)?p&&p.attr({text:a}).css(c):(y={align:t.align},tr(t.rotation)&&(y.rotation=t.rotation),f.label=i(a)&&t.enabled?l.renderer.text(a,0,0,t.useHTML).attr(y).css(c).add(n.labelGroup):null)},getLabelSize:function(){var n=this.label,t=this.axis;return n?(this.labelBBox=n.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var r=this.labelBBox,u=this.axis,f=u.options,n=f.labels,t=r.width,i=t*{left:0,center:.5,right:1}[n.align]-n.x;return[-i,t-i]},handleOverflow:function(n,t){var e=!0,u=this.axis,p=u.chart,f=this.isFirst,c=this.isLast,i=t.x,l=u.reversed,w=u.tickPositions;if(f||c){var a=this.getLabelSides(),o=a[0],s=a[1],h=p.plotLeft,v=h+u.len,r=u.ticks[w[n+(f?1:-1)]],y=r&&r.label.xy&&r.label.xy.x+r.getLabelSides()[f?0:1];f&&!l||c&&l?i+o<h&&(i=h-o,r&&i+s>y&&(e=!1)):i+s>v&&(i=v-s,r&&i+o<y&&(e=!1)),t.x=i}return e},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,r,u,f,e,o,h){var c=this.axis,l=c.transA,a=c.reversed,v=c.staggerLines;return n=n+f.x-(e&&u?e*l*(a?-1:1):0),t=t+f.y-(e&&!u?e*l*(a?1:-1):0),i(f.y)||(t+=s(r.styles.lineHeight)*.9-r.getBBox().height/2),v&&(t+=o/(h||1)%v*16),{x:n,y:t}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine([b,n,t,p,n+(u?0:-i),t+(u?i:0)],r)},render:function(t,i){var r=this,e=r.axis,u=e.options,ht=e.chart,k=ht.renderer,l=e.horiz,h=r.type,o=r.label,ft=r.pos,d=u.labels,a=r.gridLine,g=h?h+"Grid":"grid",v=h?h+"Tick":"tick",y=u[g+"LineWidth"],ct=u[g+"LineColor"],et=u[g+"LineDashStyle"],s=u[v+"Length"],nt=u[v+"Width"]||0,lt=u[v+"Color"],at=u[v+"Position"],p,ot=r.mark,tt,it=d.step,w,b=!0,rt=e.tickmarkOffset,c=r.getPosition(l,ft,rt,i),ut=c.x,st=c.y,vt=e.staggerLines;y&&(p=e.getPlotLinePath(ft+rt,y,i),a===f&&(w={stroke:ct,"stroke-width":y},et&&(w.dashstyle=et),h||(w.zIndex=1),r.gridLine=a=y?k.path(p).attr(w).add(e.gridGroup):null),!i&&a&&p&&a[r.isNew?"attr":"animate"]({d:p})),nt&&s&&(at==="inside"&&(s=-s),e.opposite&&(s=-s),tt=r.getMarkPath(ut,st,s,nt,l,k),ot?ot.animate({d:tt}):r.mark=k.path(tt).attr({stroke:lt,"stroke-width":nt}).add(e.axisGroup)),o&&!isNaN(ut)&&(o.xy=c=r.getLabelPosition(ut,st,o,l,d,rt,t,it),r.isFirst&&!n(u.showFirstLabel,1)||r.isLast&&!n(u.showLastLabel,1)?b=!1:vt||!l||d.overflow!=="justify"||r.handleOverflow(t,c)||(b=!1),it&&t%it&&(b=!1),b?(o[r.isNew?"attr":"animate"](c),o.show(),r.isNew=!1):o.hide())},destroy:function(){ur(this,this.axis)}},bf.prototype={render:function(){var s=this,u=s.axis,p=u.horiz,ut=(u.pointRange||0)/2,r=s.options,f=r.label,a=s.label,w=r.width,v=r.to,y=r.from,c=i(y)&&i(v),b=r.value,ft=r.dashStyle,h=s.svgElem,t=[],et,ot,k,d,g,nt,st=r.color,tt=r.zIndex,rt=r.events,l,ht=u.chart.renderer;if(u.isLog&&(y=ai(y),v=ai(v),b=ai(b)),w)t=u.getPlotLinePath(b,w),l={stroke:st,"stroke-width":w},ft&&(l.dashstyle=ft);else if(c)y=e(y,u.min-ut),v=it(v,u.max+ut),t=u.getPlotBandPath(y,v,r),l={fill:st},r.borderWidth&&(l.stroke=r.borderColor,l["stroke-width"]=r.borderWidth);else return;if(i(tt)&&(l.zIndex=tt),h)t?h.animate({d:t},null,h.onGetPath):(h.hide(),h.onGetPath=function(){h.show()});else if(t&&t.length&&(s.svgElem=h=ht.path(t).attr(l).add(),rt)){et=function(n){h.on(n,function(t){rt[n].apply(s,[t])})};for(ot in rt)et(ot)}return f&&i(f.text)&&t&&t.length&&u.width>0&&u.height>0?(f=o({align:p&&c&&"center",x:p?!c&&4:10,verticalAlign:!p&&c&&"middle",y:p?c?16:10:c?6:-4,rotation:p&&!c&&90},f),a||(s.label=a=ht.text(f.text,0,0).attr({align:f.textAlign||f.align,rotation:f.rotation,zIndex:tt}).css(f.style).add()),k=[t[1],t[4],n(t[6],t[1])],d=[t[2],t[5],n(t[7],t[2])],g=pr(k),nt=pr(d),a.align(f,!1,{x:g,y:nt,width:rr(k)-g,height:rr(d)-nt}),a.show()):a&&a.hide(),s},destroy:function(){var n=this,t=n.axis;ir(t.plotLinesAndBands,n),ur(n,this.axis)}},be.prototype={destroy:function(){ur(this,this.axis)},setTotal:function(n){this.total=n,this.cum=n},render:function(n){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:rt}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:rt}).add(n)},setOffset:function(n,t){var a=this,o=a.axis,r=o.chart,u=r.inverted,c=this.isNegative,i=o.translate(this.percent?100:this.total,0,0,0,1),v=o.translate(0),f=g(i-v),l=r.xAxis[0].translate(this.x)+n,s=r.plotHeight,y={x:u?c?i:i-f:l,y:u?s-l-t:c?s-i-f:s-i,width:u?f:t,height:u?t:f},e=this.label,h;e&&(e.align(this.alignOptions,null,y),h=e.alignAttr,e.attr({visibility:this.options.crop===!1||r.isInsidePlot(h.x,h.y)?pt?"inherit":ut:rt}))}},kf.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:wf,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:wf.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(n,t){var e=t.isX,r=this,o,s;r.horiz=n.inverted?!e:e,r.isXAxis=e,r.xOrY=e?"x":"y",r.opposite=t.opposite,r.side=r.horiz?r.opposite?0:2:r.opposite?1:3,r.setOptions(t);var u=this.options,h=u.type,c=h==="datetime";r.labelFormatter=u.labels.formatter||r.defaultLabelFormatter,r.staggerLines=r.horiz&&u.labels.staggerLines,r.userOptions=t,r.minPixelPadding=0,r.chart=n,r.reversed=u.reversed,r.categories=u.categories,r.isLog=h==="logarithmic",r.isLinked=i(u.linkedTo),r.isDatetimeAxis=c,r.tickmarkOffset=u.categories&&u.tickmarkPlacement==="between"?.5:0,r.ticks={},r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=u.minRange||u.maxZoom,r.range=u.range,r.offset=u.offset||0,r.stacks={},r.max=null,r.min=null,s=r.options.events,n.axes.push(r),n[e?"xAxis":"yAxis"].push(r),r.series=[],n.inverted&&e&&r.reversed===f&&(r.reversed=!0),r.removePlotBand=r.removePlotBandOrLine,r.removePlotLine=r.removePlotBandOrLine,r.addPlotBand=r.addPlotBandOrLine,r.addPlotLine=r.addPlotBandOrLine;for(o in s)w(r,o,s[o]);r.isLog&&(r.val2lin=ai,r.lin2val=dt)},setOptions:function(n){this.options=o(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],o(tt[this.isXAxis?"xAxis":"yAxis"],n))},defaultLabelFormatter:function(){var u=this.axis,t=this.value,h=u.categories,o=this.dateTimeLabelFormat,r=tt.lang.numericSymbols,i=r&&r.length,e,n,s=u.isLog?t:u.tickInterval;if(h)n=t;else if(o)n=uu(o,t);else if(i&&s>=1e3)while(i--&&n===f)e=Math.pow(1e3,i+1),s>=e&&r[i]!==null&&(n=yr(t/e,-1)+r[i]);return n===f&&(n=t>=1e3?yr(t,0):yr(t,-1)),n},getSeriesExtremes:function(){var r=this,c=r.chart,o=r.stacks,s=[],h=[],u;r.hasVisibleSeries=!1,r.dataMin=r.dataMax=null,t(r.series,function(t){if(t.visible||!c.options.chart.ignoreHiddenSeries){var g=t.options,k,ut,ft,w,et,nt,a,ot,v,l,y=g.threshold,st,p=[],ht=0;if(r.hasVisibleSeries=!0,r.isLog&&y<=0&&(y=g.threshold=null),r.isXAxis)a=t.xData,a.length&&(r.dataMin=it(n(r.dataMin,a[0]),pr(a)),r.dataMax=e(n(r.dataMax,a[0]),rr(a)));else{var tt,rt,b,lt=t.cropped,ct=t.xAxis.getExtremes(),d,at=!!t.modifyValue;for(k=g.stacking,r.usePercentage=k==="percent",k&&(et=g.stack,w=t.type+n(et,""),nt="-"+w,t.stackKey=w,ut=s[w]||[],s[w]=ut,ft=h[nt]||[],h[nt]=ft),r.usePercentage&&(r.dataMin=0,r.dataMax=99),a=t.processedXData,ot=t.processedYData,st=ot.length,u=0;u<st;u++)if(v=a[u],l=ot[u],k&&(tt=l<y,rt=tt?ft:ut,b=tt?nt:w,l=rt[v]=i(rt[v])?ti(rt[v]+l):l,o[b]||(o[b]={}),o[b][v]||(o[b][v]=new be(r,r.options.stackLabels,tt,v,et,k)),o[b][v].setTotal(l)),l!==null&&l!==f&&(at&&(l=t.modifyValue(l)),lt||(a[u+1]||v)>=ct.min&&(a[u-1]||v)<=ct.max))if(d=l.length,d)while(d--)l[d]!==null&&(p[ht++]=l[d]);else p[ht++]=l;!r.usePercentage&&p.length&&(r.dataMin=it(n(r.dataMin,p[0]),pr(p)),r.dataMax=e(n(r.dataMax,p[0]),rr(p))),i(y)&&(r.dataMin>=y?(r.dataMin=y,r.ignoreMinPadding=!0):r.dataMax<y&&(r.dataMax=y,r.ignoreMaxPadding=!0))}}})},translate:function(n,t,i,r,u,f){var e=this,c=e.len,o=1,l=0,s=r?e.oldTransA:e.transA,a=r?e.oldMin:e.min,h,v=e.options.ordinal||e.isLog&&u;return s||(s=e.transA),i&&(o*=-1,l=c),e.reversed&&(o*=-1,l-=o*c),t?(e.reversed&&(n=c-n),h=n/s+a,v&&(h=e.lin2val(h))):(v&&(n=e.val2lin(n)),h=o*(n-a)*s+l+o*e.minPixelPadding+(f?s*e.pointRange/2:0)),h},getPlotLinePath:function(n,t,i){var u=this,f=u.chart,h=u.left,c=u.top,e,o,l,a,v=u.translate(n,null,null,i),y=i&&f.oldChartHeight||f.chartHeight,k=i&&f.oldChartWidth||f.chartWidth,s,w=u.transB;return e=l=r(v+w),o=a=r(y-v-w),isNaN(v)?s=!0:u.horiz?(o=c,a=y-u.bottom,(e<h||e>h+u.width)&&(s=!0)):(e=h,l=k-u.right,(o<c||o>c+u.height)&&(s=!0)),s?null:f.renderer.crispLine([b,e,o,p,l,a],t||0)},getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t),r=this.getPlotLinePath(n);return r&&i?r.push(i[4],i[5],i[1],i[2]):r=null,r},getLinearTickPositions:function(n,t,i){for(var u,e=ti(ht(t/n)*n),o=ti(yi(i/n)*n),f=[],r=e;r<=o;){if(f.push(r),r=ti(r+n),r===u)break;u=r}return f},getLogTickPositions:function(t,i,u,f){var e=this,y=e.options,p=e.len,s=[],w,o,h,c,b,l,a,v;if(f||(e._minorAutoInterval=null),t>=.5)t=r(t),s=e.getLinearTickPositions(t,i,u);else if(t>=.08)for(w=ht(i),o=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=w;h<u+1&&!v;h++)for(b=o.length,c=0;c<b&&!v;c++)l=ai(dt(h)*o[c]),l>i&&s.push(a),a>u&&(v=!0),a=l;else{var k=dt(i),g=dt(u),nt=y[f?"minorTickInterval":"tickInterval"],tt=nt==="auto"?null:nt,it=y.tickPixelInterval/(f?5:1),rt=f?p/e.tickPositions.length:p;t=n(tt,e._minorAutoInterval,(g-k)*it/(rt||1)),t=yf(t,null,d.pow(10,ht(d.log(t)/d.LN10))),s=kr(e.getLinearTickPositions(t,k,g),ai),f||(e._minorAutoInterval=t/5)}return f||(e.tickInterval=t),s},getMinorTickPositions:function(){var n=this,i=n.tickPositions,f=n.minorTickInterval,r=[],u,t,e;if(n.isLog)for(e=i.length,t=1;t<e;t++)r=r.concat(n.getLogTickPositions(f,i[t-1],i[t],!0));else for(u=n.min+(i[0]-n.min)%f;u<=n.max;u+=f)r.push(u);return r},adjustForMinRange:function(){var r=this,h=r.options,u=r.min,e=r.max,v,w=r.dataMax-r.dataMin>=r.minRange,l,c,y,a,b,s,p,o;r.isXAxis&&r.minRange===f&&!r.isLog&&(i(h.min)||i(h.max)?r.minRange=null:(t(r.series,function(n){for(a=n.xData,b=n.xIncrement?1:a.length-1,c=b;c>0;c--)y=a[c]-a[c-1],(l===f||y<l)&&(l=y)}),r.minRange=it(l*5,r.dataMax-r.dataMin))),e-u<r.minRange&&(o=r.minRange,v=(o-e+u)/2,s=[u-v,n(h.min,u-v)],w&&(s[2]=r.dataMin),u=rr(s),p=[u+o,n(h.max,u+o)],w&&(p[2]=r.dataMax),e=pr(p),e-u<o&&(s[0]=e-o,s[1]=n(h.min,e-o),u=rr(s))),r.min=u,r.max=e},setAxisTranslation:function(){var n=this,c=n.max-n.min,o=0,f,r=0,u=0,s=n.linkedParent,h=n.transA;n.isXAxis&&(s?(r=s.minPointOffset,u=s.pointRangePadding):t(n.series,function(n){var t=n.pointRange,h=n.options.pointPlacement,s=n.closestPointRange;o=e(o,t),r=e(r,h?0:t/2),u=e(u,h==="on"?0:t),!n.noSharedTooltip&&i(s)&&(f=i(f)?it(f,s):s)}),n.minPointOffset=r,n.pointRangePadding=u,n.pointRange=o,n.closestPointRange=f),n.oldTransA=h,n.translationSlope=n.transA=h=n.len/(c+u||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=h*r},setTickPositions:function(r){var u=this,et=u.chart,f=u.options,l=u.isLog,v=u.isDatetimeAxis,y=u.isXAxis,h=u.isLinked,p=u.options.tickPositioner,w,b=f.maxPadding,k=f.minPadding,a,s,c=f.tickInterval,g=f.minTickInterval,nt=f.tickPixelInterval,o,tt=u.categories;if(h?(u.linkedParent=et[y?"xAxis":"yAxis"][f.linkedTo],s=u.linkedParent.getExtremes(),u.min=n(s.min,s.dataMin),u.max=n(s.max,s.dataMax),f.type!==u.linkedParent.options.type&&cu(11,1)):(u.min=n(u.userMin,f.min,u.dataMin),u.max=n(u.userMax,f.max,u.dataMax)),l&&(!r&&it(u.min,n(u.dataMin,u.min))<=0&&cu(10,1),u.min=ti(ai(u.min)),u.max=ti(ai(u.max))),u.range&&(u.userMin=u.min=e(u.min,u.max-u.range),u.userMax=u.max,r&&(u.range=null)),u.adjustForMinRange(),tt||u.usePercentage||h||!i(u.min)||!i(u.max)||(a=u.max-u.min||1,!i(f.min)&&!i(u.userMin)&&k&&(u.dataMin<0||!u.ignoreMinPadding)&&(u.min-=a*k),!i(f.max)&&!i(u.userMax)&&b&&(u.dataMax>0||!u.ignoreMaxPadding)&&(u.max+=a*b)),u.tickInterval=u.min===u.max||u.min===undefined||u.max===undefined?1:h&&!c&&nt===u.linkedParent.options.tickPixelInterval?u.linkedParent.tickInterval:n(c,tt?1:(u.max-u.min)*nt/(u.len||1)),y&&!r&&t(u.series,function(n){n.processData(u.min!==u.oldMin||u.max!==u.oldMax)}),u.setAxisTranslation(r),u.beforeSetTickPositions&&u.beforeSetTickPositions(),u.postProcessTickInterval&&(u.tickInterval=u.postProcessTickInterval(u.tickInterval)),!c&&u.tickInterval<g&&(u.tickInterval=g),v||l||(w=d.pow(10,ht(d.log(u.tickInterval)/d.LN10)),c||(u.tickInterval=yf(u.tickInterval,null,w,f))),u.minorTickInterval=f.minorTickInterval==="auto"&&u.tickInterval?u.tickInterval/5:f.minorTickInterval,u.tickPositions=o=f.tickPositions||p&&p.apply(u,[u.min,u.max]),o||(o=v?(u.getNonLinearTimeTicks||eo)(fo(u.tickInterval,f.units),u.min,u.max,f.startOfWeek,u.ordinalPositions,u.closestPointRange,!0):l?u.getLogTickPositions(u.tickInterval,u.min,u.max):u.getLinearTickPositions(u.tickInterval,u.min,u.max),u.tickPositions=o),!h){var rt=o[0],ut=o[o.length-1],ft=u.minPointOffset||0;f.startOnTick?u.min=rt:u.min-ft>rt&&o.shift(),f.endOnTick?u.max=ut:u.max+ft<ut&&o.pop()}},setMaxTicks:function(){var t=this.chart,n=t.maxTicks,i=this.tickPositions,r=this.xOrY;n||(n={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&i.length>n[r]&&this.options.alignTicks!==!1&&(n[r]=i.length),t.maxTicks=n},adjustTickAmount:function(){var n=this,s=n.chart,o=n.xOrY,t=n.tickPositions,u=s.maxTicks,f,e,r;if(u&&u[o]&&!n.isDatetimeAxis&&!n.categories&&!n.isLinked&&n.options.alignTicks!==!1){if(f=n.tickAmount,e=t.length,n.tickAmount=r=u[o],e<r){while(t.length<r)t.push(ti(t[t.length-1]+n.tickInterval));n.transA*=(e-1)/(r-1),n.max=t[t.length-1]}i(f)&&r!==f&&(n.isDirty=!0)}},setScale:function(){var n=this,i=n.stacks,r,u,e,f;if(n.oldMin=n.min,n.oldMax=n.max,n.oldAxisLength=n.len,n.setAxisSize(),f=n.len!==n.oldAxisLength,t(n.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(e=!0)}),(f||e||n.isLinked||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax)&&(n.getSeriesExtremes(),n.setTickPositions(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=f||n.min!==n.oldMin||n.max!==n.oldMax)),!n.isXAxis)for(r in i)for(u in i[r])i[r][u].cum=i[r][u].total;n.setMaxTicks()},setExtremes:function(t,i,r,f,e){var o=this,s=o.chart;r=n(r,!0),e=u(e,{min:t,max:i}),a(o,"setExtremes",e,function(){o.userMin=t,o.userMax=i,o.isDirtyExtremes=!0,r&&s.redraw(f)})},zoom:function(n,t){return this.setExtremes(n,t,!1,f,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this,i=t.chart,r=t.options,u=r.offsetLeft||0,f=r.offsetRight||0;t.left=n(r.left,i.plotLeft+u),t.top=n(r.top,i.plotTop),t.width=n(r.width,i.plotWidth-u+f),t.height=n(r.height,i.plotHeight),t.bottom=i.chartHeight-t.height-t.top,t.right=i.chartWidth-t.width-t.left,t.len=e(t.horiz?t.width:t.height,0)},getExtremes:function(){var n=this,t=n.isLog;return{min:t?ti(dt(n.min)):n.min,max:t?ti(dt(n.max)):n.max,dataMin:n.dataMin,dataMax:n.dataMax,userMin:n.userMin,userMax:n.userMax}},getThreshold:function(n){var t=this,i=t.isLog,r=i?dt(t.min):t.min,u=i?dt(t.max):t.max;return r>n||n===null?n=r:u<n&&(n=u),t.translate(n,0,1,0,1)},addPlotBandOrLine:function(n){var t=new bf(this,n).render();return this.plotLinesAndBands.push(t),t},getOffset:function(){var r=this,k=r.chart,c=k.renderer,o=r.options,l=r.tickPositions,s=r.ticks,a=r.horiz,f=r.side,v,y,d=0,g,nt=0,u=o.title,tt=o.labels,h=0,p=k.axisOffset,w=[-1,1,1,-1][f],b;if(r.hasData=v=r.hasVisibleSeries||i(r.min)&&i(r.max)&&!!l,r.showAxis=y=v||n(o.showEmpty,!0),r.axisGroup||(r.gridGroup=c.g("grid").attr({zIndex:o.gridZIndex||1}).add(),r.axisGroup=c.g("axis").attr({zIndex:o.zIndex||2}).add(),r.labelGroup=c.g("axis-labels").attr({zIndex:tt.zIndex||7}).add()),v||r.isLinked)t(l,function(n){s[n]?s[n].addLabel():s[n]=new gr(r,n)}),t(l,function(n){(f===0||f===2||{1:"left",3:"right"}[f]===tt.align)&&(h=e(s[n].getLabelSize(),h))}),r.staggerLines&&(h+=(r.staggerLines-1)*16);else for(b in s)s[b].destroy(),delete s[b];u&&u.text&&(r.axisTitle||(r.axisTitle=c.text(u.text,0,0,u.useHTML).attr({zIndex:7,rotation:u.rotation||0,align:u.textAlign||{low:"left",middle:"center",high:"right"}[u.align]}).css(u.style).add(r.axisGroup),r.axisTitle.isNew=!0),y&&(d=r.axisTitle.getBBox()[a?"height":"width"],nt=n(u.margin,a?5:10),g=u.offset),r.axisTitle[y?"show":"hide"]()),r.offset=w*n(o.offset,p[f]),r.axisTitleMargin=n(g,h+nt+(f!==2&&h&&w*o.labels[a?"y":"x"])),p[f]=e(p[f],r.axisTitleMargin+d+w*r.offset)},getLinePath:function(n){var t=this.chart,u=this.opposite,f=this.offset,i=this.horiz,e=this.left+(u?this.width:0)+f,r=t.chartHeight-this.bottom-(u?this.height:0)+f;return this.lineTop=r,t.renderer.crispLine([b,i?this.left:e,i?r:this.top,p,i?t.chartWidth-this.right:e,i?r:t.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,f=this.left,e=this.top,i=this.len,t=this.options.title,r=n?f:e,u=this.opposite,o=this.offset,l=s(t.style.fontSize||12),h={low:r+(n?0:i),middle:r+i/2,high:r+(n?i:0)}[t.align],c=(n?e+this.height:f)+(n?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?l:0);return{x:n?h:c+(u?this.width:0)+o+(t.x||0),y:n?c-(u?this.height:0)+o:h+(t.y||0)}},render:function(){var n=this,c=n.chart,b=c.renderer,e=n.options,k=n.isLog,d=n.isLinked,o=n.tickPositions,l=n.axisTitle,g=n.stacks,r=n.ticks,u=n.minorTicks,s=n.alternateBands,nt=e.stackLabels,tt=e.alternateGridColor,it=n.tickmarkOffset,a=e.lineWidth,v,st=c.hasRendered,rt=st&&i(n.oldMin)&&!isNaN(n.oldMin),ht=n.hasData,ft=n.showAxis,y,p,et,w,ot,h;if((ht||d)&&(n.minorTickInterval&&!n.categories&&t(n.getMinorTickPositions(),function(t){u[t]||(u[t]=new gr(n,t,"minor")),rt&&u[t].isNew&&u[t].render(null,!0),u[t].isActive=!0,u[t].render()}),t(o.slice(1).concat([o[0]]),function(t,i){i=i===o.length-1?0:i+1,(!d||t>=n.min&&t<=n.max)&&(r[t]||(r[t]=new gr(n,t)),rt&&r[t].isNew&&r[t].render(i,!0),r[t].isActive=!0,r[t].render(i))}),tt&&t(o,function(t,i){i%2==0&&t<n.max&&(s[t]||(s[t]=new bf(n)),y=t+it,p=o[i+1]!==f?o[i+1]+it:n.max,s[t].options={from:k?dt(y):y,to:k?dt(p):p,color:tt},s[t].render(),s[t].isActive=!0)}),n._addedPlotLB||(t((e.plotLines||[]).concat(e.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),t([r,u,s],function(n){var t;for(t in n)n[t].isActive?n[t].isActive=!1:(n[t].destroy(),delete n[t])}),a&&(v=n.getLinePath(a),n.axisLine?n.axisLine.animate({d:v}):n.axisLine=b.path(v).attr({stroke:e.lineColor,"stroke-width":a,zIndex:7}).add(n.axisGroup),n.axisLine[ft?"show":"hide"]()),l&&ft&&(l[l.isNew?"attr":"animate"](n.getTitlePosition()),l.isNew=!1),nt&&nt.enabled){h=n.stackTotalGroup,h||(n.stackTotalGroup=h=b.g("stack-labels").attr({visibility:ut,zIndex:6}).add()),h.translate(c.plotLeft,c.plotTop);for(et in g){w=g[et];for(ot in w)w[ot].render(h)}}n.isDirty=!1},removePlotBandOrLine:function(n){for(var t=this.plotLinesAndBands,i=t.length;i--;)t[i].id===n&&t[i].destroy()},setTitle:function(t,i){var f=this.chart,r=this.options,u=this.axisTitle;r.title=o(r.title,t),this.axisTitle=u&&u.destroy(),this.isDirty=!0,n(i,!0)&&f.redraw()},redraw:function(){var n=this,i=n.chart;i.tracker.resetTracker&&i.tracker.resetTracker(!0),n.render(),t(n.plotLinesAndBands,function(n){n.render()}),t(n.series,function(n){n.isDirty=!0})},setCategories:function(i,r){var u=this,f=u.chart;u.categories=u.userOptions.categories=i,t(u.series,function(n){n.translate(),n.setTooltipPoints(!0)}),u.isDirty=!0,n(r,!0)&&f.redraw()},destroy:function(){var n=this,i=n.stacks,r;st(n);for(r in i)ur(i[r]),i[r]=null;t([n.ticks,n.minorTicks,n.alternateBands,n.plotLinesAndBands],function(n){ur(n)}),t(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){n[t]&&(n[t]=n[t].destroy())})}},df.prototype={destroy:function(){t(this.crosshairs,function(n){n&&n.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(n,t,i,r){var e=this,f=e.now,o=e.options.animation!==!1&&!e.isHidden;u(f,{x:o?(2*f.x+n)/3:n,y:o?(f.y+t)/2:t,anchorX:o?(2*f.anchorX+i)/3:i,anchorY:o?(f.anchorY+r)/2:r}),e.label.attr(f),o&&(g(n-f.x)>1||g(t-f.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(n,t,i,r)},32))},hide:function(){if(!this.isHidden){var n=this.chart.hoverPoints;this.label.hide(),n&&t(n,function(n){n.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){t(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(n,i){var f,u=this.chart,e=u.inverted,o=0,s=0,h;return n=vi(n),f=n[0].tooltipPos,f||(t(n,function(n){h=n.series.yAxis,o+=n.plotX,s+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!e&&h?h.top-u.plotTop:0)}),o/=n.length,s/=n.length,f=[e?u.plotWidth-s:o,this.shared&&!e&&n.length>1&&i?i.chartY-u.plotTop:e?u.plotHeight-o:s]),kr(f,r)},getPosition:function(t,i,r){var h=this.chart,l=h.plotLeft,f=h.plotTop,a=h.plotWidth,v=h.plotHeight,o=n(this.options.distance,12),y=r.plotX,c=r.plotY,s=y+l+(h.inverted?o:-t-o),u=c-i+f+15,p;return s<7&&(s=l+e(y,0)+o),s+t>l+a&&(s-=s+t-(l+a),u=c-i+f-o,p=!0),u<f+5&&(u=f+5,p&&c>=u&&c<=u+i&&(u=c+f+o)),u+i>f+v&&(u=e(f,f+v-i-o)),{x:s,y:u}},refresh:function(i,u){function ot(){var u=this,r=u.points||vi(u),n=r[0].series,i;return i=[n.tooltipHeaderFormatter(r[0].key)],t(r,function(t){n=t.series,i.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),i.push(c.footerFormat||""),i.join("")}var f=this,s=f.chart,h=f.label,c=f.options,l,v,it,b,y={},p,rt=[],st=c.formatter||ot,ft=s.hoverPoints,k,d,o=c.crosshairs,et=f.shared,w,g,e,nt,tt;if(b=f.getAnchor(i,u),l=b[0],v=b[1],!et||i.series&&i.series.noSharedTooltip?y=i.getLabelConfig():(s.hoverPoints=i,ft&&t(ft,function(n){n.setState()}),t(i,function(n){n.setState(kt),rt.push(n.getLabelConfig())}),y={x:i[0].category,y:i[0].y},y.points=rt,i=i[0]),p=st.call(y),w=i.series,it=et||!w.isCartesian||w.tooltipOutsidePlot||s.isInsidePlot(l,v),p!==!1&&it?(f.isHidden&&h.show(),h.attr({text:p}),d=c.borderColor||i.color||w.color||"#606060",h.attr({stroke:d}),k=(c.positioner||f.getPosition).call(f,h.width,h.height,{plotX:l,plotY:v}),f.move(r(k.x),r(k.y),l+s.plotLeft,v+s.plotTop),f.isHidden=!1):this.hide(),o)for(o=vi(o),e=o.length;e--;)tt=i.series[e?"yAxis":"xAxis"],o[e]&&tt&&(g=tt.getPlotLinePath(e?n(i.stackY,i.y):i.x,1),f.crosshairs[e]?f.crosshairs[e].attr({d:g,visibility:ut}):(nt={"stroke-width":o[e].width||1,stroke:o[e].color||"#C0C0C0",zIndex:o[e].zIndex||2},o[e].dashStyle&&(nt.dashstyle=o[e].dashStyle),f.crosshairs[e]=s.renderer.path(g).attr(nt).add()));a(s,"tooltipRefresh",{text:p,x:l+s.plotLeft,y:v+s.plotTop,borderColor:d})}},gf.prototype={normalizeMouseEvent:function(n){var i,e,o,t;return n=n||k.event,n.target||(n.target=n.srcElement),n=ve(n),t=n.touches?n.touches.item(0):n,this.chartPosition=i=ho(this.chart.container),t.pageX===f?(e=n.x,o=n.y):(e=t.pageX-i.left,o=t.pageY-i.top),u(n,{chartX:r(e),chartY:r(o)})},getMouseCoordinates:function(n){var r={xAxis:[],yAxis:[]},i=this.chart;return t(i.axes,function(t){var u=t.isXAxis,f=i.inverted?!u:u;r[u?"xAxis":"yAxis"].push({axis:t,value:t.translate((f?n.chartX-i.plotLeft:t.top+t.len-n.chartY)-t.minPixelPadding,!0)})}),r},getIndex:function(n){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-n.chartY:n.chartX-t.plotLeft},onmousemove:function(n){var e=this,o=e.chart,u=o.series,l=o.tooltip,t,i,a=o.hoverPoint,s=o.hoverSeries,f,r,h=o.chartWidth,c=e.getIndex(n);if(l&&e.options.tooltip.shared&&!(s&&s.noSharedTooltip)){for(i=[],f=u.length,r=0;r<f;r++)u[r].visible&&u[r].options.enableMouseTracking!==!1&&!u[r].noSharedTooltip&&u[r].tooltipPoints.length&&(t=u[r].tooltipPoints[c],t._dist=g(c-t[u[r].xAxis.tooltipPosName||"plotX"]),h=it(h,t._dist),i.push(t));for(f=i.length;f--;)i[f]._dist>h&&i.splice(f,1);i.length&&i[0].plotX!==e.hoverX&&(l.refresh(i,n),e.hoverX=i[0].plotX)}s&&s.tracker&&(t=s.tooltipPoints[c],t&&t!==a&&t.onMouseOver())},resetTracker:function(n){var e=this,i=e.chart,o=i.hoverSeries,r=i.hoverPoint,t=i.tooltip,u=t&&t.shared?i.hoverPoints:r;n=n&&t&&u,n&&vi(u)[0].plotX===f&&(n=!1),n?t.refresh(u):(r&&r.onMouseOut(),o&&o.onMouseOut(),t&&(t.hide(),t.hideCrosshairs()),e.hoverX=null)},setDOMEvents:function(){function v(){if(i.selectionMarker){var o={xAxis:[],yAxis:[]},u=i.selectionMarker.getBBox(),s=u.x-n.plotLeft,h=u.y-n.plotTop,l;f&&(t(n.axes,function(t){if(t.options.zoomEnabled!==!1){var i=t.isXAxis,c=n.inverted?!i:i,r=t.translate(c?s:n.plotHeight-h-u.height,!0,0,0,1),f=t.translate((c?s+u.width:n.plotHeight-h)-2*t.minPixelPadding,!0,0,0,1);isNaN(r)||isNaN(f)||(o[i?"xAxis":"yAxis"].push({axis:t,min:it(r,f),max:e(r,f)}),l=!0)}}),l&&a(n,"selection",o,function(t){n.zoom(t)})),i.selectionMarker=i.selectionMarker.destroy()}n&&(y(r,{cursor:"auto"}),n.cancelClick=f,n.mouseIsDown=f=!1),st(c,ni?"touchend":"mouseup",v)}var p=!0,i=this,n=i.chart,r=n.container,f,s=i.zoomX&&!n.inverted||i.zoomY&&n.inverted,l=i.zoomY&&!n.inverted||i.zoomX&&n.inverted,o;i.hideTooltipOnMouseMove=function(t){t=ve(t),i.chartPosition&&n.hoverSeries&&n.hoverSeries.isCartesian&&!n.isInsidePlot(t.pageX-i.chartPosition.left-n.plotLeft,t.pageY-i.chartPosition.top-n.plotTop)&&i.resetTracker()},i.hideTooltipOnMouseLeave=function(){i.resetTracker(),i.chartPosition=null},r.onmousedown=function(t){t=i.normalizeMouseEvent(t),!ni&&t.preventDefault&&t.preventDefault(),n.mouseIsDown=!0,n.cancelClick=!1,n.mouseDownX=i.mouseDownX=t.chartX,i.mouseDownY=t.chartY,w(c,ni?"touchend":"mouseup",v)},o=function(t){var a,o,c;if(!t||!t.touches||!(t.touches.length>1)){t=i.normalizeMouseEvent(t),ni||(t.returnValue=!1);var r=t.chartX,u=t.chartY,e=!n.isInsidePlot(r-n.plotLeft,u-n.plotTop);if(ni&&t.type==="touchstart"&&(h(t.target,"isTracker")?n.runTrackerClick||t.preventDefault():n.runChartClick||e||t.preventDefault()),e&&(r<n.plotLeft?r=n.plotLeft:r>n.plotLeft+n.plotWidth&&(r=n.plotLeft+n.plotWidth),u<n.plotTop?u=n.plotTop:u>n.plotTop+n.plotHeight&&(u=n.plotTop+n.plotHeight)),n.mouseIsDown&&t.type!=="touchstart"&&(f=Math.sqrt(Math.pow(i.mouseDownX-r,2)+Math.pow(i.mouseDownY-u,2)),f>10&&(a=n.isInsidePlot(i.mouseDownX-n.plotLeft,i.mouseDownY-n.plotTop),n.hasCartesianSeries&&(i.zoomX||i.zoomY)&&a&&(i.selectionMarker||(i.selectionMarker=n.renderer.rect(n.plotLeft,n.plotTop,s?1:n.plotWidth,l?1:n.plotHeight,0).attr({fill:i.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),i.selectionMarker&&s&&(o=r-i.mouseDownX,i.selectionMarker.attr({width:g(o),x:(o>0?0:o)+i.mouseDownX})),i.selectionMarker&&l&&(c=u-i.mouseDownY,i.selectionMarker.attr({height:g(c),y:(c>0?0:c)+i.mouseDownY})),a&&!i.selectionMarker&&i.options.chart.panning&&n.pan(r))),!e)i.onmousemove(t);return p=e,e||!n.hasCartesianSeries}},r.onmousemove=o,w(r,"mouseleave",i.hideTooltipOnMouseLeave),w(c,"mousemove",i.hideTooltipOnMouseMove),r.ontouchstart=function(n){if(i.zoomX||i.zoomY)r.onmousedown(n);o(n)},r.ontouchmove=o,r.ontouchend=function(){f&&i.resetTracker()},r.onclick=function(t){var r=n.hoverPoint,f,e;t=i.normalizeMouseEvent(t),t.cancelBubble=!0,n.cancelClick||(r&&(h(t.target,"isTracker")||h(t.target.parentNode,"isTracker"))?(f=r.plotX,e=r.plotY,u(r,{pageX:i.chartPosition.left+n.plotLeft+(n.inverted?n.plotWidth-e:f),pageY:i.chartPosition.top+n.plotTop+(n.inverted?n.plotHeight-f:e)}),a(r.series,"click",u(t,{point:r})),r.firePointEvent("click",t)):(u(t,i.getMouseCoordinates(t)),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&a(n,"click",t)))}},destroy:function(){var i=this,t=i.chart,n=t.container;t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),st(n,"mouseleave",i.hideTooltipOnMouseLeave),st(c,"mousemove",i.hideTooltipOnMouseMove),n.onclick=n.onmousedown=n.onmousemove=n.ontouchstart=n.ontouchend=n.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(n,t){n.trackerGroup||(n.trackerGroup=n.renderer.g("tracker").attr({zIndex:9}).add()),t.enabled&&(n.tooltip=new df(n,t)),this.setDOMEvents()}},ne.prototype={init:function(t){var i=this,r=i.options=t.options.legend;if(r.enabled){var u=r.itemStyle,f=n(r.padding,8),e=r.itemMarginTop||0;i.baseline=s(u.fontSize)+3+e,i.itemStyle=u,i.itemHiddenStyle=o(u,r.itemHiddenStyle),i.itemMarginTop=e,i.padding=f,i.initialItemX=f,i.initialItemY=f-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.lastLineHeight=0,i.render(),w(i.chart,"endResize",function(){i.positionCheckboxes()})}},colorizeItem:function(n,t){var o=this,v=o.options,s=n.legendItem,h=n.legendLine,c=n.legendSymbol,l=o.itemHiddenStyle.color,y=t?v.itemStyle.color:l,r=t?n.color:l,i=n.options&&n.options.marker,a={stroke:r,fill:r},u,e;if(s&&s.css({fill:y}),h&&h.attr({stroke:r}),c){if(i){i=n.convertAttribs(i);for(u in i)e=i[u],e!==f&&(a[u]=e)}c.attr(a)}},positionItem:function(n){var r=this,u=r.options,o=u.symbolPadding,s=!u.rtl,f=n._legendItemPos,t=f[0],e=f[1],i=n.checkbox;n.legendGroup&&n.legendGroup.translate(s?t:r.legendWidth-t-2*o-4,e),i&&(i.x=t,i.y=e)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&n[t].destroy()}),i&&wr(n.checkbox)},destroy:function(){var n=this,t=n.group,i=n.box;i&&(n.box=i.destroy()),t&&(n.group=t.destroy())},positionCheckboxes:function(){var n=this;t(n.allItems,function(t){var i=t.checkbox,r=n.group.alignAttr;i&&y(i,{left:r.translateX+t.legendItemWidth+i.x-20+v,top:r.translateY+i.y+3+v})})},renderItem:function(n){var t=this,h=t.chart,b=h.renderer,i=t.options,c=i.layout==="horizontal",k=i.symbolWidth,l=i.symbolPadding,d=t.itemStyle,g=t.itemHiddenStyle,nt=t.padding,tt=!i.rtl,f,it=i.width,v=i.itemMarginBottom||0,y=t.itemMarginTop,s=t.initialItemX,p,r,u=n.legendItem,rt=n.series||n,ut=rt.options,ft=ut.showCheckbox;if(!u){n.legendGroup=b.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),rt.drawLegendSymbol(t,n),n.legendItem=u=b.text(i.labelFormatter.call(n),tt?k+l:-l,t.baseline,i.useHTML).css(o(n.visible?d:g)).attr({align:tt?"left":"right",zIndex:2}).add(n.legendGroup);n.legendGroup.on("mouseover",function(){n.setState(kt),u.css(t.options.itemHoverStyle)}).on("mouseout",function(){u.css(n.visible?d:g),n.setState()}).on("click",function(t){var i="legendItemClick",r=function(){n.setVisible()};t={browserEvent:t},n.firePointEvent?n.firePointEvent(i,t,r):a(n,i,t,r)});t.colorizeItem(n,n.visible),ut&&ft&&(n.checkbox=et("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},i.itemCheckboxStyle,h.container),w(n.checkbox,"click",function(t){var i=t.target;a(n,"checkboxClick",{checked:i.checked},function(){n.select()})}))}p=u.getBBox(),r=n.legendItemWidth=i.itemWidth||k+l+p.width+nt+(ft?20:0),t.itemHeight=f=p.height,c&&t.itemX-s+r>(it||h.chartWidth-2*nt-s)&&(t.itemX=s,t.itemY+=y+t.lastLineHeight+v,t.lastLineHeight=0),t.maxItemWidth=e(t.maxItemWidth,r),t.lastItemY=y+t.itemY+v,t.lastLineHeight=e(f,t.lastLineHeight),n._legendItemPos=[t.itemX,t.itemY],c?t.itemX+=r:(t.itemY+=y+f+v,t.lastLineHeight=f),t.offsetWidth=it||e(c?t.itemX-s:r,t.offsetWidth)},render:function(){var n=this,s=n.chart,h=s.renderer,c=n.group,i,l,o,r,f=n.box,e=n.options,v=n.padding,a=e.borderWidth,y=e.backgroundColor;n.itemX=n.initialItemX,n.itemY=n.initialItemY,n.offsetWidth=0,n.lastItemY=0,c||(n.group=c=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(c),n.scrollGroup=h.g().add(n.contentGroup),n.clipRect=h.clipRect(0,0,9999,s.chartHeight),n.contentGroup.clip(n.clipRect)),i=[],t(s.series,function(n){var t=n.options;t.showInLegend&&(i=i.concat(n.legendItems||(t.legendType==="point"?n.data:n)))}),le(i,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),e.reversed&&i.reverse(),n.allItems=i,n.display=l=!!i.length,t(i,function(t){n.renderItem(t)}),o=e.width||n.offsetWidth,r=n.lastItemY+n.lastLineHeight,r=n.handleOverflow(r),(a||y)&&(o+=v,r+=v,f?o>0&&r>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,o,r)),f.isNew=!1):(n.box=f=h.rect(0,0,o,r,e.borderRadius,a||0).attr({stroke:e.borderColor,"stroke-width":a||0,fill:y||ft}).add(c).shadow(e.shadow),f.isNew=!0),f[l?"show":"hide"]()),n.legendWidth=o,n.legendHeight=r,t(i,function(t){n.positionItem(t)}),l&&c.align(u({width:o,height:r},e),!0,s.spacingBox),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var o=this,s=this.chart,f=s.renderer,p,u=this.options,l=u.y,w=u.verticalAlign==="top",r=s.spacingBox.height+(w?-l:l)-this.padding,a=u.maxHeight,h,v=this.clipRect,c=u.navigation,y=n(c.animation,!0),e=c.arrowSize||12,i=this.nav;return u.layout==="horizontal"&&(r/=2),a&&(r=it(r,a)),t>r?(this.clipHeight=h=r-20,this.pageCount=p=yi(t/h),this.currentPage=n(this.currentPage,1),this.fullHeight=t,v.attr({height:h}),i||(this.nav=i=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,e,e).on("click",function(){o.scroll(-1,y)}).add(i),this.pager=f.text("",15,10).css(c.style).add(i),this.down=f.symbol("triangle-down",0,0,e,e).on("click",function(){o.scroll(1,y)}).add(i)),o.scroll(0),t=r):i&&(v.attr({height:s.chartHeight}),i.hide(),this.scrollGroup.attr({translateY:1})),t},scroll:function(n,t){var r=this.pageCount,i=this.currentPage+n,u=this.clipHeight,e=this.options.navigation,o=e.activeColor,s=e.inactiveColor,h=this.pager,c=this.padding;i>r&&(i=r),i>0&&(t!==f&&ki(t,this.chart),this.nav.attr({translateX:c,translateY:u+7,visibility:ut}),this.up.attr({fill:i===1?s:o}).css({cursor:i===1?"default":"pointer"}),h.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?s:o}).css({cursor:i===r?"default":"pointer"}),this.scrollGroup.animate({translateY:-it(u*(i-1),this.fullHeight-u+c)+1}),h.attr({text:i+"/"+r}),this.currentPage=i)}},te.prototype={initSeries:function(n){var r=this,t=r.options.chart,u=n.type||t.type||t.defaultSeriesType,i=new wt[u];return i.init(this,n),i},addSeries:function(t,i,r){var f,u=this;return t&&(ki(r,u),i=n(i,!0),a(u,"addSeries",{options:t},function(){f=u.initSeries(t),u.isDirtyLegend=!0,i&&u.redraw()})),f},isInsidePlot:function(n,t,i){var r=i?t:n,u=i?n:t;return r>=0&&r<=this.plotWidth&&u>=0&&u<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&t(this.axes,function(n){n.adjustTickAmount()}),this.maxTicks=null},redraw:function(n){var i=this,h=i.axes,u=i.series,e=i.tracker,c=i.legend,l=i.isDirtyLegend,o,s=i.isDirtyBox,v=u.length,f=v,r,y=i.renderer,p=y.isHidden(),w=[];for(ki(n,i),p&&i.cloneRenderTo();f--;)if(r=u[f],r.isDirty&&r.options.stacking){o=!0;break}if(o)for(f=v;f--;)r=u[f],r.options.stacking&&(r.isDirty=!0);t(u,function(n){n.isDirty&&n.options.legendType==="point"&&(l=!0)}),l&&c.options.enabled&&(c.render(),i.isDirtyLegend=!1),i.hasCartesianSeries&&(i.isResizing||(i.maxTicks=null,t(h,function(n){n.setScale()})),i.adjustTickAmounts(),i.getMargins(),t(h,function(n){n.isDirtyExtremes&&(n.isDirtyExtremes=!1,w.push(function(){a(n,"afterSetExtremes",n.getExtremes())})),(n.isDirty||s||o)&&(n.redraw(),s=!0)})),s&&i.drawChartBox(),t(u,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()}),e&&e.resetTracker&&e.resetTracker(!0),y.draw(),a(i,"redraw"),p&&i.cloneRenderTo(!0),t(w,function(n){n.call()})},showLoading:function(n){var t=this,f=t.options,i=t.loadingDiv,r=f.loading;i||(t.loadingDiv=i=et(ii,{className:ui+"loading"},u(r.style,{left:t.plotLeft+v,top:t.plotTop+v,width:t.plotWidth+v,height:t.plotHeight+v,zIndex:10,display:ft}),t.container),t.loadingSpan=et("span",null,r.labelStyle,i)),t.loadingSpan.innerHTML=n||f.lang.loading,t.loadingShown||(y(i,{opacity:0,display:""}),pf(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0)},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&pf(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){y(n,{display:ft})}}),this.loadingShown=!1},get:function(n){for(var e=this,f=e.axes,i=e.series,r,u,t=0;t<f.length;t++)if(f[t].options.id===n)return f[t];for(t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<i.length;t++)for(u=i[t].points||[],r=0;r<u.length;r++)if(u[r].id===n)return u[r];return null},getAxes:function(){var r=this,u=this.options,n=u.xAxis||{},i=u.yAxis||{},f,e;n=vi(n),t(n,function(n,t){n.index=t,n.isX=!0}),i=vi(i),t(i,function(n,t){n.index=t}),f=n.concat(i),t(f,function(n){e=new kf(r,n)}),r.adjustTickAmounts()},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(ae(t.points,function(n){return n.selected}))}),n},getSelectedSeries:function(){return ae(this.series,function(n){return n.selected})},showResetZoom:function(){var n=this,i=tt.lang,t=n.options.chart.resetZoomButton,r=t.theme,u=r.states,f=t.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=n.renderer.button(i.resetZoom,null,null,function(){n.zoomOut()},r,u&&u.hover).attr({align:t.position.align,title:i.resetZoomTitle}).add().align(t.position,!1,n[f]),this.resetZoomButton.alignTo=f},zoomOut:function(){var n=this,t=n.resetZoomButton;a(n,"selection",{resetSelection:!0},function(){n.zoom()}),t&&(n.resetZoomButton=t.destroy())},zoom:function(i){var r=this,u;!i||i.resetSelection?t(r.axes,function(n){u=n.zoom()}):t(i.xAxis.concat(i.yAxis),function(n){var t=n.axis;r.tracker[t.isXAxis?"zoomX":"zoomY"]&&(u=t.zoom(n.min,n.max))}),r.resetZoomButton||r.showResetZoom(),u&&r.redraw(n(r.options.chart.animation,r.pointCount<100))},pan:function(n){var i=this,r=i.xAxis[0],f=i.mouseDownX,o=r.pointRange/2,u=r.getExtremes(),s=r.translate(f-n,!0)+o,h=r.translate(f+i.plotWidth-n,!0)-o,c=i.hoverPoints;c&&t(c,function(n){n.setState()}),r.series.length&&s>it(u.dataMin,u.min)&&h<e(u.dataMax,u.max)&&r.setExtremes(s,h,!0,!1,{trigger:"pan"}),i.mouseDownX=n,y(i.container,{cursor:"move"})},setTitle:function(n,i){var r=this,u=r.options,f,e;r.chartTitleOptions=f=o(u.title,n),r.chartSubtitleOptions=e=o(u.subtitle,i),t([["title",n,f],["subtitle",i,e]],function(n){var i=n[0],u=r[i],f=n[1],t=n[2];u&&f&&(r[i]=u=u.destroy()),t&&t.text&&!u&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":ui+i,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,r.spacingBox))})},getChartSize:function(){var n=this,t=n.options.chart,i=n.renderToClone||n.renderTo;n.containerWidth=lu(i,"width"),n.containerHeight=lu(i,"height"),n.chartWidth=t.width||n.containerWidth||600,n.chartHeight=t.height||(n.containerHeight>19?n.containerHeight:400)},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),wr(t),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),y(t,{position:ri,top:"-9999px",display:"block"}),c.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n=this,e,i=n.options.chart,r,f,t,o;n.renderTo=t=i.renderTo,o=ui+du++,li(t)&&(n.renderTo=t=c.getElementById(t)),t||cu(13,!0),t.innerHTML="",t.offsetWidth||n.cloneRenderTo(),n.getChartSize(),r=n.chartWidth,f=n.chartHeight,n.container=e=et(ii,{className:ui+"container"+(i.className?" "+i.className:""),id:o},u({position:tf,overflow:rt,width:r+v,height:f+v,textAlign:"left",lineHeight:"normal",zIndex:0},i.style),n.renderToClone||t),n.renderer=i.forExport?new ei(e,r,f,!0):new sr(e,r,f),lt&&n.renderer.create(n,e,r,f)},getMargins:function(){var r=this,s=r.options.chart,v=s.spacingTop,tt=s.spacingRight,it=s.spacingBottom,rt=s.spacingLeft,f,o=r.legend,y=r.optionsMarginTop,p=r.optionsMarginLeft,w=r.optionsMarginRight,b=r.optionsMarginBottom,h=r.chartTitleOptions,l=r.chartSubtitleOptions,u=r.options.legend,c=n(u.margin,10),k=u.x,d=u.y,g=u.align,nt=u.verticalAlign,a;r.resetMargins(),f=r.axisOffset,(r.title||r.subtitle)&&!i(r.optionsMarginTop)&&(a=e(r.title&&!h.floating&&!h.verticalAlign&&h.y||0,r.subtitle&&!l.floating&&!l.verticalAlign&&l.y||0),a&&(r.plotTop=e(r.plotTop,a+n(h.margin,15)+v))),o.display&&!u.floating&&(g==="right"?i(w)||(r.marginRight=e(r.marginRight,o.legendWidth-k+c+tt)):g==="left"?i(p)||(r.plotLeft=e(r.plotLeft,o.legendWidth+k+c+rt)):nt==="top"?i(y)||(r.plotTop=e(r.plotTop,o.legendHeight+d+c+v)):nt==="bottom"&&(i(b)||(r.marginBottom=e(r.marginBottom,o.legendHeight-d+c+it)))),r.extraBottomMargin&&(r.marginBottom+=r.extraBottomMargin),r.extraTopMargin&&(r.plotTop+=r.extraTopMargin),r.hasCartesianSeries&&t(r.axes,function(n){n.getOffset()}),i(p)||(r.plotLeft+=f[3]),i(y)||(r.plotTop+=f[0]),i(b)||(r.marginBottom+=f[2]),i(w)||(r.marginRight+=f[1]),r.setChartSize()},initReflow:function(){function u(u){var f=t.width||lu(i,"width"),e=t.height||lu(i,"height"),o=u?u.target:k;f&&e&&(o===k||o===c)&&((f!==n.containerWidth||e!==n.containerHeight)&&(clearTimeout(r),n.reflowTimeout=r=setTimeout(function(){n.container&&n.resize(f,e,!1)},100)),n.containerWidth=f,n.containerHeight=e)}var n=this,t=n.options.chart,i=n.renderTo,r;w(k,"resize",u),w(n,"destroy",function(){st(k,"resize",u)})},resize:function(n,u,f){var e=this,o,s,c,h=e.resetZoomButton,p=e.title,w=e.subtitle,l;e.isResizing+=1,l=function(){e&&a(e,"endResize",null,function(){e.isResizing-=1})},ki(f,e),e.oldChartHeight=e.chartHeight,e.oldChartWidth=e.chartWidth,i(n)&&(e.chartWidth=o=r(n)),i(u)&&(e.chartHeight=s=r(u)),y(e.container,{width:o+v,height:s+v}),e.renderer.setSize(o,s,f),e.plotWidth=o-e.plotLeft-e.marginRight,e.plotHeight=s-e.plotTop-e.marginBottom,e.maxTicks=null,t(e.axes,function(n){n.isDirty=!0,n.setScale()}),t(e.series,function(n){n.isDirty=!0}),e.isDirtyLegend=!0,e.isDirtyBox=!0,e.getMargins(),c=e.spacingBox,p&&p.align(null,null,c),w&&w.align(null,null,c),h&&h.align&&h.align(null,null,e[h.alignTo]),e.redraw(f),e.oldChartHeight=null,a(e,"resize"),hr===!1?l():setTimeout(l,hr&&hr.duration||500)},setChartSize:function(){var n=this,h=n.inverted,c=n.chartWidth,l=n.chartHeight,i=n.options.chart,a=i.spacingTop,y=i.spacingRight,p=i.spacingBottom,v=i.spacingLeft,o,s,f,e,u;n.plotLeft=o=r(n.plotLeft),n.plotTop=s=r(n.plotTop),n.plotWidth=f=r(c-o-n.marginRight),n.plotHeight=e=r(l-s-n.marginBottom),n.plotSizeX=h?e:f,n.plotSizeY=h?f:e,n.plotBorderWidth=u=i.plotBorderWidth||0,n.spacingBox={x:v,y:a,width:c-v-y,height:l-a-p},n.plotBox={x:o,y:s,width:f,height:e},n.clipBox={x:u/2,y:u/2,width:n.plotSizeX-u,height:n.plotSizeY-u},t(n.axes,function(n){n.setAxisSize(),n.setAxisTranslation()})},resetMargins:function(){var t=this,i=t.options.chart,r=i.spacingTop,u=i.spacingRight,f=i.spacingBottom,e=i.spacingLeft;t.plotTop=n(t.optionsMarginTop,r),t.marginRight=n(t.optionsMarginRight,u),t.marginBottom=n(t.optionsMarginBottom,f),t.plotLeft=n(t.optionsMarginLeft,e),t.axisOffset=[0,0,0,0]},drawChartBox:function(){var n=this,t=n.options.chart,r=n.renderer,y=n.chartWidth,p=n.chartHeight,c=n.chartBackground,w=n.plotBackground,l=n.plotBorder,b=n.plotBGImage,u=t.borderWidth||0,k=t.backgroundColor,d=t.plotBackgroundColor,g=t.plotBackgroundImage,a=t.plotBorderWidth||0,i,f,e=n.plotLeft,o=n.plotTop,s=n.plotWidth,h=n.plotHeight,nt=n.plotBox,tt=n.clipRect,v=n.clipBox;i=u+(t.shadow?8:0),(u||k)&&(c?c.animate(c.crisp(null,null,null,y-i,p-i)):(f={fill:k||ft},u&&(f.stroke=t.borderColor,f["stroke-width"]=u),n.chartBackground=r.rect(i/2,i/2,y-i,p-i,t.borderRadius,u).attr(f).add().shadow(t.shadow))),d&&(w?w.animate(nt):n.plotBackground=r.rect(e,o,s,h,0).attr({fill:d}).add().shadow(t.plotShadow)),g&&(b?b.animate(nt):n.plotBGImage=r.image(g,e,o,s,h).add()),tt?tt.animate({width:v.width,height:v.height}):n.clipRect=r.clipRect(v),a&&(l?l.animate(l.crisp(null,e,o,s,h)):n.plotBorder=r.rect(e,o,s,h,0,a).attr({stroke:t.plotBorderColor,"stroke-width":a,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var i=this,u=i.options.chart,n,f=i.options.series,e,r;t(["inverted","angular","polar"],function(t){for(n=wt[u.type||u.defaultSeriesType],r=i[t]||u[t]||n&&n.prototype[t],e=f&&f.length;!r&&e--;)n=wt[f[e].type],n&&n.prototype[t]&&(r=!0);i[t]=r})},render:function(){var n=this,r=n.axes,f=n.renderer,h=n.options,e=h.labels,i=h.credits,o;n.setTitle(),n.legend=new ne(n),t(r,function(n){n.setScale()}),n.getMargins(),n.maxTicks=null,t(r,function(n){n.setTickPositions(!0),n.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&t(r,function(n){n.render()}),n.seriesGroup||(n.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),t(n.series,function(n){n.translate(),n.setTooltipPoints(),n.render()}),e.items&&t(e.items,function(t){var i=u(e.style,t.style),r=s(i.left)+n.plotLeft,o=s(i.top)+n.plotTop+12;delete i.left,delete i.top,f.text(t.html,r,o).attr({zIndex:2}).css(i).add()}),i.enabled&&!n.credits&&(o=i.href,n.credits=f.text(i.text,0,0).on("click",function(){o&&(location.href=o)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)),n.hasRendered=!0},destroy:function(){var i=this,u=i.axes,f=i.series,r=i.container,n,e=r&&r.parentNode;for(a(i,"destroy"),st(i),n=u.length;n--;)u[n]=u[n].destroy();for(n=f.length;n--;)f[n]=f[n].destroy();t(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(n){var t=i[n];t&&t.destroy&&(i[n]=t.destroy())}),r&&(r.innerHTML="",st(r),e&&wr(r));for(n in i)delete i[n]},firstRender:function(){var n=this,i=n.options,r=n.callback,u="onreadystatechange",f="complete";if(!pt&&k==k.top&&c.readyState!==f||lt&&!k.canvg){lt?we.push(function(){n.firstRender()},i.global.canvasToolsURL):c.attachEvent(u,function(){c.detachEvent(u,n.firstRender),c.readyState===f&&n.firstRender()});return}n.getContainer(),a(n,"init"),Highcharts.RangeSelector&&i.rangeSelector.enabled&&(n.rangeSelector=new Highcharts.RangeSelector(n)),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(i.series||[],function(t){n.initSeries(t)}),Highcharts.Scroller&&(i.navigator.enabled||i.scrollbar.enabled)&&(n.scroller=new Highcharts.Scroller(n)),n.tracker=new gf(n,i),n.render(),n.renderer.draw(),r&&r.apply(n,[n]),t(n.callbacks,function(t){t.apply(n,[n])}),n.cloneRenderTo(!0),a(n,"load")},init:function(t){var i=this,u=i.options.chart,r;if(u.reflow!==!1&&w(i,"load",i.initReflow),t)for(r in t)w(i,r,t[r]);i.xAxis=[],i.yAxis=[],i.animation=lt?!1:n(u.animation,!0),i.setSize=i.resize,i.pointCount=0,i.counters=new ce,i.firstRender()}},te.prototype.callbacks=[],er=function(){},er.prototype={init:function(n,t,i){var r=this,f=n.chart.counters,u;return r.series=n,r.applyOptions(t,i),r.pointAttr={},n.options.colorByPoint&&(u=n.chart.options.colors,r.color=r.color||u[f.color++],f.wrapColor(u.length)),n.chart.pointCount++,r},applyOptions:function(n,t){var i=this,e=i.series,r=typeof n;i.config=n,r==="number"||n===null?i.y=n:r!=="undefined"&&typeof n[0]=="number"?(i.x=n[0],i.y=n[1]):r==="object"&&typeof n.length!="number"?(u(i,n),i.options=n,n.dataLabels&&(e._hasPointLabels=!0),n.marker&&(e._hasPointMarkers=!0)):r!=="undefined"&&typeof n[0]=="string"&&(i.name=n[0],i.y=n[1]),i.x===f&&(i.x=t===f?e.autoIncrement():t)},destroy:function(){var n=this,u=n.series,t=u.chart,i=t.hoverPoints,r;t.pointCount--,i&&(n.setState(),ir(i,n),i.length||(t.hoverPoints=null)),n===t.hoverPoint&&n.onMouseOut(),(n.graphic||n.dataLabel)&&(st(n),n.destroyElements()),n.legendItem&&t.legend.destroyItem(n);for(r in n)n[r]=null},destroyElements:function(){for(var t=this,r=["graphic","tracker","dataLabel","group","connector","shadowGroup"],n,i=6;i--;)n=r[i],t[n]&&(t[n]=t[n].destroy())},getLabelConfig:function(){var n=this;return{x:n.category,y:n.y,key:n.name||n.category,series:n.series,point:n,percentage:n.percentage,total:n.total||n.stackTotal}},select:function(i,r){var u=this,f=u.series,e=f.chart;i=n(i,!u.selected),u.firePointEvent(i?"select":"unselect",{accumulate:r},function(){u.selected=i,u.setState(i&&si),r||t(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=!1,n.setState(vt),n.firePointEvent("unselect"))})})},onMouseOver:function(){var n=this,u=n.series,t=u.chart,i=t.tooltip,r=t.hoverPoint;r&&r!==n&&r.onMouseOut(),n.firePointEvent("mouseOver"),i&&(!i.shared||u.noSharedTooltip)&&i.refresh(n),n.setState(kt),t.hoverPoint=n},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;t&&so(this,t)!==-1||(this.firePointEvent("mouseOut"),this.setState(),n.hoverPoint=null)},tooltipFormatter:function(t){var f=this,c=f.series,i=c.tooltipOptions,l=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),y=/[{\.}]/,o,u,s,e,h,r,a,v={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};i.valuePrefix=i.valuePrefix||i.yPrefix,i.valueDecimals=i.valueDecimals||i.yDecimals,i.valueSuffix=i.valueSuffix||i.ySuffix;for(a in l)u=l[a],li(u)&&u!==t&&(h=(" "+u).split(y),o={point:f,series:c}[h[1]],r=h[2],o===f&&v.hasOwnProperty(r)?(e=v[r]?r:"value",s=(i[e+"Prefix"]||"")+yr(f[r],n(i[e+"Decimals"],-1))+(i[e+"Suffix"]||"")):s=o[r],t=t.replace(u,s));return t},update:function(t,i,r){var f=this,u=f.series,o=f.graphic,e,s=u.data,h=s.length,c=u.chart;i=n(i,!0),f.firePointEvent("update",{options:t},function(){for(f.applyOptions(t),bt(t)&&(u.getAttribs(),o&&o.attr(f.pointAttr[u.state])),e=0;e<h;e++)if(s[e]===f){u.xData[e]=f.x,u.yData[e]=f.y,u.options.data[e]=t;break}u.isDirty=!0,u.isDirtyData=!0,i&&c.redraw(r)})},remove:function(t,i){var f=this,u=f.series,o=u.chart,r,e=u.data,s=e.length;ki(i,o),t=n(t,!0),f.firePointEvent("remove",null,function(){for(r=0;r<s;r++)if(e[r]===f){e.splice(r,1),u.options.data.splice(r,1),u.xData.splice(r,1),u.yData.splice(r,1);break}f.destroy(),u.isDirty=!0,u.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(n,t,i){var r=this,f=this.series,u=f.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents(),n==="click"&&u.allowPointSelect&&(i=function(n){r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)}),a(this,n,t,i)},importEvents:function(){if(!this.hasImportedEvents){var n=this,r=o(n.series.options.point,n.options),t=r.events,i;n.events=t;for(i in t)w(n,i,t[i]);this.hasImportedEvents=!0}},setState:function(n){var i=this,s=i.plotX,h=i.plotY,r=i.series,l=r.options.states,u=at[r.type].marker&&r.options.marker,v=u&&!u.enabled,f=u&&u.states[n],y=f&&f.enabled===!1,e=r.stateMarkerGraphic,a=r.chart,t,c=i.pointAttr;(n=n||vt,n===i.state||i.selected&&n!==si||l[n]&&l[n].enabled===!1||n&&(y||v&&!f.enabled))||(i.graphic?(t=u&&i.graphic.symbolName&&c[n].r,i.graphic.attr(o(c[n],t?{x:s-t,y:h-t,width:2*t,height:2*t}:{}))):(n&&f&&(t=f.radius,e?e.attr({x:s-t,y:h-t}):r.stateMarkerGraphic=e=a.renderer.symbol(r.symbol,s-t,h-t,2*t,2*t).attr(c[n]).add(r.markerGroup)),e&&e[n&&a.isInsidePlot(s,h)?"show":"hide"]()),i.state=n)}},nt=function(){},nt.prototype={isCartesian:!0,type:"line",pointClass:er,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(n,i){var r=this,e,f;r.chart=n,r.options=i=r.setOptions(i),r.bindAxes(),u(r,{name:i.name,state:vt,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),lt&&(i.animation=!1),f=i.events;for(e in f)w(r,e,f[e]);(f&&f.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(n.runTrackerClick=!0),r.getColor(),r.getSymbol(),r.setData(i.data,!1),r.isCartesian&&(n.hasCartesianSeries=!0),n.series.push(r),le(n.series,function(n,t){return(n.options.index||0)-(t.options.index||0)}),t(n.series,function(n,t){n.index=t,n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,r=n.options,u=n.chart,i;n.isCartesian&&t(["xAxis","yAxis"],function(e){t(u[e],function(t){i=t.options,(r[e]===i.index||r[e]===f&&i.index===0)&&(t.series.push(n),n[e]=t,t.isDirty=!0)})})},autoIncrement:function(){var t=this,r=t.options,i=t.xIncrement;return i=n(i,r.pointStart,0),t.pointInterval=n(t.pointInterval,r.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var f=this,i=-1,r=[],u,n=f.points,e=n.length;if(e)if(f.options.connectNulls){for(u=e;u--;)n[u].y===null&&n.splice(u,1);n.length&&(r=[n])}else t(n,function(t,u){t.y===null?(u>i+1&&r.push(n.slice(i+1,u)),i=u):u===e-1&&r.push(n.slice(i+1,u+1))});f.segments=r},setOptions:function(n){var f=this.chart,i=f.options,r=i.plotOptions,u=r[this.type],e=n.data,t;return n.data=null,t=o(u,r.series,n),t.data=n.data=e,this.tooltipOptions=o(i.tooltip,t.tooltip),u.marker===null&&delete t.marker,t},getColor:function(){var n=this.options,t=this.chart.options.colors,i=this.chart.counters;this.color=n.color||!n.colorByPoint&&t[i.color++]||"gray",i.wrapColor(t.length)},getSymbol:function(){var n=this,t=n.options.marker,i=n.chart,r=i.options.symbols,u=i.counters;n.symbol=t.symbol||r[u.symbol++],/^url/.test(n.symbol)&&(t.radius=0),u.wrapSymbol(r.length)},drawLegendSymbol:function(n){var t=this.options,r=t.marker,i,h=n.options,c,e=h.symbolWidth,o=this.chart.renderer,s=this.legendGroup,u=n.baseline,f;t.lineWidth&&(f={"stroke-width":t.lineWidth},t.dashStyle&&(f.dashstyle=t.dashStyle),this.legendLine=o.path([b,0,u-4,p,e,u-4]).attr(f).add(s)),r&&r.enabled&&(i=r.radius,this.legendSymbol=c=o.symbol(this.symbol,e/2-i,u-4-i,2*i,2*i).add(s))},addPoint:function(t,i,r,u){var f=this,o=f.data,s=f.graph,h=f.area,l=f.chart,a=f.xData,v=f.yData,y=s&&s.shift||0,p=f.options.data,e,c=f.pointClass.prototype;ki(u,l),s&&r&&(s.shift=y+1),h&&(r&&(h.shift=y+1),h.isArea=!0),i=n(i,!0),e={series:f},c.applyOptions.apply(e,[t]),a.push(e.x),v.push(c.toYData?c.toYData.call(e):e.y),p.push(t),r&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),a.shift(),v.shift(),p.shift())),f.getAttribs(),f.isDirty=!0,f.isDirtyData=!0,i&&l.redraw()},setData:function(t,r){var f=this,h=f.points,a=f.options,b=f.initialColor,p=f.chart,v=null,c=f.xAxis,u,w=f.pointClass.prototype,y,g;f.xIncrement=null,f.pointRange=c&&c.categories?1:a.pointRange,i(b)&&(p.counters.color=b);var l=[],o=[],s=t?t.length:[],nt=a.turboThreshold||1e3,e,k=f.pointArrayMap,d=k&&k.length;if(s>nt){for(u=0;v===null&&u<s;)v=t[u],u++;if(tr(v)){for(y=n(a.pointStart,0),g=n(a.pointInterval,1),u=0;u<s;u++)l[u]=y,o[u]=t[u],y+=g;f.xIncrement=y}else if(vr(v))if(d)for(u=0;u<s;u++)e=t[u],l[u]=e[0],o[u]=e.slice(1,d+1);else for(u=0;u<s;u++)e=t[u],l[u]=e[0],o[u]=e[1]}else for(u=0;u<s;u++)e={series:f},w.applyOptions.apply(e,[t[u]]),l[u]=e.x,o[u]=w.toYData?w.toYData.call(e):e.y;for(li(o[0])&&cu(14,!0),f.data=[],f.options.data=t,f.xData=l,f.yData=o,u=h&&h.length||0;u--;)h[u]&&h[u].destroy&&h[u].destroy();c&&(c.minRange=c.userMinRange),f.isDirty=f.isDirtyData=p.isDirtyBox=!0,n(r,!0)&&p.redraw(!1)},remove:function(t,i){var r=this,u=r.chart;t=n(t,!0),r.isRemoving||(r.isRemoving=!0,a(r,"remove",null,function(){r.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,t&&u.redraw(i)})),r.isRemoving=!1},processData:function(n){var t=this,i=t.xData,s=t.yData,u=i.length,h=0,l=u,y,c,o,p=t.xAxis,r,w=t.options,b=w.cropThreshold,k=t.isCartesian;if(k&&!t.isDirty&&!p.isDirty&&!t.yAxis.isDirty&&!n)return!1;if(k&&t.sorted&&(!b||u>b||t.forceCrop)){var d=p.getExtremes(),a=d.min,v=d.max;if(i[u-1]<a||i[0]>v)i=[],s=[];else if(i[0]<a||i[u-1]>v){for(r=0;r<u;r++)if(i[r]>=a){h=e(0,r-1);break}for(;r<u;r++)if(i[r]>v){l=r+1;break}i=i.slice(h,l),s=s.slice(h,l),y=!0}}for(r=i.length-1;r>0;r--)c=i[r]-i[r-1],c>0&&(o===f||c<o)&&(o=c);t.cropped=y,t.cropStart=h,t.processedXData=i,t.processedYData=s,w.pointRange===null&&(t.pointRange=o||1),t.closestPointRange=o},generatePoints:function(){var t=this,p=t.options,e=p.data,i=t.data,a,o=t.processedXData,w=t.processedYData,v=t.pointClass,s=o.length,y=t.cropStart||0,r,u=t.hasGroupedData,h,c=[],n,l;for(i||u||(l=[],l.length=e.length,i=t.data=l),n=0;n<s;n++)r=y+n,u?c[n]=(new v).init(t,[o[n]].concat(vi(w[n]))):(i[r]?h=i[r]:e[r]!==f&&(i[r]=h=(new v).init(t,e[r],o[n])),c[n]=h);if(i&&(s!==(a=i.length)||u))for(n=0;n<a;n++)n!==y||u||(n+=s),i[n]&&(i[n].destroyElements(),i[n].plotX=f);t.data=i,t.points=c},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var u=this,b=u.chart,l=u.options,k=l.stacking,d=u.xAxis,v=d.categories,c=u.yAxis,g=u.points,tt=g.length,it=!!u.modifyValue,nt,y=c.series,h=y.length,rt=l.pointPlacement==="between";h--;)if(y[h].visible){y[h]===u&&(nt=!0);break}for(h=0;h<tt;h++){var t=g[h],p=t.x,e=t.y,o=t.low,w=c.stacks[(e<l.threshold?"-":"")+u.stackKey],a,s;t.plotX=d.translate(p,0,0,0,1,rt),k&&u.visible&&w&&w[p]&&(a=w[p],s=a.total,a.cum=o=a.cum-e,e=o+e,nt&&(o=n(l.threshold,c.min)),c.isLog&&o<=0&&(o=null),k==="percent"&&(o=s?o*100/s:0,e=s?e*100/s:0),t.percentage=s?t.y*100/s:0,t.total=t.stackTotal=s,t.stackY=e),t.yBottom=i(o)?c.translate(o,0,1,0,1):null,it&&(e=u.modifyValue(e,t)),t.plotY=typeof e=="number"?r(c.translate(e,0,1,0,1)*10)/10:f,t.clientX=b.inverted?b.plotHeight-t.plotX:t.plotX,t.category=v&&v[t.x]!==f?v[t.x]:t.x}u.getSegments()},setTooltipPoints:function(n){var u=this,i=[],c,o,s,f=u.xAxis,l=f?f.tooltipLen||f.len:u.chart.plotSizeX,a=f&&f.tooltipPosName||"plotX",h,r,v=[];if(u.options.enableMouseTracking!==!1){for(n&&(u.tooltipPoints=null),t(u.segments||u.points,function(n){i=i.concat(n)}),f&&f.reversed&&(i=i.reverse()),c=i.length,r=0;r<c;r++)for(h=i[r],o=i[r-1]?s+1:0,s=i[r+1]?e(0,ht((h[a]+(i[r+1]?i[r+1][a]:l))/2)):l;o>=0&&o<=s;)v[o++]=h;u.tooltipPoints=v}},tooltipHeaderFormatter:function(n){var t=this,i=t.tooltipOptions,r=i.xDateFormat,u=t.xAxis,e=u&&u.options.type==="datetime",f;if(e&&!r)for(f in l)if(l[f]>=u.closestPointRange){r=i.dateTimeLabelFormats[f];break}return i.headerFormat.replace("{point.key}",e&&tr(n)?uu(r,n):n).replace("{series.name}",t.name).replace("{series.color}",t.color)},onMouseOver:function(){var n=this,i=n.chart,t=i.hoverSeries;t&&t!==n&&t.onMouseOut(),n.options.events.mouseOver&&a(n,"mouseOver"),n.setState(kt),i.hoverSeries=n},onMouseOut:function(){var n=this,r=n.options,t=n.chart,i=t.tooltip,u=t.hoverPoint;u&&u.onMouseOut(),n&&r.events.mouseOut&&a(n,"mouseOut"),!i||r.stickyTracking||i.shared||i.hide(),n.setState(),t.hoverSeries=null},animate:function(n){var i=this,t=i.chart,s=t.renderer,e,o,r=i.options.animation,c=t.clipBox,h=t.inverted,f;r&&!bt(r)&&(r=at[i.type].animation),f="_sharedClip"+r.duration+r.easing,n?(e=t[f],o=t[f+"m"],e||(t[f]=e=s.clipRect(u(c,{width:0})),t[f+"m"]=o=s.clipRect(-99,h?-t.plotLeft:-t.plotTop,99,h?t.chartWidth:t.chartHeight)),i.group.clip(e),i.markerGroup.clip(o),i.sharedClipKey=f):(e=t[f],e&&(e.animate({width:t.plotSizeX},r),t[f+"m"].animate({width:t.plotSizeX+99},r)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},r.duration))},afterAnimate:function(){var n=this.chart,t=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(n.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&n[t]&&(n[t]=n[t].destroy(),n[t+"m"]=n[t+"m"].destroy())},100)},drawPoints:function(){var e=this,c,p=e.points,l=e.chart,s,o,a,i,t,v,w,r,d=e.options,b=d.marker,h,k,y,g=e.markerGroup;if(b.enabled||e._hasPointMarkers)for(a=p.length;a--;)i=p[a],s=i.plotX,o=i.plotY,r=i.graphic,h=i.marker||{},k=b.enabled&&h.enabled===f||h.enabled,y=l.isInsidePlot(s,o,l.inverted),k&&o!==f&&!isNaN(o)?(c=i.pointAttr[i.selected?si:vt],t=c.r,v=n(h.symbol,e.symbol),w=v.indexOf("url")===0,r?r.attr({visibility:y?pt?"inherit":ut:rt}).animate(u({x:s-t,y:o-t},r.symbolName?{width:2*t,height:2*t}:{})):y&&(t>0||w)&&(i.graphic=r=l.renderer.symbol(v,s-t,o-t,2*t,2*t).attr(c).add(g))):r&&(i.graphic=r.destroy())},convertAttribs:function(t,i,r,u){var e=this.pointAttrToOptions,f,o,s={};t=t||{},i=i||{},r=r||{},u=u||{};for(f in e)o=e[f],s[f]=n(t[o],i[f],r[f],u[f]);return s},getAttribs:function(){var n=this,r=at[n.type].marker?n.options.marker:n.options,h=r.states,f=h[kt],c,l=n.color,b={stroke:l,fill:l},y=n.points||[],a,e,o=[],s,p=n.pointAttrToOptions,v,w;for(n.options.marker?(f.radius=f.radius||r.radius+2,f.lineWidth=f.lineWidth||r.lineWidth+1):f.color=f.color||fi(f.color||l).brighten(f.brightness).get(),o[vt]=n.convertAttribs(r,b),t([kt,si],function(t){o[t]=n.convertAttribs(h[t],o[vt])}),n.pointAttr=o,a=y.length;a--;){if(e=y[a],r=e.options&&e.options.marker||e.options,r&&r.enabled===!1&&(r.radius=0),v=n.options.colorByPoint,e.options)for(w in p)i(r[p[w]])&&(v=!0);v?(r=r||{},s=[],h=r.states||{},c=h[kt]=h[kt]||{},n.options.marker||(c.color=fi(c.color||e.color).brighten(c.brightness||f.brightness).get()),s[vt]=n.convertAttribs(u({color:e.color},r),o[vt]),s[kt]=n.convertAttribs(h[kt],o[kt],s[vt]),s[si]=n.convertAttribs(h[si],o[si],s[vt])):s=o,e.pointAttr=s}},destroy:function(){var n=this,u=n.chart,h=/AppleWebKit\/533/.test(gi),e,f,o=n.data||[],i,s,r;for(a(n,"destroy"),st(n),t(["xAxis","yAxis"],function(t){r=n[t],r&&(ir(r.series,n),r.isDirty=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),f=o.length;f--;)i=o[f],i&&i.destroy&&i.destroy();n.points=null,clearTimeout(n.animationTimeout),t(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(t){n[t]&&(e=h&&t==="group"?"hide":"destroy",n[t][e]())}),u.hoverSeries===n&&(u.hoverSeries=null),ir(u.series,n);for(s in n)delete n[s]},drawDataLabels:function(){var u=this,l=u.options,r=l.dataLabels,a=u.points,e,h,s,c;(r.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(r),c=u.plotGroup("dataLabelsGroup","data-labels",u.visible?ut:rt,6),h=r,t(a,function(t){var v,l=t.dataLabel,a,y,p,w=!0;if(e=t.options&&t.options.dataLabels,v=h.enabled||e&&e.enabled,l&&!v)t.dataLabel=l.destroy();else if(v){if(p=r.rotation,r=o(h,e),s=r.formatter.call(t.getLabelConfig(),r),r.style.color=n(r.color,r.style.color,u.color,"black"),l)l.attr({text:s}),w=!1;else if(i(s)){a={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:p,padding:r.padding,zIndex:1};for(y in a)a[y]===f&&delete a[y];l=t.dataLabel=u.chart.renderer[p?"text":"label"](s,0,-999,null,null,null,r.useHTML).attr(a).css(r.style).add(c).shadow(r.shadow)}l&&u.alignDataLabel(t,l,r,null,w)}}))},alignDataLabel:function(t,i,f,e,o){var s=this.chart,c=s.inverted,l=n(t.plotX,-999),a=n(t.plotY,-999),v=i.getBBox(),h;e=u({x:c?s.plotWidth-a:l,y:r(c?s.plotHeight-l:a),width:0,height:0},e),u(f,{width:v.width,height:v.height}),f.rotation?(h={align:f.align,x:e.x+f.x+e.width/2,y:e.y+f.y+e.height/2},i[o?"attr":"animate"](h)):(i.align(f,null,e),h=i.alignAttr),i.attr({visibility:f.crop===!1||s.isInsidePlot(h.x,h.y)||s.isInsidePlot(l,a,c)?pt?"inherit":ut:rt})},getSegmentPath:function(n){var r=this,i=[];return t(n,function(t,u){if(r.getPointSpline)i.push.apply(i,r.getPointSpline(n,t,u));else{if(i.push(u?p:b),u&&r.options.step){var f=n[u-1];i.push(t.plotX,f.plotY)}i.push(t.plotX,t.plotY)}}),i},getGraphPath:function(){var n=this,i=[],r,u=[];return t(n.segments,function(t){r=n.getSegmentPath(t),t.length>1?i=i.concat(r):u.push(t[0])}),n.singlePoints=u,n.graphPath=i,i},drawGraph:function(){var n=this.options,t=this.graph,e=this.group,o=n.lineColor||this.color,r=n.lineWidth,u=n.dashStyle,i,f=this.getGraphPath();t?(au(t),t.animate({d:f})):r&&(i={stroke:o,"stroke-width":r,zIndex:1},u&&(i.dashstyle=u),this.graph=this.chart.renderer.path(f).attr(i).add(e).shadow(n.shadow))},invertGroups:function(){function i(){var i={width:n.yAxis.len,height:n.xAxis.len};t(["group","trackerGroup","markerGroup"],function(t){n[t]&&n[t].attr(i).invert()})}var n=this,r=n.chart;w(r,"resize",i),w(n,"destroy",function(){st(r,"resize",i)}),i(),n.invertGroups=i},plotGroup:function(n,t,i,r,u){var f=this[n],e=this.chart,o=this.xAxis,s=this.yAxis;return f||(this[n]=f=e.renderer.g(t).attr({visibility:i,zIndex:r||.1}).add(u)),f.translate(o?o.left:e.plotLeft,s?s.top:e.plotTop),f},render:function(){var n=this,t=n.chart,i,r=n.options,h=r.animation,u=h&&!!n.animate,f=n.visible?ut:rt,e=r.zIndex,o=n.hasRendered,s=t.seriesGroup;i=n.plotGroup("group","series",f,e,s),n.markerGroup=n.plotGroup("markerGroup","markers",f,e,s),u&&n.animate(!0),n.getAttribs(),i.inverted=t.inverted,n.drawGraph&&n.drawGraph(),n.drawPoints(),n.drawDataLabels(),n.options.enableMouseTracking!==!1&&n.drawTracker(),t.inverted&&n.invertGroups(),r.clip===!1||n.sharedClipKey||o||(i.clip(t.clipRect),this.trackerGroup&&this.trackerGroup.clip(t.clipRect)),u?n.animate():o||n.afterAnimate(),n.isDirty=n.isDirtyData=!1,n.hasRendered=!0},redraw:function(){var n=this,t=n.chart,r=n.isDirtyData,i=n.group;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:n.xAxis.left,translateY:n.yAxis.top})),n.translate(),n.setTooltipPoints(!0),n.render(),r&&a(n,"updatedData")},setState:function(n){var t=this,f=t.options,i=t.graph,r=f.states,u=f.lineWidth;if(n=n||vt,t.state!==n){if(t.state=n,r[n]&&r[n].enabled===!1)return;n&&(u=r[n].lineWidth||u+1),i&&!i.dashstyle&&i.attr({"stroke-width":u},n?0:500)}},setVisible:function(n,i){var r=this,e=r.chart,p=r.legendItem,c=r.group,l=r.tracker,v=r.dataLabelsGroup,y=r.markerGroup,u,o,s=r.points,h,w=e.options.chart.ignoreHiddenSeries,b=r.visible;if(r.visible=n=n===f?!b:n,u=n?"show":"hide",c&&c[u](),y&&y[u](),l)l[u]();else if(s)for(o=s.length;o--;)h=s[o],h.tracker&&h.tracker[u]();v&&v[u](),p&&e.legend.colorizeItem(r,n),r.isDirty=!0,r.options.stacking&&t(e.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)}),w&&(e.isDirtyBox=!0),i!==!1&&e.redraw(),a(r,u)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){var t=this;t.selected=n=n===f?!t.selected:n,t.checkbox&&(t.checkbox.checked=n),a(t,n?"select":"unselect")},drawTracker:function(){var i=this,r=i.options,e=r.trackByArea,t=[].concat(e?i.areaPath:i.graphPath),s=t.length,o=i.chart,a=o.renderer,u=o.options.tooltip.snap,h=i.tracker,c=r.cursor,v=c&&{cursor:c},l=i.singlePoints,y=this.isCartesian&&this.plotGroup("trackerGroup",null,ut,r.zIndex||1,o.trackerGroup),f,n;if(s&&!e)for(n=s+1;n--;)t[n]===b&&t.splice(n+1,0,t[n+1]-u,t[n+2],p),(n&&t[n]===b||n===s)&&t.splice(n,0,p,t[n-2]+u,t[n-1]);for(n=0;n<l.length;n++)f=l[n],t.push(b,f.plotX-u,f.plotY,p,f.plotX+u,f.plotY);h?h.attr({d:t}):i.tracker=a.path(t).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:i.visible?ut:rt,stroke:rf,fill:e?rf:ft,"stroke-width":r.lineWidth+(e?0:2*u)}).on(ni?"touchstart":"mouseover",function(){o.hoverSeries!==i&&i.onMouseOver()}).on("mouseout",function(){r.stickyTracking||i.onMouseOut()}).css(v).add(y)}},ke=gt(nt),wt.line=ke,at.area=o(fr,{threshold:0}),nu=gt(nt,{type:"area",getSegmentPath:function(n){var i=nt.prototype.getSegmentPath.call(this,n),r=[].concat(i),t,u=this.options,f=i.length;if(f===3&&r.push(p,i[1],i[2]),u.stacking&&!this.closedStacks)for(t=n.length-1;t>=0;t--)t<n.length-1&&u.step&&r.push(n[t+1].plotX,n[t].yBottom),r.push(n[t].plotX,n[t].yBottom);else this.closeSegment(r,n);return this.areaPath=this.areaPath.concat(r),i},closeSegment:function(n,t){var i=this.yAxis.getThreshold(this.options.threshold);n.push(p,t[t.length-1].plotX,i,p,t[0].plotX,i)},drawGraph:function(){this.areaPath=[],nt.prototype.drawGraph.apply(this);var t=this.areaPath,i=this.options,r=this.area;r?r.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:n(i.fillColor,fi(this.color).setOpacity(i.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(n,t){t.legendSymbol=this.chart.renderer.rect(0,n.baseline-11,n.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),wt.area=nu,at.spline=o(fr),ie=gt(nt,{type:"spline",getPointSpline:function(n,t,i){var h=1.5,a=h+1,s=t.plotX,r=t.plotY,o=n[i-1],y=n[i+1],p,f,v,u,w;if(o&&y){var d=o.plotX,c=o.plotY,g=y.plotX,l=y.plotY,k;p=(h*s+d)/a,f=(h*r+c)/a,v=(h*s+g)/a,u=(h*r+l)/a,k=(u-f)*(v-s)/(v-p)+r-u,f+=k,u+=k,f>c&&f>r?(f=e(c,r),u=2*r-f):f<c&&f<r&&(f=it(c,r),u=2*r-f),u>l&&u>r?(u=e(l,r),f=2*r-u):u<l&&u<r&&(u=it(l,r),f=2*r-u),t.rightContX=v,t.rightContY=u}return i?(w=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,p||s,f||r,s,r],o.rightContX=o.rightContY=null):w=[b,s,r],w}}),wt.spline=ie,at.areaspline=o(at.area),pu=nu.prototype,de=gt(ie,{type:"areaspline",closedStacks:!0,getSegmentPath:pu.getSegmentPath,closeSegment:pu.closeSegment,drawGraph:pu.drawGraph}),wt.areaspline=de,at.column=o(fr,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0}),wu=gt(nt,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){nt.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},translate:function(){var r=this,d=r.chart,u=r.options,st=u.stacking,y=u.borderWidth,h=0,c=r.xAxis,tt=c.reversed,p={},l,w;nt.prototype.translate.apply(r),u.grouping===!1?h=1:t(d.series,function(n){var t=n.options;n.type===r.type&&n.visible&&r.options.group===t.group&&(t.stacking?(l=n.stackKey,p[l]===f&&(p[l]=h++),w=p[l]):t.grouping!==!1&&(w=h++),n.columnIndex=w)});var ht=r.points,b=g(c.transA)*(c.ordinalSlope||u.pointRange||c.closestPointRange||1),rt=b*u.groupPadding,ct=b-2*rt,a=ct/h,k=u.pointWidth,ut=i(k)?(a-k)/2:a*u.pointPadding,ft=n(k,a-2*ut),et=yi(e(ft,1+2*y)),lt=(tt?h-r.columnIndex:r.columnIndex)||0,ot=ut+(rt+lt*a-b/2)*(tt?-1:1),at=u.threshold,v=r.translatedThreshold=r.yAxis.getThreshold(at),s=n(u.minPointLength,5);t(ht,function(t){var f=t.plotY,h=n(t.yBottom,v),a=t.plotX+ot,i=yi(it(f,h)),u=yi(e(f,h)-i),c=r.yAxis.stacks[(t.y<0?"-":"")+r.stackKey],l;st&&r.visible&&c&&c[t.x]&&c[t.x].setOffset(ot,et),g(u)<s&&s&&(u=s,i=g(i-v)>s?h-s:v-(f<=v?s:0)),t.barX=a,t.pointWidth=ft,t.shapeType="rect",t.shapeArgs=l=d.renderer.Element.prototype.crisp.call(0,y,a,i,et,u),y%2&&(l.y-=1,l.height+=1),t.trackerArgs=g(u)<3&&o(t.shapeArgs,{height:6,y:i-3})})},getSymbol:nf,drawLegendSymbol:nu.prototype.drawLegendSymbol,drawGraph:nf,drawPoints:function(){var n=this,i=n.options,u=n.chart.renderer,r;t(n.points,function(t){var s=t.plotY,e=t.graphic;s===f||isNaN(s)||t.y===null?e&&(t.graphic=e.destroy()):(r=t.shapeArgs,e?(au(e),e.animate(o(r))):t.graphic=e=u[t.shapeType](r).attr(t.pointAttr[t.selected?si:vt]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var n=this,u=n.chart,v=u.renderer,i,e,o=+new Date,s=n.options,l=s.cursor,y=l&&{cursor:l},p=n.isCartesian&&n.plotGroup("trackerGroup",null,ut,s.zIndex||1,u.trackerGroup),r,c,a;t(n.points,function(t){e=t.tracker,i=t.trackerArgs||t.shapeArgs,c=t.plotY,a=!n.isCartesian||c!==f&&!isNaN(c),delete i.strokeWidth,t.y!==null&&a&&(e?e.attr(i):t.tracker=v[t.shapeType](i).attr({isTracker:o,fill:rf,visibility:n.visible?ut:rt}).on(ni?"touchstart":"mouseover",function(i){r=i.relatedTarget||i.fromElement,u.hoverSeries!==n&&h(r,"isTracker")!==o&&n.onMouseOver(),t.onMouseOver()}).on("mouseout",function(t){s.stickyTracking||(r=t.relatedTarget||t.toElement,h(r,"isTracker")!==o&&n.onMouseOut())}).css(y).add(t.group||p))})},alignDataLabel:function(t,i,r,u,f){var e=this.chart,s=e.inverted,h=t.below||t.plotY>(this.translatedThreshold||e.plotSizeY),c=this.options.stacking||r.inside;t.shapeArgs&&(u=o(t.shapeArgs),s&&(u={x:e.plotWidth-u.y-u.height,y:e.plotHeight-u.x-u.width,width:u.height,height:u.width}),c||(s?(u.x+=h?0:u.width,u.width=0):(u.y+=h?u.height:0,u.height=0))),r.align=n(r.align,!s||c?"center":h?"right":"left"),r.verticalAlign=n(r.verticalAlign,s||c?"middle":h?"top":"bottom"),nt.prototype.alignDataLabel.call(this,t,i,r,u,f)},animate:function(n){var r=this,f=r.points,u=r.options;n||(t(f,function(n){var t=n.graphic,e=n.shapeArgs,f=r.yAxis,o=u.threshold;t&&(t.attr({height:0,y:i(o)?f.getThreshold(o):f.translate(f.getExtremes().min,0,1,0,1)}),t.animate({height:e.height,y:e.y},u.animation))}),r.animate=null)},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)}),nt.prototype.remove.apply(n,arguments)}}),wt.column=wu,at.bar=o(at.column),ge=gt(wu,{type:"bar",inverted:!0}),wt.bar=ge,at.scatter=o(fr,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}}),no=gt(nt,{type:"scatter",sorted:!1,translate:function(){var n=this;nt.prototype.translate.apply(n),t(n.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:n.chart.options.tooltip.snap}})},drawTracker:function(){for(var n=this,u=n.options.cursor,e=u&&{cursor:u},t=n.points,i=t.length,r;i--;)r=t[i].graphic,r&&(r.element._i=i);n._hasTracking?n._hasTracking=!0:n.markerGroup.attr({isTracker:!0}).on(ni?"touchstart":"mouseover",function(i){n.onMouseOver(),i.target._i!==f&&t[i.target._i].onMouseOver()}).on("mouseout",function(){n.options.stickyTracking||n.onMouseOut()}).css(e)}}),wt.scatter=no,at.pie=o(fr,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),to=gt(er,{init:function(){er.prototype.init.apply(this,arguments);var t=this,i;return u(t,{visible:t.visible!==!1,name:n(t.name,"Slice")}),i=function(){t.slice()},w(t,"select",i),w(t,"unselect",i),t},setVisible:function(n){var t=this,r=t.series,u=r.chart,e=t.tracker,o=t.dataLabel,s=t.connector,h=t.shadowGroup,i;t.visible=n=n===f?!t.visible:n,i=n?"show":"hide",t.group[i](),e&&e[i](),o&&o[i](),s&&s[i](),h&&h[i](),t.legendItem&&u.legend.colorizeItem(t,n),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,u.redraw())},slice:function(t,r,u){var f=this,h=f.series,e=h.chart,s=f.slicedTranslation,o;ki(u,e),r=n(r,!0),t=f.sliced=i(t)?t:!f.sliced,o={translateX:t?s[0]:e.plotLeft,translateY:t?s[1]:e.plotTop},f.group.animate(o),f.shadowGroup&&f.shadowGroup.animate(o)}}),bu={type:"pie",isCartesian:!1,pointClass:to,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var n=this,i=n.points;t(i,function(t){var i=t.graphic,r=t.shapeArgs,u=-pi/2;i&&(i.attr({r:0,start:u,end:u}),i.animate({r:r.r,start:r.start,end:r.end},n.options.animation))}),n.animate=null},setData:function(t,i){nt.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),n(i,!0)&&this.chart.redraw()},getCenter:function(){var n=this.options,t=this.chart,i=t.plotWidth,r=t.plotHeight,e=n.center.concat([n.size,n.innerSize||0]),u=it(i,r),f;return kr(e,function(n,t){return f=/%$/.test(n),f?[i,r,u,u][t]*s(n)/100:n})},translate:function(){this.generatePoints();var h=0,f=this,a=-.25,c=1e3,l=f.options,v=l.slicedOffset,g=v+l.borderWidth,n,nt=f.chart,y,p,t,w=f.points,b=2*pi,k,e,o,s=l.dataLabels.distance,tt=l.ignoreHiddenPoint,u,it=w.length,i;for(f.center=n=f.getCenter(),f.getX=function(i,r){return t=d.asin((i-n[1])/(n[2]/2+s)),n[0]+(r?-1:1)*ct(t)*(n[2]/2+s)},u=0;u<it;u++)i=w[u],h+=tt&&!i.visible?0:i.y;for(u=0;u<it;u++)i=w[u],k=h?i.y/h:0,y=r(a*b*c)/c,(!tt||i.visible)&&(a+=k),p=r(a*b*c)/c,i.shapeType="arc",i.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:y,end:p},t=(p+y)/2,i.slicedTranslation=kr([ct(t)*v+nt.plotLeft,yt(t)*v+nt.plotTop],r),e=ct(t)*n[2]/2,o=yt(t)*n[2]/2,i.tooltipPos=[n[0]+e*.7,n[1]+o*.7],i.labelPos=[n[0]+e+ct(t)*s,n[1]+o+yt(t)*s,n[0]+e+ct(t)*g,n[1]+o+yt(t)*g,n[0]+e,n[1]+o,s<0?"center":t<b/4?"left":"right",t],i.percentage=k*100,i.total=h;this.setTooltipPoints()},render:function(){var n=this;n.getAttribs(),this.drawPoints(),n.options.enableMouseTracking!==!1&&n.drawTracker(),this.drawDataLabels(),n.options.animation&&n.animate&&n.animate(),n.isDirty=!1},drawPoints:function(){var r=this,o=r.chart,s=o.renderer,i,f,e,c=r.options.shadow,n,h;t(r.points,function(t){f=t.graphic,h=t.shapeArgs,e=t.group,n=t.shadowGroup,c&&!n&&(n=t.shadowGroup=s.g("shadow").attr({zIndex:4}).add()),e||(e=t.group=s.g("point").attr({zIndex:5}).add()),i=t.sliced?t.slicedTranslation:[o.plotLeft,o.plotTop],e.translate(i[0],i[1]),n&&n.translate(i[0],i[1]),f?f.animate(h):t.graphic=f=s.arc(h).setRadialReference(r.center).attr(u(t.pointAttr[vt],{"stroke-linejoin":"round"})).add(t.group).shadow(c,n),t.visible===!1&&t.setVisible(!1)})},drawDataLabels:function(){var h=this,ti=h.data,o,bt=h.chart,s=h.options.dataLabels,kt=n(s.connectorPadding,10),dt=n(s.connectorWidth,1),k,st,ii=n(s.softConnector,!0),a=s.distance,ht=h.center,ct=ht[2]/2,gt=ht[1],ri=a>0,it,r,ni,v=[[],[]],d,e,ft,lt,at,et=2,i,yt,pt,tt,wt,w;if(s.enabled||h._hasPointLabels)for(nt.prototype.drawDataLabels.apply(h),t(ti,function(n){n.dataLabel&&v[n.labelPos[7]<pi/2?0:1].push(n)}),v[1].reverse(),at=function(n,t){return t.y-n.y},ni=v[0][0]&&v[0][0].dataLabel&&(v[0][0].dataLabel.getBBox().height||21);et--;){var f=[],y,vt=[],l=v[et],ot,c=l.length,u;if(a>0){for(ot=gt-ct-a;ot<=gt+ct+a;ot+=ni)f.push(ot);if(y=f.length,c>y){for(lt=[].concat(l),lt.sort(at),i=c;i--;)lt[i].rank=i;for(i=c;i--;)l[i].rank>=y&&l.splice(i,1);c=l.length}for(i=0;i<c;i++){for(o=l[i],r=o.labelPos,yt=9999,tt=0;tt<y;tt++)pt=g(f[tt]-r[1]),pt<yt&&(yt=pt,u=tt);if(u<i&&f[i]!==null)u=i;else if(y<c-i+u&&f[i]!==null)for(u=y-c+i;f[u]===null;)u++;else while(f[u]===null)u++;vt.push({i:u,y:f[u]}),f[u]=null}vt.sort(at)}for(i=0;i<c;i++)o=l[i],r=o.labelPos,it=o.dataLabel,ft=o.visible===!1?rt:ut,w=r[1],a>0?(wt=vt.pop(),u=wt.i,e=wt.y,(w>e&&f[u+1]!==null||w<e&&f[u-1]!==null)&&(e=w)):e=w,d=s.justify?ht[0]+(et?-1:1)*(ct+a):h.getX(u===0||u===f.length-1?w:e,et),it.attr({visibility:ft,align:r[6]})[it.moved?"animate":"attr"]({x:d+s.x+({left:kt,right:-kt}[r[6]]||0),y:e+s.y-10}),it.moved=!0,ri&&dt&&(k=o.connector,st=ii?[b,d+(r[6]==="left"?5:-5),e,"C",d,e,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],p,r[4],r[5]]:[b,d+(r[6]==="left"?5:-5),e,p,r[2],r[3],p,r[4],r[5]],k?(k.animate({d:st}),k.attr("visibility",ft)):o.connector=k=h.chart.renderer.path(st).attr({"stroke-width":dt,stroke:s.connectorColor||o.color||"#606060",visibility:ft,zIndex:3}).translate(bt.plotLeft,bt.plotTop).add())}},alignDataLabel:nf,drawTracker:wu.prototype.drawTracker,drawLegendSymbol:nu.prototype.drawLegendSymbol,getSymbol:function(){}},bu=gt(nt,bu),wt.pie=bu,u(Highcharts,{Axis:kf,CanVGRenderer:yu,Chart:te,Color:fi,Legend:ne,MouseTracker:gf,Point:er,Tick:gr,Tooltip:df,Renderer:sr,Series:nt,SVGRenderer:ei,VMLRenderer:dr,dateFormat:uu,pathAnim:gu,getOptions:lo,hasBidiBug:io,numberFormat:yr,seriesTypes:wt,setOptions:co,addEvent:w,removeEvent:st,createElement:et,discardElement:wr,css:y,each:t,extend:u,map:kr,merge:o,pick:n,splat:vi,extendClass:gt,pInt:s,wrap:uo,svg:pt,canvas:lt,vml:!pt&&!lt,product:"Highcharts",version:"2.3.3"})})();(function(){function d(n){for(var t=n.length;t--;)typeof n[t]=="number"&&(n[t]=Math.round(n[t])-.5);return n}var n=Highcharts,y=n.Chart,p=n.addEvent,g=n.removeEvent,f=n.createElement,a=n.discardElement,h=n.css,e=n.merge,t=n.each,i=n.extend,nt=Math,tt=nt.max,r=document,it=window,w=r.documentElement.ontouchstart!==undefined,o="M",s="L",c="div",rt="hidden",l="none",ut="highcharts-",b="absolute",u="px",k,v=n.getOptions();i(v.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),v.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:l,color:"#303030",fontSize:w?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},v.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},i(y.prototype,{getSVG:function(n){var l=this,v,y,o,s,h=e(l.options,n);return r.createElementNS||(r.createElementNS=function(n,t){return r.createElement(t)}),y=f(c,null,{position:b,top:"-9999em",width:l.chartWidth+u,height:l.chartHeight+u},r.body),i(h.chart,{renderTo:y,forExport:!0}),h.exporting.enabled=!1,h.chart.plotBackgroundImage=null,h.series=[],t(l.series,function(n){s=e(n.options,{animation:!1,showCheckbox:!1,visible:n.visible}),s.isInternal||(s&&s.marker&&/^url\(/.test(s.marker.symbol)&&(s.marker.symbol="circle"),h.series.push(s))}),v=new Highcharts.Chart(h),t(["xAxis","yAxis"],function(n){t(l[n],function(t,i){var e=v[n][i],r=t.getExtremes(),u=r.userMin,f=r.userMax;(u!==k||f!==k)&&e.setExtremes(u,f,!0,!1)})}),o=v.container.innerHTML,h=null,v.destroy(),a(y),o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()}),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),o.match(/ xmlns="/g).length===2&&(o=o.replace(/xmlns="[^"]+"/,"")),o},exportChart:function(n,i){var u,o=this,s=o.getSVG(e(o.options.exporting.chartOptions,i));n=e(o.options.exporting,n),u=f("form",{method:"post",action:n.url,enctype:"multipart/form-data"},{display:l},r.body),t(["filename","type","width","svg"],function(t){f("input",{type:rt,name:t,value:{filename:n.filename||"chart",type:n.type,width:n.width,svg:s}[t]},null,u)}),u.submit(),a(u)},print:function(){var n=this,i=n.container,u=[],o=i.parentNode,f=r.body,e=f.childNodes;n.isPrinting||(n.isPrinting=!0,t(e,function(n,t){n.nodeType===1&&(u[t]=n.style.display,n.style.display=l)}),f.appendChild(i),it.print(),setTimeout(function(){o.appendChild(i),t(e,function(n,t){n.nodeType===1&&(n.style.display=u[t])}),n.isPrinting=!1},1e3))},contextMenu:function(n,r,e,o,s,a){var v=this,g=v.options.navigation,ft=g.menuItemStyle,et=v.chartWidth,ot=v.chartHeight,st="cache-"+n,y=v[st],d=tt(s,a),nt="3px 3px 10px #888",it,rt,k;y||(v[st]=y=f(c,{className:ut+n},{position:b,zIndex:1e3,padding:d+u},v.container),it=f(c,null,i({MozBoxShadow:nt,WebkitBoxShadow:nt,boxShadow:nt},g.menuStyle),y),rt=function(){h(y,{display:l})},p(y,"mouseleave",rt),t(r,function(n){if(n){var t=f(c,{onmouseover:function(){h(this,g.menuItemHoverStyle)},onmouseout:function(){h(this,ft)},innerHTML:n.text||v.options.lang[n.textKey]},i({cursor:"pointer"},ft),it);t[w?"ontouchstart":"onclick"]=function(){rt(),n.onclick.apply(v,arguments)},v.exportDivElements.push(t)}}),v.exportDivElements.push(it,y),v.exportMenuWidth=y.offsetWidth,v.exportMenuHeight=y.offsetHeight),k={display:"block"},e+v.exportMenuWidth>et?k.right=et-e-s-d+u:k.left=e-d+u,o+a+v.exportMenuHeight>ot?k.bottom=ot-o-d+u:k.top=o+a-d+u,h(y,k)},addButton:function(n){function a(){f.attr(b),u.attr(w)}var r=this,h=r.renderer,t=e(r.options.navigation.buttonOptions,n),v=t.onclick,y=t.menuItems,c=t.width,l=t.height,u,f,o,p=t.borderWidth,w={stroke:t.borderColor},b={stroke:t.symbolStroke,fill:t.symbolFill},s=t.symbolSize||12;if(r.exportDivElements||(r.exportDivElements=[],r.exportSVGElements=[]),t.enabled!==!1){u=h.rect(0,0,c,l,t.borderRadius,p).align(t,!0).attr(i({fill:t.backgroundColor,"stroke-width":p,zIndex:19},w)).add(),o=h.rect(0,0,c,l,0).align(t).attr({id:t._id,fill:"rgba(255, 255, 255, 0.001)",title:r.options.lang[t._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){f.attr({stroke:t.hoverSymbolStroke,fill:t.hoverSymbolFill}),u.attr({stroke:t.hoverBorderColor})}).on("mouseout",a).on("click",a).add(),y&&(v=function(){a();var n=o.getBBox();r.contextMenu("export-menu",y,n.x,n.y,c,l)});o.on("click",function(){v.apply(r,arguments)});f=h.symbol(t.symbol,t.symbolX-s/2,t.symbolY-s/2,s,s).align(t,!0).attr(i(b,{"stroke-width":t.symbolStrokeWidth||1,zIndex:20})).add(),r.exportSVGElements.push(u,o,f)}},destroyExport:function(){for(var i=this,n,t=0;t<i.exportSVGElements.length;t++)n=i.exportSVGElements[t],n.onclick=n.ontouchstart=null,i.exportSVGElements[t]=n.destroy();for(t=0;t<i.exportDivElements.length;t++)n=i.exportDivElements[t],g(n,"mouseleave"),i.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,a(n)}}),n.Renderer.prototype.symbols.exportIcon=function(n,t,i,r){return d([o,n,t+i,s,n+i,t+r,n+i,t+r*.8,n,t+r*.8,"Z",o,n+i*.5,t+r*.8,s,n+i*.8,t+r*.4,n+i*.4,t+r*.4,n+i*.4,t,n+i*.6,t,n+i*.6,t+r*.4,n+i*.2,t+r*.4,"Z"])},n.Renderer.prototype.symbols.printIcon=function(n,t,i,r){return d([o,n,t+r*.7,s,n+i,t+r*.7,n+i,t+r*.4,n,t+r*.4,"Z",o,n+i*.2,t+r*.4,s,n+i*.2,t,n+i*.8,t,n+i*.8,t+r*.4,"Z",o,n+i*.2,t+r*.7,s,n,t+r,n+i,t+r,n+i*.8,t+r*.7,"Z"])},y.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(i.enabled!==!1){for(t in r)n.addButton(r[t]);p(n,"destroy",n.destroyExport)}})})();!function(n,t,i){function e(n,i){var u=t.createElement(n||"div"),r;for(r in i)u[r]=i[r];return u}function u(n){for(var t=1,i=arguments.length;t<i;t++)n.appendChild(arguments[t]);return n}function y(n,t,i,r){var u=["opacity",t,~~(n*100),i,r].join("-"),f=.01+i/r*100,e=Math.max(1-(1-n)/t*(100-f),n),h=o.substring(0,o.indexOf("Animation")).toLowerCase(),c=h&&"-"+h+"-"||"";return l[u]||(s.insertRule("@"+c+"keyframes "+u+"{0%{opacity:"+e+"}"+f+"%{opacity:"+n+"}"+(f+.01)+"%{opacity:1}"+(f+t)%100+"%{opacity:"+n+"}100%{opacity:"+e+"}}",s.cssRules.length),l[u]=1),u}function h(n,t){var f=n.style,u,r;if(f[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<c.length;r++)if(u=c[r]+t,f[u]!==i)return u}function r(n,t){for(var i in t)n.style[h(n,i)||i]=t[i];return n}function a(n){for(var u,r,t=1;t<arguments.length;t++){u=arguments[t];for(r in u)n[r]===i&&(n[r]=u[r])}return n}function v(n){for(var t={x:n.offsetLeft,y:n.offsetTop};n=n.offsetParent;)t.x+=n.offsetLeft,t.y+=n.offsetTop;return t}var c=["webkit","Moz","ms","O"],l={},o,s=function(){var n=e("style",{type:"text/css"});return u(t.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},f=function f(n){if(!this.spin)return new f(n);this.opts=a(n||{},f.defaults,p)};f.defaults={},a(f.prototype,{spin:function(n){this.stop();var i=this,t=i.opts,u=i.el=r(e(0,{className:t.className}),{position:t.position,width:0,zIndex:t.zIndex}),c=t.radius+t.length+t.width,f,s;if(n&&(n.insertBefore(u,n.firstChild||null),s=v(n),f=v(u),r(u,{left:(t.left=="auto"?s.x-f.x+(n.offsetWidth>>1):parseInt(t.left,10)+c)+"px",top:(t.top=="auto"?s.y-f.y+(n.offsetHeight>>1):parseInt(t.top,10)+c)+"px"})),u.setAttribute("aria-role","progressbar"),i.lines(u,i.opts),!o){var l=0,a=t.fps,h=a/t.speed,y=(1-t.opacity)/(h*t.trail/100),p=h/t.lines;(function w(){var n,r;for(l++,n=t.lines;n;n--)r=Math.max(1-(l+n*p)%h*y,t.opacity),i.opacity(u,t.lines-n,r,t);i.timeout=i.el&&setTimeout(w,~~(1e3/a))})()}return i},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=i),this},lines:function(n,t){function s(n,u){return r(e(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:n,boxShadow:u,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*i+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var i=0,f;i<t.lines;i++)f=r(e(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:o&&y(t.opacity,t.trail,i,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(f,r(s("#000","0 0 4px #000"),{top:"2px"})),u(n,u(f,s(t.color,"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),function(){function n(n,t){return e("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=r(e("group"),{behavior:"url(#default#VML)"});!h(t,"transform")&&t.adj?(s.addRule(".spin-vml","behavior:url(#default#VML)"),f.prototype.lines=function(t,i){function s(){return r(n("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function l(t,f,o){u(c,u(r(s(),{rotation:360/i.lines*t+"deg",left:~~f}),u(r(n("roundrect",{arcsize:i.corners}),{width:e,height:i.width,left:i.radius,top:-i.width>>1,filter:o}),n("fill",{color:i.color,opacity:i.opacity}),n("stroke",{opacity:0}))))}var e=i.length+i.width,o=2*e,h=-(i.width+i.length)*2+"px",c=r(s(),{position:"absolute",top:h,left:h}),f;if(i.shadow)for(f=1;f<=i.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=i.lines;f++)l(f);return u(t,c)},f.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0,u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}):o=h(t,"animation")}(),typeof define=="function"&&define.amd?define(function(){return f}):n.Spinner=f}(window,document),$.fn.spin=function(n){return this.each(function(){var i=$(this),t=i.data();t.spinner&&(t.spinner.stop(),delete t.spinner),n!==!1&&(t.spinner=new Spinner($.extend({color:i.css("color")},n)).spin(this))}),this};(function(n,t){function vt(t){n.extend(!0,b,t)}function ki(u,f,e){function ei(n){l?(lt(),dt(),ti(),y(n)):oi()}function oi(){fi=f.theme?"ui":"fc",u.addClass("fc"),f.isRTL&&u.addClass("fc-rtl"),f.theme&&u.addClass("ui-widget"),l=n("<div class='fc-content' style='position:relative'/>").prependTo(u),w=new di(h,f),b=w.render(),b&&u.prepend(b),wt(f.defaultView),n(window).resize(gt),pt()||yt()}function yt(){setTimeout(function(){!o.start&&pt()&&y()},0)}function si(){n(window).unbind("resize",gt),w.destroy(),l.remove(),u.removeClass("fc fc-rtl ui-widget")}function et(){return it.offsetWidth!==0}function pt(){return n("body")[0].offsetWidth!==0}function wt(t){if(!o||t!=o.name){v++,st();var i=o,r;i?((i.beforeHide||ui)(),k(l,l.height()),i.element.hide()):k(l,1),l.css("overflow","hidden"),o=rt[t],o?o.element.show():o=rt[t]=new s[t](r=ut=n("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(l),h),i&&w.deactivateButton(i.name),w.activateButton(t),y(),l.css("overflow",""),i&&k(l,1),r||(o.afterShow||ui)(),v--}}function y(n){var i,r;et()&&(v++,st(),d===t&&lt(),i=!1,!o.start||n||a<o.start||a>=o.end?(o.render(a,n||0),at(!0),i=!0):o.sizeDirty?(o.clearEvents(),at(),i=!0):o.eventsDirty&&(o.clearEvents(),i=!0),o.sizeDirty=!1,o.eventsDirty=!1,hi(i),ht=u.outerWidth(),w.updateTitle(o.title),r=new Date,r>=o.start&&r<o.end?w.disableButton("today"):w.enableButton("today"),v--,o.trigger("viewDisplay",it))}function bt(){dt(),et()&&(lt(),at(),st(),o.clearEvents(),o.renderEvents(ct),o.sizeDirty=!1)}function dt(){n.each(rt,function(n,t){t.sizeDirty=!0})}function lt(){d=f.contentHeight?f.contentHeight:f.height?f.height-(b?b.height():0)-p(l):Math.round(l.width()/Math.max(f.aspectRatio,.5))}function at(n){v++,o.setHeight(d,n),ut&&(ut.css("position","relative"),ut=null),o.setWidth(l.width(),n),v--}function gt(){if(!v)if(o.start){var n=++vt;setTimeout(function(){n==vt&&!v&&et()&&ht!=(ht=u.outerWidth())&&(v++,bt(),o.trigger("windowResize",it),v--)},200)}else yt()}function hi(n){!f.lazyFetching||ii(o.visStart,o.visEnd)?ni():n&&ot()}function ni(){ri(o.visStart,o.visEnd)}function ci(n){ct=n,ot()}function li(n){ot(n)}function ot(n){ti(),et()&&(o.clearEvents(),o.renderEvents(ct,n),o.eventsDirty=!1)}function ti(){n.each(rt,function(n,t){t.eventsDirty=!0})}function ai(n,i,r){o.select(n,i,r===t?!0:r)}function st(){o&&o.unselect()}function vi(){y(-1)}function yi(){y(1)}function pi(){nt(a,-1),y()}function wi(){nt(a,1),y()}function bi(){a=new Date,y()}function ki(n,t,r){n instanceof Date?a=i(n):kt(a,n,t,r),y()}function nr(n,i,u){n!==t&&nt(a,n),i!==t&&tt(a,i),u!==t&&r(a,u),y()}function tr(){return i(a)}function ir(){return o}function rr(n,i){if(i===t)return f[n];(n=="height"||n=="contentHeight"||n=="aspectRatio")&&(f[n]=i,bt())}function ur(n,t){if(f[n])return f[n].apply(t||it,Array.prototype.slice.call(arguments,2))}var h=this;h.options=f,h.render=ei,h.destroy=si,h.refetchEvents=ni,h.reportEvents=ci,h.reportEventChange=li,h.rerenderEvents=ot,h.changeView=wt,h.select=ai,h.unselect=st,h.prev=vi,h.next=yi,h.prevYear=pi,h.nextYear=wi,h.today=bi,h.gotoDate=ki,h.incrementDate=nr,h.formatDate=function(n,t){return c(n,t,f)},h.formatDates=function(n,t,i){return ft(n,t,i,f)},h.getDate=tr,h.getView=ir,h.option=rr,h.trigger=ur,gi.call(h,f,e);var ii=h.isFetchNeeded,ri=h.fetchEvents,it=u[0],w,b,l,fi,o,rt={},ht,d,ut,vt=0,v=0,a=new Date,ct=[],g;kt(a,f.year,f.month,f.date),f.droppable&&n(document).bind("dragstart",function(t,i){var u=t.target,e=n(u),r;e.parents(".fc").length||(r=f.dropAccept,(n.isFunction(r)?r.call(u,e):e.is(r))&&(g=u,o.dragStart(g,t,i)))}).bind("dragstop",function(n,t){g&&(o.dragStop(g,n,t),g=null)})}function di(t,i){function o(){r=i.theme?"ui":"fc";var t=i.header;if(t)return u=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(e("left")).append(e("center")).append(e("right")))}function h(){u.remove()}function e(u){var f=n("<td class='fc-header-"+u+"'/>"),e=i.header[u];return e&&n.each(e.split(" "),function(u){u>0&&f.append("<span class='fc-header-space'/>");var e;n.each(this.split(","),function(u,o){var c;if(o=="title")f.append("<span class='fc-header-title'><h2>&nbsp;<\/h2><\/span>"),e&&e.addClass(r+"-corner-right"),e=null;else if(t[o]?c=t[o]:s[o]&&(c=function(){h.removeClass(r+"-state-hover"),t.changeView(o)}),c){var l=i.theme?ht(i.buttonIcons,o):null,a=ht(i.buttonText,o),h=n("<span class='fc-button fc-button-"+o+" "+r+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/><\/span>":a)+"<\/span><span class='fc-button-effect'><span><\/span><\/span><\/span><\/span>");h&&(h.click(function(){h.hasClass(r+"-state-disabled")||c()}).mousedown(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){h.removeClass(r+"-state-down")}).hover(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){h.removeClass(r+"-state-hover").removeClass(r+"-state-down")}).appendTo(f),e||h.addClass(r+"-corner-left"),e=h)}}),e&&e.addClass(r+"-corner-right")}),f}function c(n){u.find("h2").html(n)}function l(n){u.find("span.fc-button-"+n).addClass(r+"-state-active")}function a(n){u.find("span.fc-button-"+n).removeClass(r+"-state-active")}function v(n){u.find("span.fc-button-"+n).addClass(r+"-state-disabled")}function y(n){u.find("span.fc-button-"+n).removeClass(r+"-state-disabled")}var f=this,u,r;f.render=o,f.destroy=h,f.updateTitle=c,f.activateButton=l,f.deactivateButton=a,f.disableButton=v,f.enableButton=y,u=n([])}function gi(r,u){function ht(n,t){return!h||n<h||t>l}function ct(n,t){var u,r,i;for(h=n,l=t,e=[],u=++b,r=s.length,v=r,i=0;i<r;i++)nt(s[i],u)}function nt(n,t){tt(n,function(i){if(t==b){if(i){for(var r=0;r<i.length;r++)i[r].source=n,a(i[r]);e=e.concat(i)}v--,v||c(e)}})}function tt(t,u){for(var a=f.sourceFetchers,o,e,v,s=0;s<a.length;s++){if(o=a[s](t,h,l,u),o===!0)return;if(typeof o=="object"){tt(o,u);return}}if(e=t.events,e)n.isFunction(e)?(ut(),e(i(h),i(l),function(n){u(n),ft()})):n.isArray(e)?u(e):u();else if(v=t.url,v){var b=t.success,k=t.error,d=t.complete,c=n.extend({},t.data||{}),y=w(t.startParam,r.startParam),p=w(t.endParam,r.endParam);y&&(c[y]=Math.round(+h/1e3)),p&&(c[p]=Math.round(+l/1e3)),ut(),n.ajax(n.extend({},yt,t,{data:c,success:function(t){t=t||[];var i=g(b,this,arguments);n.isArray(i)&&(t=i),u(t)},error:function(){g(k,this,arguments),u()},complete:function(){g(d,this,arguments),ft()}}))}else u()}function lt(n){n=it(n),n&&(v++,nt(n,b))}function it(t){return n.isFunction(t)||n.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t}),typeof t=="object"?(dt(t),s.push(t),t):void 0}function at(t){s=n.grep(s,function(n){return!et(n,t)}),e=n.grep(e,function(n){return!et(n.source,t)}),c(e)}function vt(n){for(var f=e.length,t,r=st().defaultEventEnd,o=n.start-n._start,u=n.end?n.end-(n._end||r(n)):0,i=0;i<f;i++)t=e[i],t._id==n._id&&t!=n&&(t.start=new Date(+t.start+o),t.end=n.end?t.end?new Date(+t.end+u):new Date(+r(t)+u):null,t.title=n.title,t.url=n.url,t.allDay=n.allDay,t.className=n.className,t.editable=n.editable,t.draggable=n.draggable,t.resizable=n.resizable,t.color=n.color,t.backgroudColor=n.backgroudColor,t.borderColor=n.borderColor,t.textColor=n.textColor,a(t));a(n),c(e)}function wt(n,t){a(n),n.source||(t&&(p.events.push(n),n.source=p),e.push(n)),c(e)}function bt(t){var r,i;if(t)for(n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),e=n.grep(e,t,!0),i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=n.grep(s[i].events,t,!0));else for(e=[],i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=[]);c(e)}function kt(t){return n.isFunction(t)?n.grep(e,t):t?(t+="",n.grep(e,function(n){return n._id==t})):e}function ut(){d++||k("loading",null,!0)}function ft(){--d||k("loading",null,!1)}function a(n){var u=n.source||{},f=w(u.ignoreTimezone,r.ignoreTimezone);n._id=n._id||(n.id===t?"_fc"+pt++:n.id+""),n.date&&(n.start||(n.start=n.date),delete n.date),n._start=i(n.start=rt(n.start,f)),n.end=rt(n.end,f),n.end&&n.end<=n.start&&(n.end=null),n._end=n.end?i(n.end):null,n.allDay===t&&(n.allDay=w(u.allDayDefault,r.allDayDefault)),n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[]}function dt(n){var i,t;for(n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[],i=f.sourceNormalizers,t=0;t<i.length;t++)i[t](n)}function et(n,t){return n&&t&&ot(n)==ot(t)}function ot(n){return(typeof n=="object"?n.events||n.url:"")||n}var o=this,y;o.isFetchNeeded=ht,o.fetchEvents=ct,o.addEventSource=lt,o.removeEventSource=at,o.updateEvent=vt,o.renderEvent=wt,o.removeEvents=bt,o.clientEvents=kt,o.normalizeEvent=a;var k=o.trigger,st=o.getView,c=o.reportEvents,p={events:[]},s=[p],h,l,b=0,v=0,d=0,e=[];for(y=0;y<u.length;y++)it(u[y])}function nt(n,t,i){return n.setFullYear(n.getFullYear()+t),i||h(n),n}function tt(n,t,r){if(+n){var f=n.getMonth()+t,u=i(n);for(u.setDate(1),u.setMonth(f),n.setMonth(f),r||h(n);n.getMonth()!=u.getMonth();)n.setDate(n.getDate()+(n<u?1:-1))}return n}function r(n,t,r){if(+n){var f=n.getDate()+t,u=i(n);u.setHours(9),u.setDate(f),n.setDate(f),r||h(n),it(n,u)}return n}function it(n,t){if(+n)while(n.getDate()!=t.getDate())n.setTime(+n+(n<t?1:-1)*tr)}function u(n,t){return n.setMinutes(n.getMinutes()+t),n}function h(n){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function i(n,t){return t?h(new Date(+n)):new Date(+n)}function bt(){var t=0,n;do n=new Date(1970,t++,1);while(n.getHours());return n}function o(n,t,i){for(t=t||1;!n.getDay()||i&&n.getDay()==1||!i&&n.getDay()==6;)r(n,t);return n}function e(n,t){return Math.round((i(n,!0)-i(t,!0))/wt)}function kt(n,i,r,u){i!==t&&i!=n.getFullYear()&&(n.setDate(1),n.setMonth(0),n.setFullYear(i)),r!==t&&r!=n.getMonth()&&(n.setDate(1),n.setMonth(r)),u!==t&&n.setDate(u)}function rt(n,i){return typeof n=="object"?n:typeof n=="number"?new Date(n*1e3):typeof n=="string"?n.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(n)*1e3):(i===t&&(i=!0),dt(n,i)||(n?new Date(n):null)):null}function dt(n,t){var i=n.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/),r,u,f;return i?(r=new Date(i[1],0,1),t||!i[13]?(u=new Date(i[1],0,1,9,0),i[3]&&(r.setMonth(i[3]-1),u.setMonth(i[3]-1)),i[5]&&(r.setDate(i[5]),u.setDate(i[5])),it(r,u),i[7]&&r.setHours(i[7]),i[8]&&r.setMinutes(i[8]),i[10]&&r.setSeconds(i[10]),i[12]&&r.setMilliseconds(Number("0."+i[12])*1e3),it(r,u)):(r.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),r.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?Number("0."+i[12])*1e3:0),i[14]&&(f=Number(i[16])*60+(i[18]?Number(i[18]):0),f*=i[15]=="-"?1:-1,r=new Date(+r+f*6e4))),r):null}function ut(n){var t,i;return typeof n=="number"?n*60:typeof n=="object"?n.getHours()*60+n.getMinutes():(t=n.match(/(\d+)(?::(\d+))?\s*(\w+)?/),t?(i=parseInt(t[1],10),t[3]&&(i%=12,t[3].toLowerCase().charAt(0)=="p"&&(i+=12)),i*60+(t[2]?parseInt(t[2],10):0)):void 0)}function c(n,t,i){return ft(n,null,t,i)}function ft(n,t,i,r){var v,h;r=r||b;for(var e=n,a=t,l=i.length,o,u,y,s="",f=0;f<l;f++)if(o=i.charAt(f),o=="'"){for(u=f+1;u<l;u++)if(i.charAt(u)=="'"){e&&(s+=u==f+1?"'":i.substring(f+1,u),f=u);break}}else if(o=="("){for(u=f+1;u<l;u++)if(i.charAt(u)==")"){h=c(e,i.substring(f+1,u),r),parseInt(h.replace(/\D/,""),10)&&(s+=h),f=u;break}}else if(o=="["){for(u=f+1;u<l;u++)if(i.charAt(u)=="]"){v=i.substring(f+1,u),h=c(e,v,r),h!=c(a,v,r)&&(s+=h),f=u;break}}else if(o=="{")e=t,a=n;else if(o=="}")e=n,a=t;else{for(u=l;u>f;u--)if(y=gt[i.substring(f,u)]){e&&(s+=y(e,r)),f=u-1;break}u==f&&e&&(s+=o)}return s}function v(n){return n.end?rr(n.end,n.allDay):r(i(n.start),1)}function rr(n,t){return n=i(n),t||n.getHours()||n.getMinutes()?r(n,1):h(n)}function ur(n,t){return(t.msLength-n.msLength)*100+(n.event.start-t.event.start)}function ni(n,t){return n.end>t.start&&n.start<t.end}function et(n,t,r,u){for(var v=[],y=n.length,c,e,o,s,h,l,a,f=0;f<y;f++)c=n[f],e=c.start,o=t[f],o>r&&e<u&&(e<r?(s=i(r),l=!1):(s=e,l=!0),o>u?(h=i(u),a=!1):(h=o,a=!0),v.push({event:c,start:s,end:h,isStart:l,isEnd:a,msLength:h-s}));return v.sort(ur)}function ot(n){for(var i=[],o=n.length,r,t,e,u,f=0;f<o;f++){for(r=n[f],t=0;;){if(e=!1,i[t])for(u=0;u<i[t].length;u++)if(ni(i[t][u],r)){e=!0;break}if(e)t++;else break}i[t]?i[t].push(r):i[t]=[r]}return i}function ti(i,r,u){i.unbind("mouseover").mouseover(function(i){for(var f=i.target,o,s,e;f!=this;)o=f,f=f.parentNode;(s=o._fci)!==t&&(o._fci=t,e=r[s],u(e.event,e.element,e),n(i.target).trigger(i)),i.stopPropagation()})}function y(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.width(Math.max(0,i-st(f,r)))}function ii(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.height(Math.max(0,i-p(f,r)))}function st(n,t){return fr(n)+or(n)+(t?er(n):0)}function fr(t){return(parseFloat(n.css(t[0],"paddingLeft",!0))||0)+(parseFloat(n.css(t[0],"paddingRight",!0))||0)}function er(t){return(parseFloat(n.css(t[0],"marginLeft",!0))||0)+(parseFloat(n.css(t[0],"marginRight",!0))||0)}function or(t){return(parseFloat(n.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(n.css(t[0],"borderRightWidth",!0))||0)}function p(n,t){return sr(n)+hr(n)+(t?ri(n):0)}function sr(t){return(parseFloat(n.css(t[0],"paddingTop",!0))||0)+(parseFloat(n.css(t[0],"paddingBottom",!0))||0)}function ri(t){return(parseFloat(n.css(t[0],"marginTop",!0))||0)+(parseFloat(n.css(t[0],"marginBottom",!0))||0)}function hr(t){return(parseFloat(n.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(n.css(t[0],"borderBottomWidth",!0))||0)}function k(n,t){t=typeof t=="number"?t+"px":t,n.each(function(n,i){i.style.cssText+=";min-height:"+t+";_height:"+t})}function ui(){}function fi(n,t){return n-t}function ei(n){return Math.max.apply(Math,n)}function l(n){return(n<10?"0":"")+n}function ht(n,i){if(n[i]!==t)return n[i];for(var f=i.split(/(?=[A-Z])/),r=f.length-1,u;r>=0;r--)if(u=n[f[r].toLowerCase()],u!==t)return u;return n[""]}function a(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function oi(n){return n.id+"/"+n.className+"/"+n.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function ct(n){n.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function d(n){n.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function lt(n,t){n.each(function(n,i){i.className=i.className.replace(/^fc-\w*/,"fc-"+nr[t.getDay()])})}function si(n,t){var i=n.source||{},u=n.color,f=i.color,e=t("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t("eventBorderColor")||e,h=n.textColor||i.textColor||t("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")}function g(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function w(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==t)return arguments[n]}function cr(n,t){function h(n,t){var h,v;t&&(tt(n,t),n.setDate(1)),h=i(n,!0),h.setDate(1);var y=tt(i(h),1),l=i(h),c=i(y),p=f("firstDay"),a=f("weekends")?0:1;a&&(o(l),o(c,-1,!0)),r(l,-((l.getDay()-Math.max(p,a)+7)%7)),r(c,(7-c.getDay()+Math.max(p,a))%7),v=Math.round((c-l)/(wt*7)),f("weekMode")=="fixed"&&(r(c,(6-v)*7),v=6),u.title=s(h,f("titleFormat")),u.start=h,u.end=y,u.visStart=l,u.visEnd=c,e(6,v,a?5:7,!0)}var u=this;u.render=h,at.call(u,n,t,"month");var f=u.opt,e=u.renderBasic,s=t.formatDate}function lr(n,t){function h(n,t){t&&r(n,t*7);var h=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(h),7),c=i(h),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0)),u.title=s(c,r(i(l),-1),f("titleFormat")),u.start=h,u.end=a,u.visStart=c,u.visEnd=l,e(1,1,v?7:5,!1)}var u=this;u.render=h,at.call(u,n,t,"basicWeek");var f=u.opt,e=u.renderBasic,s=t.formatDates}function ar(n,t){function h(n,t){t&&(r(n,t),f("weekends")||o(n,t<0?-1:1)),u.title=s(n,f("titleFormat")),u.start=u.visStart=i(n,!0),u.end=u.visEnd=r(i(u.start),1),e(1,1,1,!1)}var u=this;u.render=h,at.call(u,n,t,"basicDay");var f=u.opt,e=u.renderBasic,s=t.formatDate}function at(t,u,f){function bi(n,t,i,r){c=t,s=i,ki();var u=!it;u?di(n,r):oi(),gi(u)}function ki(){at=l("isRTL"),at?(v=-1,w=s-1):(v=1,w=0),kt=l("firstDay"),dt=l("weekends")?0:1,nt=l("theme")?"ui":"fc",gt=l("columnFormat")}function di(i,r){for(var h=nt+"-widget-header",c=nt+"-widget-content",e,o,u="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",f=0;f<s;f++)u+="<th class='fc- "+h+"'/>";for(u+="<\/tr><\/thead><tbody>",f=0;f<i;f++){for(u+="<tr class='fc-week"+f+"'>",e=0;e<s;e++)u+="<td class='fc- "+c+" fc-day"+(f*s+e)+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";u+="<\/tr>"}u+="<\/tbody><\/table>",o=n(u).appendTo(t),b=o.find("thead"),tt=b.find("th"),it=o.find("tbody"),a=it.find("tr"),g=it.find("td"),yt=g.filter(":first-child"),pt=a.eq(0).find("div.fc-day-content div"),d(b.add(b.find("tr"))),d(a),a.eq(0).addClass("fc-first"),ni(g),wt=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function gi(t){var f=t||c==1,e=o.start.getMonth(),s=h(new Date),i,r,u;f&&tt.each(function(t,u){i=n(u),r=vt(t),i.html(li(r,gt)),lt(i,r)}),g.each(function(t,u){i=n(u),r=vt(t),r.getMonth()==e?i.removeClass("fc-other-month"):i.addClass("fc-other-month"),+r==+s?i.addClass(nt+"-state-highlight fc-today"):i.removeClass(nt+"-state-highlight fc-today"),i.find("div.fc-day-number").text(r.getDate()),f&&lt(i,r)}),a.each(function(t,i){u=n(i),t<c?(u.show(),t==c-1?u.addClass("fc-last"):u.removeClass("fc-last")):u.hide()})}function nr(t){bt=t;var r=bt-b.height(),i,u,f;l("weekMode")=="variable"?i=u=Math.floor(r/(c==1?2:6)):(i=Math.floor(r/c),u=r-i*(c-1)),yt.each(function(t,r){t<c&&(f=n(r),k(f.find("> div"),(t==c-1?u:i)-p(f)))})}function tr(n){st=n,ft.clear(),ht=Math.floor(st/s),y(tt.slice(0,-1),ht)}function ni(n){n.click(ir).mousedown(hi)}function ir(n){if(!l("selectable")){var t=parseInt(this.className.match(/fc\-day(\d+)/)[1]),i=vt(t);et("dayClick",this,i,!0,n)}}function ti(n,t,u){var f,y,h,l,a,p,b;for(u&&rt.build(),f=i(o.visStart),y=r(i(f),s),h=0;h<c;h++)l=new Date(Math.max(f,n)),a=new Date(Math.min(y,t)),l<a&&(at?(p=e(a,f)*v+w+1,b=e(l,f)*v+w+1):(p=e(l,f),b=e(a,f)),ni(ii(h,p,h,b-1))),r(f,7),r(y,7)}function ii(n,i,r,u){var f=rt.rect(n,i,r,u,t);return si(f,t)}function rr(n){return i(n)}function ur(n,t){ti(n,r(i(t),1),!0)}function fr(){ot()}function er(n,t,i){var r=ri(n),u=g[r.row*s+r.col];et("dayClick",u,n,t,i)}function or(n,t){ut.start(function(n){ot(),n&&ii(n.row,n.col,n.row,n.col)},t)}function sr(n,t,i){var r=ut.stop(),u;ot(),r&&(u=ui(r),et("drop",n,u,!0,t,i))}function hr(n){return i(n.start)}function cr(n){return ft.left(n)}function lr(n){return ft.right(n)}function ri(n){return{row:Math.floor(e(n,o.visStart)/7),col:ei(n.getDay())}}function ui(n){return fi(n.row,n.col)}function fi(n,t){return r(i(o.visStart),n*7+t*v+w)}function vt(n){return fi(Math.floor(n/s),n%s)}function ei(n){return(n-Math.max(kt,dt)+s)%s*v+w}function ar(n){return a.eq(n)}function yr(){return{left:0,right:st}}var o=this;o.renderBasic=bi,o.setHeight=nr,o.setWidth=tr,o.renderDayOverlay=ti,o.defaultSelectionEnd=rr,o.renderSelection=ur,o.clearSelection=fr,o.reportDayClick=er,o.dragStart=or,o.dragStop=sr,o.defaultEventEnd=hr,o.getHoverListener=function(){return ut},o.colContentLeft=cr,o.colContentRight=lr,o.dayOfWeekCol=ei,o.dateCell=ri,o.cellDate=ui,o.cellIsAllDay=function(){return!0},o.allDayRow=ar,o.allDayBounds=yr,o.getRowCnt=function(){return c},o.getColCnt=function(){return s},o.getColWidth=function(){return ht},o.getDaySegmentContainer=function(){return wt},ci.call(o,t,u,f),vi.call(o),ai.call(o),vr.call(o);var l=o.opt,et=o.trigger,oi=o.clearEvents,si=o.renderOverlay,ot=o.clearOverlays,hi=o.daySelectionMousedown,li=u.formatDate,b,tt,it,a,g,yt,pt,wt,st,bt,ht,c,s,rt,ut,ft,at,v,w,kt,dt,nt,gt;ct(t.addClass("fc-grid")),rt=new yi(function(t,i){var f,r,u;tt.each(function(t,e){f=n(e),r=f.offset().left,t&&(u[1]=r),u=[r],i[t]=u}),u[1]=r+f.outerWidth(),a.each(function(i,e){i<c&&(f=n(e),r=f.offset().top,i&&(u[1]=r),u=[r],t[i]=u)}),u[1]=r+f.outerHeight()}),ut=new pi(rt),ft=new wi(function(n){return pt.eq(n)})}function vr(){function rt(n,t){c(n),tt(o(n),t)}function ut(){l(),b().empty()}function o(u){for(var p=g(),w=nt(),h=i(t.visStart),a=r(i(h),w),b=n.map(u,v),c,f,l,e,o,y=[],s=0;s<p;s++){for(c=ot(et(u,b,h,a)),f=0;f<c.length;f++)for(l=c[f],e=0;e<l.length;e++)o=l[e],o.row=s,o.level=f,y.push(o);r(h,7),r(a,7)}return y}function ft(n,t,i){s(n)&&st(n,t),i.isEnd&&h(n)&&it(n,t,i),a(n,t)}function st(n,t){var s=k(),o;t.draggable({zIndex:9,delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(h,c){f("eventDragStart",t,n,h,c),p(n,t),s.start(function(f,s,h,c){t.draggable("option","revert",!f||!h&&!c),e(),f?(o=h*7+c*(u("isRTL")?-1:1),d(r(i(n.start),o),r(v(n),o))):o=0},h,"drag")},stop:function(i,r){s.stop(),e(),f("eventDragStop",t,n,i,r),o?w(this,n,o,0,n.allDay,i,r):(t.css("filter",""),y(n,t))}})}var t=this;t.renderEvents=rt,t.compileDaySegs=o,t.clearEvents=ut,t.bindDaySeg=ft,li.call(t);var u=t.opt,f=t.trigger,s=t.isEventDraggable,h=t.isEventResizable,c=t.reportEvents,l=t.reportEventClear,a=t.eventElementHandlers,y=t.showEvents,p=t.hideEvents,w=t.eventDrop,b=t.getDaySegmentContainer,k=t.getHoverListener,d=t.renderDayOverlay,e=t.clearOverlays,g=t.getRowCnt,nt=t.getColCnt,tt=t.renderDaySegs,it=t.resizableDayEvent}function yr(n,t){function h(n,t){t&&r(n,t*7);var h=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(h),7),c=i(h),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0)),u.title=s(c,r(i(l),-1),f("titleFormat")),u.start=h,u.end=a,u.visStart=c,u.visEnd=l,e(v?7:5)}var u=this;u.render=h,hi.call(u,n,t,"agendaWeek");var f=u.opt,e=u.renderAgenda,s=t.formatDates}function pr(n,t){function h(n,t){t&&(r(n,t),f("weekends")||o(n,t<0?-1:1));var h=i(n,!0),c=r(i(h),1);u.title=s(n,f("titleFormat")),u.start=u.visStart=h,u.end=u.visEnd=c,e(1)}var u=this;u.render=h,hi.call(u,n,t,"agendaDay");var f=u.opt,e=u.renderAgenda,s=t.formatDate}function hi(f,o,s){function hu(n){a=n,cu(),ot?uu():lu(),au()}function cu(){kt=l("theme")?"ui":"fc",vr=l("weekends")?0:1,ar=l("firstDay"),(yr=l("isRTL"))?(g=-1,nt=a-1):(g=1,nt=0),et=ut(l("minTime")),si=ut(l("maxTime")),pr=l("columnFormat")}function lu(){for(var e=kt+"-widget-header",s=kt+"-widget-content",o,c,h,y=l("slotMinutes")%15==0,t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;r<a;r++)t+="<th class='fc- fc-col"+r+" "+e+"'/>";for(t+="<th class='fc-agenda-gutter "+e+"'>&nbsp;<\/th><\/tr><\/thead><tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;r<a;r++)t+="<td class='fc- fc-col"+r+" "+s+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";for(t+="<td class='fc-agenda-gutter "+s+"'>&nbsp;<\/td><\/tr><\/tbody><\/table>",ot=n(t).appendTo(f),yt=ot.find("thead"),ni=yt.find("th").slice(1,-1),pt=ot.find("tbody"),tt=pt.find("td").slice(0,-1),fr=tt.find("div.fc-day-content div"),bi=tt.eq(0),er=bi.find("> div"),d(yt.add(yt.find("tr"))),d(pt.add(pt.find("tr"))),st=yt.find("th:first"),ht=ot.find(".fc-agenda-gutter"),k=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(f),l("allDaySlot")?(ki=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(k),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+e+" fc-agenda-axis'>"+l("allDayText")+"<\/th><td><div class='fc-day-content'><div style='position:relative'/><\/div><\/td><th class='"+e+" fc-agenda-gutter'>&nbsp;<\/th><\/tr><\/table>",ti=n(t).appendTo(k),ri=ti.find("tr"),br(ri.find("td")),st=st.add(ti.find("th:first")),ht=ht.add(ti.find("th.fc-agenda-gutter")),k.append("<div class='fc-agenda-divider "+e+"'><div class='fc-agenda-divider-inner'/><\/div>")):ki=n([]),v=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(k),b=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(v),or=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=bt(),c=u(i(o),si),u(o,et),di=0,r=0;o<c;r++)h=o.getMinutes(),t+="<tr class='fc-slot"+r+" "+(h?"fc-minor":"")+"'><th class='fc-agenda-axis "+e+"'>"+(!y||!h?ur(o,l("axisFormat")):"&nbsp;")+"<\/th><td class='"+s+"'><div style='position:relative'>&nbsp;<\/div><\/td><\/tr>",u(o,l("slotMinutes")),di++;t+="<\/tbody><\/table>",it=n(t).appendTo(b),sr=it.find("div:first"),nr(it.find("td")),st=st.add(it.find("th:first"))}function au(){for(var r,t,i,u=h(new Date),n=0;n<a;n++)i=tr(n),r=ni.eq(n),r.html(ur(i,pr)),t=tt.eq(n),+i==+u?t.addClass(kt+"-state-highlight fc-today"):t.removeClass(kt+"-state-highlight fc-today"),lt(r.add(t),i)}function vu(n,i){n===t&&(n=cr),cr=n,gi={};var r=pt.position().top,u=v.position().top,f=Math.min(n-r,it.height()+u+1);er.height(f-p(bi)),k.css("top",r),v.height(f-u-1),wt=sr.height()+1,i&&pu()}function yu(t){hr=t,oi.clear(),rt=0,y(st.width("").each(function(t,i){rt=Math.max(rt,n(i).outerWidth())}),rt);var i=v[0].clientWidth;ei=v.width()-i,ei?(y(ht,ei),ht.show().prev().removeClass("fc-last")):ht.hide().prev().addClass("fc-last"),ui=Math.floor((i-rt)/a),y(ni.slice(0,-1),ui)}function pu(){function u(){v.scrollTop(r)}var n=bt(),t=i(n),r;t.setHours(l("firstHour")),r=vt(n,t)+1,u(),setTimeout(u,0)}function wu(){lr=v.scrollTop()}function bu(){v.scrollTop(lr)}function br(n){n.click(kr).mousedown(ou)}function nr(n){n.click(kr).mousedown(ef)}function kr(n){var r,f;if(!l("selectable")){var i=Math.min(a-1,Math.floor((n.pageX-ot.offset().left-rt)/ui)),t=tr(i),u=this.parentNode.className.match(/fc-slot(\d+)/);u?(r=parseInt(u[1])*l("slotMinutes"),f=Math.floor(r/60),t.setHours(f),t.setMinutes(r%60+et),gt("dayClick",tt[i],t,!1,n)):gt("dayClick",tt[i],t,!0,n)}}function dr(n,t,r){r&&ft.build();var o=i(c.visStart),u,f;yr?(u=e(t,o)*g+nt+1,f=e(n,o)*g+nt+1):(u=e(n,o),f=e(t,o)),u=Math.max(0,u),f=Math.min(a,f),u<f&&br(gr(0,u,0,f-1))}function gr(n,t,i,r){var u=ft.rect(n,t,i,r,k);return rr(u,k)}function nu(n,t){for(var u=i(c.visStart),h=r(i(u),1),e,o,f=0;f<a;f++){if(e=new Date(Math.max(u,n)),o=new Date(Math.min(h,t)),e<o){var l=f*g+nt,s=ft.rect(0,l,0,l,b),v=vt(u,e),y=vt(u,o);s.top=v,s.height=y-v,nr(rr(s,b))}r(u,1),r(h,1)}}function ku(n){return oi.left(n)}function du(n){return oi.right(n)}function gu(n){return{row:Math.floor(e(n,c.visStart)/7),col:ir(n.getDay())}}function dt(n){var i=tr(n.col),t=n.row;return l("allDaySlot")&&t--,t>=0&&u(i,et+t*l("slotMinutes")),i}function tr(n){return r(i(c.visStart),n*g+nt)}function hi(n){return l("allDaySlot")&&!n.row}function ir(n){return(n-Math.max(ar,vr)+a)%a*g+nt}function vt(n,r){if(n=i(n,!0),r<u(i(n),et))return 0;if(r>=u(i(n),si))return it.height();var f=l("slotMinutes"),s=r.getHours()*60+r.getMinutes()-et,e=Math.floor(s/f),o=gi[e];return o===t&&(o=gi[e]=it.find("tr:eq("+e+") td div")[0].offsetTop),Math.max(0,Math.round(o-1+wt*(s%f/f)))}function nf(){return{left:rt,right:hr-ei}}function tf(){return ri}function rf(n){var t=i(n.start);return n.allDay?t:u(t,l("defaultEventMinutes"))}function uf(n,t){return t?i(n):u(i(n),l("slotMinutes"))}function ff(n,t,u){u?l("allDaySlot")&&dr(n,r(i(t),1),!0):tu(n,t)}function tu(t,i){var f=l("selectHelper"),u,s;if(ft.build(),f){if(u=e(t,c.visStart)*g+nt,u>=0&&u<a){var r=ft.rect(0,u,0,u,b),o=vt(t,t),h=vt(t,i);h>o&&(r.top=o,r.height=h-o,r.left+=2,r.width-=5,n.isFunction(f)?(s=f(t,i),s&&(r.position="absolute",r.zIndex=8,w=n(s).css(r).appendTo(b))):(r.isStart=!0,r.isEnd=!0,w=n(su({title:"",start:t,end:i,className:["fc-select-helper"],editable:!1},r)),w.css("opacity",l("dragOpacity"))),w&&(nr(w),b.append(w),y(w,r.width,!0),ii(w,r.height,!0)))}}else nu(t,i)}function iu(){li(),w&&(w.remove(),w=null)}function ef(t){if(t.which==1&&l("selectable")){eu(t);var r;at.start(function(n,t){if(iu(),n&&n.col==t.col&&!hi(n)){var f=dt(t),e=dt(n);r=[f,u(i(f),l("slotMinutes")),e,u(i(e),l("slotMinutes"))].sort(fi),tu(r[0],r[3])}else r=null},t);n(document).one("mouseup",function(n){at.stop(),r&&(+r[0]==+r[1]&&ru(r[0],!1,n),fu(r[0],r[3],!1,n))})}}function ru(n,t,i){gt("dayClick",tt[ir(n.getDay())],n,t,i)}function of(n,t){at.start(function(n){if(li(),n)if(hi(n))gr(n.row,n.col,n.row,n.col);else{var t=dt(n),r=u(i(t),l("defaultEventMinutes"));nu(t,r)}},t)}function sf(n,t,i){var r=at.stop();li(),r&&gt("drop",n,dt(r),hi(r),t,i)}var c=this;c.renderAgenda=hu,c.setWidth=yu,c.setHeight=vu,c.beforeHide=wu,c.afterShow=bu,c.defaultEventEnd=rf,c.timePosition=vt,c.dayOfWeekCol=ir,c.dateCell=gu,c.cellDate=dt,c.cellIsAllDay=hi,c.allDayRow=tf,c.allDayBounds=nf,c.getHoverListener=function(){return at},c.colContentLeft=ku,c.colContentRight=du,c.getDaySegmentContainer=function(){return ki},c.getSlotSegmentContainer=function(){return or},c.getMinMinute=function(){return et},c.getMaxMinute=function(){return si},c.getBodyContent=function(){return b},c.getRowCnt=function(){return 1},c.getColCnt=function(){return a},c.getColWidth=function(){return ui},c.getSlotHeight=function(){return wt},c.defaultSelectionEnd=uf,c.renderDayOverlay=dr,c.renderSelection=ff,c.clearSelection=iu,c.reportDayClick=ru,c.dragStart=of,c.dragStop=sf,ci.call(c,f,o,s),vi.call(c),ai.call(c),wr.call(c);var l=c.opt,gt=c.trigger,uu=c.clearEvents,rr=c.renderOverlay,li=c.clearOverlays,fu=c.reportSelection,eu=c.unselect,ou=c.daySelectionMousedown,su=c.slotSegHtml,ur=o.formatDate,ot,yt,ni,pt,tt,fr,bi,er,k,ki,ti,ri,v,b,or,it,sr,st,ht,w,hr,cr,rt,ui,ei,wt,lr,a,di,ft,at,oi,gi={},kt,ar,vr,yr,g,nt,et,si,pr;ct(f.addClass("fc-agenda")),ft=new yi(function(t,i){function h(n){return Math.max(s,Math.min(c,n))}var u,r,e,f;ni.each(function(t,f){u=n(f),r=u.offset().left,t&&(e[1]=r),e=[r],i[t]=e}),e[1]=r+u.outerWidth(),l("allDaySlot")&&(u=ri,r=u.offset().top,t[0]=[r,r+u.outerHeight()]);var o=b.offset().top,s=v.offset().top,c=s+v.outerHeight();for(f=0;f<di;f++)t.push([h(o+wt*f),h(o+wt*(f+1))])}),at=new pi(ft),oi=new wi(function(n){return fr.eq(n)})}function wr(){function ci(n,t){yt(n);for(var f=n.length,r=[],u=[],i=0;i<f;i++)n[i].allDay?r.push(n[i]):u.push(n[i]);e("allDaySlot")&&(ni(ct(r),t),wt()),pi(vi(u),t)}function ai(){pt(),bt().empty(),g().empty()}function ct(t){for(var o=ot(et(t,n.map(t,v),f.visStart,f.visEnd)),h=o.length,e,r,u,s=[],i=0;i<h;i++)for(e=o[i],r=0;r<e.length;r++)u=e[r],u.row=0,u.level=i,s.push(u);return s}function vi(t){for(var w=l(),y=tt(),b=kt(),a=u(i(f.visStart),y),k=n.map(t,yi),o,e,v,s,h,p=[],c=0;c<w;c++){for(o=ot(et(t,k,a,u(i(a),b-y))),br(o),e=0;e<o.length;e++)for(v=o[e],s=0;s<v.length;s++)h=v[s],h.col=c,h.level=e,p.push(h);r(a,1,!0)}return p}function yi(n){return n.end?i(n.end):u(i(n.start),e("defaultEventMinutes"))}function pi(i,r){var s,d=i.length,u,h,ii,ut,ct,ft,v,y,et,c,w,vt,yt="",pt,f,b,wt={},bt={},nt,a,ot,ht,tt=g(),kt,k,rt,ni=l();for((kt=e("isRTL"))?(k=-1,rt=ni-1):(k=1,rt=0),s=0;s<d;s++)u=i[s],h=u.event,ut=it(u.start,u.start),ct=it(u.start,u.end),ft=u.col,v=u.level,y=u.forward||0,et=dt(ft*k+rt),c=gt(ft*k+rt)-et,c=Math.min(c-6,c*.95),w=v?c/(v+y+1):y?(c/(y+1)-6)*2:c,vt=et+c/(v+y+1)*v*k+(kt?c-w:0),u.top=ut,u.left=vt,u.outerWidth=w,u.outerHeight=ct-ut,yt+=lt(h,u);for(tt[0].innerHTML=yt,pt=tt.children(),s=0;s<d;s++)u=i[s],h=u.event,f=n(pt[s]),b=o("eventRender",h,h,f),b===!1?f.remove():(b&&b!==!0&&(f.remove(),f=n(b).css({position:"absolute",top:u.top,left:u.left}).appendTo(tt)),u.element=f,h._id===r?at(h,f,u):f[0]._fci=s,fi(h,f));for(ti(tt,i,at),s=0;s<d;s++)u=i[s],(f=u.element)&&(a=wt[nt=u.key=oi(f[0])],u.vsides=a===t?wt[nt]=p(f,!0):a,a=bt[nt],u.hsides=a===t?bt[nt]=st(f,!0):a,ot=f.find("div.fc-event-content"),ot.length&&(u.contentTop=ot[0].offsetTop));for(s=0;s<d;s++)u=i[s],(f=u.element)&&(f[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px",ht=Math.max(0,u.outerHeight-u.vsides),f[0].style.height=ht+"px",h=u.event,u.contentTop!==t&&ht-u.contentTop<10&&(f.find("div.fc-event-time").text(hi(h.start,e("timeFormat"))+" - "+h.title),f.find("div.fc-event-title").remove()),o("eventAfterRender",h,h,f))}function lt(n,t){var r="<",f=n.url,u=si(n,e),o=u?" style='"+u+"'":"",i=["fc-event","fc-event-skin","fc-event-vert"];return h(n)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-corner-top"),t.isEnd&&i.push("fc-corner-bottom"),i=i.concat(n.className),n.source&&(i=i.concat(n.source.className||[])),r+=f?"a href='"+a(n.url)+"'":"div",r+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+u+"'><div class='fc-event-inner fc-event-skin'"+o+"><div class='fc-event-head fc-event-skin'"+o+"><div class='fc-event-time'>"+a(k(n.start,n.end,e("timeFormat")))+"<\/div><\/div><div class='fc-event-content'><div class='fc-event-title'>"+a(n.title)+"<\/div><\/div><div class='fc-event-bg'><\/div><\/div>",t.isEnd&&c(n)&&(r+="<div class='ui-resizable-handle ui-resizable-s'>=<\/div>"),r+="<\/"+(f?"a":"div")+">"}function wi(n,t,i){h(n)&&bi(n,t,i.isStart),i.isEnd&&c(n)&&ri(n,t,i),d(n,t)}function at(n,t,i){var r=t.find("div.fc-event-time");h(n)&&ki(n,t,r),i.isEnd&&c(n)&&di(n,t,r),d(n,t)}function bi(n,t,u){function l(){h||(t.width(a).height("").draggable("option","grid",null),h=!0)}var a,f,h=!0,c,g=e("isRTL")?-1:1,p=nt(),k=rt(),d=y(),it=tt();t.draggable({zIndex:9,opacity:e("dragOpacity","month"),revertDuration:e("dragRevertDuration"),start:function(y,w){o("eventDragStart",t,n,y,w),b(n,t),a=t.width(),p.start(function(o,a,y,p){s(),o?(f=!1,c=p*g,o.row?u?h&&(t.width(k-10),ii(t,d*Math.round((n.end?(n.end-n.start)/ir:e("defaultEventMinutes"))/e("slotMinutes"))),t.draggable("option","grid",[k,1]),h=!1):f=!0:(ft(r(i(n.start),c),r(v(n),c)),l()),f=f||h&&!c):(l(),f=!0),t.draggable("option","revert",f)},y,"drag")},stop:function(i,r){if(p.stop(),s(),o("eventDragStop",t,n,i,r),f)l(),t.css("filter",""),w(n,t);else{var u=0;h||(u=Math.round((t.offset().top-ui().offset().top)/d)*e("slotMinutes")+it-(n.start.getHours()*60+n.start.getMinutes())),ut(this,n,c,u,h,i,r)}}})}function ki(n,t,f){function et(t){var o=u(i(n.start),t),r;n.end&&(r=u(i(n.end),t)),f.text(k(o,r,e("timeFormat")))}function ot(){h&&(f.css("display",""),t.draggable("option","grid",[it,g]),h=!1)}var p,h=!1,a,c,d,st=e("isRTL")?-1:1,tt=nt(),ht=l(),it=rt(),g=y();t.draggable({zIndex:9,scroll:!1,grid:[it,g],axis:ht==1?"y":!1,opacity:e("dragOpacity"),revertDuration:e("dragRevertDuration"),start:function(u,l){o("eventDragStart",t,n,u,l),b(n,t),p=t.position(),c=d=0,tt.start(function(u,o,c,l){t.draggable("option","revert",!u),s(),u&&(a=l*st,e("allDaySlot")&&!u.row?(h||(h=!0,f.hide(),t.draggable("option","grid",null)),ft(r(i(n.start),a),r(v(n),a))):ot())},u,"drag")},drag:function(n,t){c=Math.round((t.position.top-p.top)/g)*e("slotMinutes"),c!=d&&(h||et(c),d=c)},stop:function(i,r){var u=tt.stop();s(),o("eventDragStop",t,n,i,r),u&&(a||c||h)?ut(this,n,a,h?0:c,h,i,r):(ot(),t.css("filter",""),t.css(p),et(0),w(n,t))}})}function di(n,t,i){var r,f,s=y();t.resizable({handles:{s:"div.ui-resizable-s"},grid:s,start:function(i,u){r=f=0,b(n,t),t.css("z-index",9),o("eventResizeStart",this,n,i,u)},resize:function(o,h){r=Math.round((Math.max(s,t.height())-h.originalSize.height)/s),r!=f&&(i.text(k(n.start,!r&&!n.end?null:u(vt(n),e("slotMinutes")*r),e("timeFormat"))),f=r)},stop:function(i,u){o("eventResizeStop",this,n,i,u),r?ei(this,n,0,e("slotMinutes")*r,i,u):(t.css("z-index",8),w(n,t))}})}var f=this;f.renderEvents=ci,f.compileDaySegs=ct,f.clearEvents=ai,f.slotSegHtml=lt,f.bindDaySeg=wi,li.call(f);var e=f.opt,o=f.trigger,h=f.isEventDraggable,c=f.isEventResizable,vt=f.eventEnd,yt=f.reportEvents,pt=f.reportEventClear,d=f.eventElementHandlers,wt=f.setHeight,bt=f.getDaySegmentContainer,g=f.getSlotSegmentContainer,nt=f.getHoverListener,kt=f.getMaxMinute,tt=f.getMinMinute,it=f.timePosition,dt=f.colContentLeft,gt=f.colContentRight,ni=f.renderDaySegs,ri=f.resizableDayEvent,l=f.getColCnt,rt=f.getColWidth,y=f.getSlotHeight,ui=f.getBodyContent,fi=f.reportEventElement,w=f.showEvents,b=f.hideEvents,ut=f.eventDrop,ei=f.eventResize,ft=f.renderDayOverlay,s=f.clearOverlays,ht=f.calendar,hi=ht.formatDate,k=ht.formatDates}function br(n){for(var i,r,f,e,u,t=n.length-1;t>0;t--)for(f=n[t],i=0;i<f.length;i++)for(e=f[i],r=0;r<n[t-1].length;r++)u=n[t-1][r],ni(e,u)&&(u.forward=Math.max(u.forward||0,(e.forward||0)+1))}function ci(n,f,e){function a(n,t){var i=v[n];return typeof i=="object"?ht(i,t||e):i}function h(n,t){return f.trigger.apply(f,[n,t||o].concat(Array.prototype.slice.call(arguments,2),[o]))}function it(n){return b(n)&&!a("disableDragging")}function rt(n){return b(n)&&!a("disableResizing")}function b(n){return w(n.editable,(n.source||{}).editable,a("editable"))}function ut(n){s={};for(var r=n.length,t,i=0;i<r;i++)t=n[i],s[t._id]?s[t._id].push(t):s[t._id]=[t]}function k(n){return n.end?i(n.end):tt(n)}function ft(n,t){p.push(t),c[n._id]?c[n._id].push(t):c[n._id]=[t]}function et(){p=[],c={}}function ot(n,t){t.click(function(i){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return h("eventClick",this,n,i)}).hover(function(t){h("eventMouseover",this,n,t)},function(t){h("eventMouseout",this,n,t)})}function st(n,t){d(n,t,"show")}function ct(n,t){d(n,t,"hide")}function d(n,t,i){for(var u=c[n._id],f=u.length,r=0;r<f;r++)t&&u[r][0]==t[0]||u[r][i]()}function lt(n,t,i,r,u,f,e){var c=t.allDay,o=t._id;g(s[o],i,r,u),h("eventDrop",n,t,i,r,u,function(){g(s[o],-i,-r,c),l(o)},f,e),l(o)}function at(n,t,i,r,u,f){var e=t._id;nt(s[e],i,r),h("eventResize",n,t,i,r,function(){nt(s[e],-i,-r),l(e)},u,f),l(e)}function g(n,i,f,e){f=f||0;for(var o,h=n.length,s=0;s<h;s++)o=n[s],e!==t&&(o.allDay=e),u(r(o.start,i,!0),f),o.end&&(o.end=u(r(o.end,i,!0),f)),y(o,v)}function nt(n,t,i){i=i||0;for(var f,o=n.length,e=0;e<o;e++)f=n[e],f.end=u(r(k(f),t,!0),i),y(f,v)}var o=this;o.element=n,o.calendar=f,o.name=e,o.opt=a,o.trigger=h,o.isEventDraggable=it,o.isEventResizable=rt,o.reportEvents=ut,o.eventEnd=k,o.reportEventElement=ft,o.reportEventClear=et,o.eventElementHandlers=ot,o.showEvents=st,o.hideEvents=ct,o.eventDrop=lt,o.eventResize=at;var tt=o.defaultEventEnd,y=f.normalizeEvent,l=f.reportEventChange,s={},p=[],c={},v=f.options}function li(){function dt(n,t){var c=v(),l,y=s(),p=h(),a=0,r,rt,u,f,ut=n.length,i,e,o;for(c[0].innerHTML=w(n),b(n,c.children()),ni(n),ii(n,c,t),k(n),d(n),g(n),l=nt(),r=0;r<y;r++){for(rt=0,u=[],f=0;f<p;f++)u[f]=0;while(a<ut&&(i=n[a]).row==r){for(e=ei(u.slice(i.startCol,i.endCol)),i.top=e,e+=i.outerHeight,o=i.startCol;o<i.endCol;o++)u[o]=e;a++}l[r].height(ei(u))}it(n,tt(l))}function gt(t,i,r){var o=n("<div/>"),u,s=v(),f,h=t.length,e;for(o[0].innerHTML=w(t),u=o.children(),s.append(u),b(t,u),k(t),d(t),g(t),it(t,tt(nt())),u=[],f=0;f<h;f++)e=t[f].element,e&&(t[f].row===i&&e.css("top",r),u.push(e[0]));return n(u)}function w(n){for(var b=f("isRTL"),nt=n.length,t,i,v,r,k=vt(),d=k.left,g=k.right,e,s,h,w,y,u="",p=0;p<nt;p++)t=n[p],i=t.event,r=["fc-event","fc-event-skin","fc-event-hori"],rt(i)&&r.push("fc-event-draggable"),b?(t.isStart&&r.push("fc-corner-right"),t.isEnd&&r.push("fc-corner-left"),e=o(t.end.getDay()-1),s=o(t.start.getDay()),h=t.isEnd?c(e):d,w=t.isStart?l(s):g):(t.isStart&&r.push("fc-corner-left"),t.isEnd&&r.push("fc-corner-right"),e=o(t.start.getDay()),s=o(t.end.getDay()-1),h=t.isStart?c(e):d,w=t.isEnd?l(s):g),r=r.concat(i.className),i.source&&(r=r.concat(i.source.className||[])),v=i.url,y=si(i,f),u+=v?"<a href='"+a(v)+"'":"<div",u+=" class='"+r.join(" ")+"' style='position:absolute;z-index:8;left:"+h+"px;"+y+"'><div class='fc-event-inner fc-event-skin'"+(y?" style='"+y+"'":"")+">",!i.allDay&&t.isStart&&(u+="<span class='fc-event-time'>"+a(wt(i.start,i.end,f("timeFormat")))+"<\/span>"),u+="<span class='fc-event-title'>"+a(i.title)+"<\/span><\/div>",t.isEnd&&ut(i)&&(u+="<div class='ui-resizable-handle ui-resizable-"+(b?"w":"e")+"'>&nbsp;&nbsp;&nbsp;<\/div>"),u+="<\/"+(v?"a":"div")+">",t.left=h,t.outerWidth=w-h,t.startCol=e,t.endCol=s+1;return u}function b(t,i){for(var h=t.length,o,s,u,r,f=0;f<h;f++)o=t[f],s=o.event,u=n(i[f]),r=e("eventRender",s,s,u),r===!1?u.remove():(r&&r!==!0&&(r=n(r).css({position:"absolute",left:o.left}),u.replaceWith(r),u=r),o.element=u)}function ni(n){for(var u=n.length,i,r,t=0;t<u;t++)i=n[t],r=i.element,r&&et(i.event,r)}function ii(n,t,i){for(var o=n.length,u,f,e,r=0;r<o;r++)u=n[r],f=u.element,f&&(e=u.event,e._id===i?y(e,f,u):f[0]._fci=r);ti(t,n,y)}function k(n){for(var s=n.length,i,r,e,u,o={},f=0;f<s;f++)i=n[f],r=i.element,r&&(e=i.key=oi(r[0]),u=o[e],u===t&&(u=o[e]=st(r,!0)),i.hsides=u)}function d(n){for(var u=n.length,t,r,i=0;i<u;i++)t=n[i],r=t.element,r&&(r[0].style.width=Math.max(0,t.outerWidth-t.hsides)+"px")}function g(n){for(var s=n.length,i,r,e,u,o={},f=0;f<s;f++)i=n[f],r=i.element,r&&(e=i.key,u=o[e],u===t&&(u=o[e]=ri(r)),i.outerHeight=r[0].offsetHeight+u)}function nt(){for(var i=s(),t=[],n=0;n<i;n++)t[n]=at(n).find("td:first div.fc-day-content > div");return t}function tt(n){for(var r=n.length,i=[],t=0;t<r;t++)i[t]=n[t][0].offsetTop;return i}function it(n,t){for(var o=n.length,i,r,f,u=0;u<o;u++)i=n[u],r=i.element,r&&(r[0].style.top=t[i.row]+(i.top||0)+"px",f=i.event,e("eventAfterRender",f,f,r))}function ui(t,o,c){var l=f("isRTL"),a=l?"w":"e",y=o.find("div.ui-resizable-"+a),v=!1;ct(o),o.mousedown(function(n){n.preventDefault()}).click(function(n){v&&(n.preventDefault(),n.stopImmediatePropagation())}),y.mousedown(function(f){function ut(i){e("eventResizeStop",this,t,i),n("body").css("cursor",""),k.stop(),p(),w&&lt(this,t,w,0,i),setTimeout(function(){v=!1},0)}if(f.which==1){v=!0;var k=u.getHoverListener(),tt=s(),it=h(),d=l?-1:1,g=l?it-1:0,rt=o.css("top"),w,y,nt=n.extend({},t),b=yt(t.start);kt();n("body").css("cursor",a+"-resize").one("mouseup",ut);e("eventResizeStart",this,t,f),k.start(function(n,u){var e,f,o,s;n&&(e=Math.max(b.row,n.row),f=n.col,tt==1&&(e=0),e==b.row&&(f=l?Math.min(b.col,f):Math.max(b.col,f)),w=e*7+f*d+g-(u.row*7+u.col*d+g),o=r(ft(t),w,!0),w?(nt.end=o,s=y,y=gt(pt([nt]),c.row,rt),y.find("*").css("cursor",a+"-resize"),s&&s.remove(),ht(t)):y&&(ot(t),y.remove(),y=null),p(),bt(t.start,r(i(o),1)))},f)}})}var u=this;u.renderDaySegs=dt,u.resizableDayEvent=ui;var f=u.opt,e=u.trigger,rt=u.isEventDraggable,ut=u.isEventResizable,ft=u.eventEnd,et=u.reportEventElement,ot=u.showEvents,ht=u.hideEvents,lt=u.eventResize,s=u.getRowCnt,h=u.getColCnt,fi=u.getColWidth,at=u.allDayRow,vt=u.allDayBounds,c=u.colContentLeft,l=u.colContentRight,o=u.dayOfWeekCol,yt=u.dateCell,pt=u.compileDaySegs,v=u.getDaySegmentContainer,y=u.bindDaySeg,wt=u.calendar.formatDates,bt=u.renderDayOverlay,p=u.clearOverlays,kt=u.clearSelection}function ai(){function c(n,t,i){r(),t||(t=h(n,i)),o(n,t,i),f(n,t,i)}function r(n){u&&(u=!1,s(),e("unselect",null,n))}function f(n,t,i,r){u=!0,e("select",null,n,t,i,r)}function l(u){var h=t.cellDate,l=t.cellIsAllDay,c=t.getHoverListener(),a=t.reportDayClick,v,e;if(u.which==1&&i("selectable")){r(u),v=this,c.start(function(n,t){s(),n&&l(n)?(e=[h(t),h(n)].sort(fi),o(e[0],e[1],!0)):e=null},u);n(document).one("mouseup",function(n){c.stop(),e&&(+e[0]==+e[1]&&a(e[0],!0,n),f(e[0],e[1],!0,n))})}}var t=this;t.select=c,t.unselect=r,t.reportSelection=f,t.daySelectionMousedown=l;var i=t.opt,e=t.trigger,h=t.defaultSelectionEnd,o=t.renderSelection,s=t.clearSelection,u=!1;i("selectable")&&i("unselectAuto")&&n(document).mousedown(function(t){var u=i("unselectCancel");u&&n(t.target).parents(u).length||r(t)})}function vi(){function u(r,u){var f=i.shift();return f||(f=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=u[0]&&f.appendTo(u),t.push(f.css(r).show()),f}function f(){for(var n;n=t.shift();)i.push(n.hide().unbind())}var r=this,t,i;r.renderOverlay=u,r.clearOverlays=f,t=[],i=[]}function yi(n){var r=this,t,i;r.build=function(){t=[],i=[],n(t,i)},r.cell=function(n,r){for(var o=t.length,s=i.length,f=-1,e=-1,u=0;u<o;u++)if(r>=t[u][0]&&r<t[u][1]){f=u;break}for(u=0;u<s;u++)if(n>=i[u][0]&&n<i[u][1]){e=u;break}return f>=0&&e>=0?{row:f,col:e}:null},r.rect=function(n,r,u,f,e){var o=e.offset();return{top:t[n][0]-o.top,left:i[r][0]-o.left,width:i[f][1]-i[r][0],height:t[u][1]-t[n][0]}}}function pi(t){function e(n){kr(n);var u=t.cell(n.pageX,n.pageY);(!u!=!r||u&&(u.row!=r.row||u.col!=r.col))&&(u?(i||(i=u),f(u,i,u.row-i.row,u.col-i.col)):f(u,i),r=u)}var o=this,u,f,i,r;o.start=function(o,s,h){f=o,i=r=null,t.build(),e(s),u=h||"mousemove",n(document).bind(u,e)},o.stop=function(){return n(document).unbind(u,e),r}}function kr(n){n.pageX===t&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY)}function wi(n){function e(t){return f[t]=f[t]||n(t)}var i=this,f={},r={},u={};i.left=function(n){return r[n]=r[n]===t?e(n).position().left:r[n]},i.right=function(n){return u[n]=u[n]===t?i.left(n)+e(n).width():u[n]},i.clear=function(){f={},r={},u={}}}var b={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},bi={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},f=n.fullCalendar={version:"1.5.4"},s=f.views={},yt,pt,gt;n.fn.fullCalendar=function(i){var f,r,u;return typeof i=="string"?(f=Array.prototype.slice.call(arguments,1),this.each(function(){var u=n.data(this,"fullCalendar"),e;u&&n.isFunction(u[i])&&(e=u[i].apply(u,f),r===t&&(r=e),i=="destroy"&&n.removeData(this,"fullCalendar"))}),r!==t)?r:this:(u=i.eventSources||[],delete i.eventSources,i.events&&(u.push(i.events),delete i.events),i=n.extend(!0,{},b,i.isRTL||i.isRTL===t&&b.isRTL?bi:{},i),this.each(function(t,r){var f=n(r),e=new ki(f,i,u);f.data("fullCalendar",e),e.render()}),this)},f.sourceNormalizers=[],f.sourceFetchers=[],yt={dataType:"json",cache:!1},pt=1,f.addDays=r,f.cloneDate=i,f.parseDate=rt,f.parseISO8601=dt,f.parseTime=ut,f.formatDate=c,f.formatDates=ft;var nr=["sun","mon","tue","wed","thu","fri","sat"],wt=864e5,tr=36e5,ir=6e4;gt={s:function(n){return n.getSeconds()},ss:function(n){return l(n.getSeconds())},m:function(n){return n.getMinutes()},mm:function(n){return l(n.getMinutes())},h:function(n){return n.getHours()%12||12},hh:function(n){return l(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return l(n.getHours())},d:function(n){return n.getDate()},dd:function(n){return l(n.getDate())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return l(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},yy:function(n){return(n.getFullYear()+"").substring(2)},yyyy:function(n){return n.getFullYear()},t:function(n){return n.getHours()<12?"a":"p"},tt:function(n){return n.getHours()<12?"am":"pm"},T:function(n){return n.getHours()<12?"A":"P"},TT:function(n){return n.getHours()<12?"AM":"PM"},u:function(n){return c(n,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(n){var t=n.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"}},f.applyAll=g,s.month=cr,s.basicWeek=lr,s.basicDay=ar,vt({weekMode:"fixed"}),s.agendaWeek=yr,s.agendaDay=pr,vt({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);jQuery&&function(){$.extend($.fn,{contextMenu:function(n,t,i){return n.menu==undefined?!1:(n.inSpeed==undefined&&(n.inSpeed=100),n.outSpeed==undefined&&(n.outSpeed=75),n.inSpeed==0&&(n.inSpeed=-1),n.outSpeed==0&&(n.outSpeed=-1),$(this).each(function(){var r=$(this),u=$(r).offset();$("#"+n.menu).addClass("contextMenu"),$(this).mousedown(function(f){var e=f;e.button==2&&e.stopPropagation(),$(this).mouseup(function(f,o){var a=$(this),h,s,c,l;if($(this).unbind("mouseup"),f=o==undefined||o==null?e:o,f.button==2){if($(".contextMenu").hide(),h=$("#"+n.menu),$(r).hasClass("disabled"))return!1;s={},self.innerHeight?(s.pageYOffset=self.pageYOffset,s.pageXOffset=self.pageXOffset,s.innerHeight=self.innerHeight,s.innerWidth=self.innerWidth):document.documentElement&&document.documentElement.clientHeight?(s.pageYOffset=document.documentElement.scrollTop,s.pageXOffset=document.documentElement.scrollLeft,s.innerHeight=document.documentElement.clientHeight,s.innerWidth=document.documentElement.clientWidth):document.body&&(s.pageYOffset=document.body.scrollTop,s.pageXOffset=document.body.scrollLeft,s.innerHeight=document.body.clientHeight,s.innerWidth=document.body.clientWidth),c=f.pageX?f.pageX:f.clientX+s.scrollLeft,l=f.pageY?f.pageY:f.clientY+s.scrollTop,i&&(i($(this)),$(document).unbind("click.contextmenu"),$(h).css({top:l,left:c}).slideDown(n.inSpeed)),$(h).find("A").mouseover(function(){$(h).find("LI.hover").removeClass("hover"),$(this).parent().addClass("hover")}).mouseout(function(){$(h).find("LI.hover").removeClass("hover")}),$("#"+n.menu).find("A").unbind("click"),$("#"+n.menu).find("LI:not(.disabled) A").click(function(){return $(document).unbind("click.contextmenu"),$(".contextMenu").hide(),t&&t($(this).attr("href").substr(1),$(a),{x:c-u.left,y:l-u.top,docX:c,docY:l}),!1}),setTimeout(function(){$(document).bind("click.contextmenu",function(){return $(document).unbind("click.contextmenu"),$(h).fadeOut(n.outSpeed),!0})},0)}})}),$.browser.mozilla?$("#"+n.menu).each(function(){$(this).css({MozUserSelect:"none"})}):$.browser.msie?$("#"+n.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return!1})}):$("#"+n.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return!1})}),$(r).add($("UL.contextMenu")).bind("contextmenu",function(){return!1})}),$(this))},disableContextMenuItems:function(n){return n==undefined?($(this).find("LI").addClass("disabled"),$(this)):($(this).each(function(){var i,t;if(n!=undefined)for(i=n.split(","),t=0;t<i.length;t++)$(this).find('A[href="'+i[t]+'"]').parent().addClass("disabled")}),$(this))},enableContextMenuItems:function(n){return n==undefined?($(this).find("LI.disabled").removeClass("disabled"),$(this)):($(this).each(function(){var i,t;if(n!=undefined)for(i=n.split(","),t=0;t<i.length;t++)$(this).find('A[href="'+i[t]+'"]').parent().removeClass("disabled")}),$(this))},disableContextMenu:function(){return $(this).each(function(){$(this).addClass("disabled")}),$(this)},enableContextMenu:function(){return $(this).each(function(){$(this).removeClass("disabled")}),$(this)},destroyContextMenu:function(){return $(this).each(function(){$(this).unbind("mousedown").unbind("mouseup")}),$(this)}})}(jQuery);function _log(n){if(_canLog){var i=Array.prototype.slice.apply(arguments,[1]),r=new Date,u=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds();i[0]=u+" - "+i[0];try{switch(n){case"info":window.console.info.apply(window.console,i);break;case"warn":window.console.warn.apply(window.console,i);break;default:window.console.log.apply(window.console,i)}}catch(f){window.console||(_canLog=!1)}}}function logMsg(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}var _canLog=!0,getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0;(function(n){function e(){}function s(t){var i=t.options.dnd||null;i&&(i.onDragStart||i.onDrop)&&o(),i&&i.onDragStart&&t.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!1,scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(t){var i=n.ui.dynatree.getNode(t.target);return i?i.tree._onDragEvent("helper",i,null,t,null,null):"<div><\/div>"},start:function(){},_last:null}),i&&i.onDrop&&t.$tree.droppable({addClasses:!1,tolerance:"intersect",greedy:!1,_last:null})}var u={create:function(){return function(){this.initialize.apply(this,arguments)}}},i=u.create(),t,r,f,o;i.prototype={initialize:function(t,i,r){this.parent=t,this.tree=i,typeof r=="string"&&(r={title:r}),r.key===undefined&&(r.key="_"+i._nodeCount++),this.data=n.extend({},n.ui.dynatree.nodedatadefaults,r),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(t,i){var r=n.extend({},this.data),u,f;if(r.activate=this.tree.activeNode===this,r.focus=this.tree.focusNode===this,r.expand=this.bExpanded,r.select=this.bSelected,i&&i(r),t&&this.childList)for(r.children=[],u=0,f=this.childList.length;u<f;u++)r.children.push(this.childList[u].toDict(!0,i));else delete r.children;return r},fromDict:function(t){var i=t.children;if(i===undefined){this.data=n.extend(this.data,t),this.render();return}t=n.extend({},t),t.children=undefined,this.data=n.extend(this.data,t),this.removeChildren(),this.addChild(i)},_getInnerHtml:function(){var f=this.tree,t=f.options,u=f.cache,s=this.getLevel(),n=this.data,i="",r,o,h;return s<t.minExpandLevel?s>1&&(i+=u.tagConnector):i+=this.hasChildren()!==!1?u.tagExpander:u.tagConnector,t.checkbox&&n.hideCheckbox!==!0&&!n.isStatusNode&&(i+=u.tagCheckbox),n.icon?i+="<img src='"+t.imagePath+n.icon+"' alt='' />":n.icon===!1?e():i+=u.tagNodeIcon,r="",t.onCustomRender&&(r=t.onCustomRender.call(f,this)||""),r||(o=n.tooltip?' title="'+n.tooltip.replace(/\"/g,"&quot;")+'"':"",h=n.href||"#",r=t.noLink||n.noLink?'<span style="display:inline-block;" class="'+t.classNames.title+'"'+o+">"+n.title+"<\/span>":'<a href="'+h+'" class="'+t.classNames.title+'"'+o+">"+n.title+"<\/a>"),i+=r},_fixOrder:function(){var u=this.childList,t,n,f,i,r;if(u&&this.ul)for(t=this.ul.firstChild,n=0,f=u.length-1;n<f;n++)i=u[n],r=t.dtnode,i!==r?(this.tree.logDebug("_fixOrder: mismatch at index "+n+": "+i+" != "+r),this.ul.insertBefore(i.li,r.li)):t=t.nextSibling},render:function(t,i){var s=this.tree,e=this.parent,o=this.data,f=s.options,r=f.classNames,c=this.isLastSibling(),l=!1,u,h,a,v,y,p;if(e||this.ul?e&&(this.li||(l=!0,this.li=document.createElement("li"),this.li.dtnode=this,o.key&&f.generateIds&&(this.li.id=f.idPrefix+o.key),this.span=document.createElement("span"),this.span.className=r.title,this.li.appendChild(this.span),e.ul||(e.ul=document.createElement("ul"),e.ul.style.display="none",e.li.appendChild(e.ul)),e.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml(),u=[],u.push(r.node),o.isFolder&&u.push(r.folder),this.bExpanded&&u.push(r.expanded),this.hasChildren()!==!1&&u.push(r.hasChildren),o.isLazy&&this.childList===null&&u.push(r.lazy),c&&u.push(r.lastsib),this.bSelected&&u.push(r.selected),this.hasSubSel&&u.push(r.partsel),s.activeNode===this&&u.push(r.active),o.addClass&&u.push(o.addClass),u.push(r.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(o.isLazy&&this.childList===null?"d":"")+(c?"l":"")),u.push(r.combinedIconPrefix+(this.bExpanded?"e":"c")+(o.isFolder?"f":"")),this.span.className=u.join(" "),this.li.className=c?r.lastsib:"",l&&f.onCreate&&f.onCreate.call(s,this,this.span),f.onRender&&f.onRender.call(s,this,this.span)):(this.li=this.span=null,this.ul=document.createElement("ul"),this.ul.className=f.minExpandLevel>1?r.container+" "+r.noConnector:r.container),(this.bExpanded||i===!0)&&this.childList){for(h=0,a=this.childList.length;h<a;h++)this.childList[h].render(!1,i);this._fixOrder()}this.ul&&(v=this.ul.style.display==="none",y=!!this.bExpanded,t&&f.fx&&v===y?(p=f.fx.duration||200,n(this.ul).animate(f.fx,p)):this.ul.style.display=this.bExpanded||!e?"":"none")},getKeyPath:function(n){var t=[];return this.visitParents(function(n){n.parent&&t.unshift(n.data.key)},!n),"/"+t.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){return this.hasChildren()===undefined?undefined:this.childList},hasChildren:function(){return this.data.isLazy?this.childList===null||this.childList===undefined?undefined:this.childList.length===0?!1:this.childList.length===1&&this.childList[0].isStatusNode()?undefined:!0:!!this.childList},isFirstSibling:function(){var n=this.parent;return!n||n.childList[0]===this},isLastSibling:function(){var n=this.parent;return!n||n.childList[n.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){var t,n,i;if(!this.parent)return null;for(t=this.parent.childList,n=1,i=t.length;n<i;n++)if(t[n]===this)return t[n-1];return null},getNextSibling:function(){var t,n,i;if(!this.parent)return null;for(t=this.parent.childList,n=0,i=t.length-1;n<i;n++)if(t[n]===this)return t[n+1];return null},isStatusNode:function(){return this.data.isStatusNode===!0},isChildOf:function(n){return this.parent&&this.parent===n},isDescendantOf:function(n){if(!n)return!1;for(var t=this.parent;t;){if(t===n)return!0;t=t.parent}return!1},countChildren:function(){var i=this.childList,n,t,r,u;if(!i)return 0;for(n=i.length,t=0,r=n;t<r;t++)u=i[t],n+=u.countChildren();return n},sortChildren:function(n,t){var i=this.childList,r,u;if(i){if(n=n||function(n,t){var i=n.data.title.toLowerCase(),r=t.data.title.toLowerCase();return i===r?0:i>r?1:-1},i.sort(n),t)for(r=0,u=i.length;r<u;r++)i[r].childList&&i[r].sortChildren(n,"$norender$");t!=="$norender$"&&this.render()}},_setStatusNode:function(n){var t=this.childList?this.childList[0]:null;if(n)t?(n.isStatusNode=!0,n.key="_statusNode",t.data=n,t.render()):(n.isStatusNode=!0,n.key="_statusNode",t=this.addChild(n));else if(t&&t.isStatusNode()){try{this.ul&&(this.ul.removeChild(t.li),t.li=null)}catch(i){}this.childList.length===1?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(t,i){var r=i&&i.tooltip?i.tooltip:null,u=i&&i.info?" ("+i.info+")":"";switch(t){case DTNodeStatus_Ok:this._setStatusNode(null),n(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&this.childList.length>0?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,n(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+u,tooltip:r,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+u,tooltip:r,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+t+"'.";}},_parentList:function(n,t){for(var r=[],i=t?this:this.parent;i;)(n||i.parent)&&r.unshift(i),i=i.parent;return r},getLevel:function(){for(var t=0,n=this.parent;n;)t++,n=n.parent;return t},_getTypeForOuterNodeEvent:function(n){var r=this.tree.options.classNames,i=n.target,f,e,u,o;if(i.className.indexOf(r.node)<0)return null;for(f=n.pageX-i.offsetLeft,e=n.pageY-i.offsetTop,u=0,o=i.childNodes.length;u<o;u++){var t=i.childNodes[u],s=t.offsetLeft-i.offsetLeft,h=t.offsetTop-i.offsetTop,c=t.clientWidth,l=t.clientHeight;if(f>=s&&f<=s+c&&e>=h&&e<=h+l){if(t.className==r.title)return"title";if(t.className==r.expander)return"expander";if(t.className==r.checkbox)return"checkbox";if(t.className==r.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(n){var t=n&&n.target?n.target.className:"",i=this.tree.options.classNames;return t===i.title?"title":t===i.expander?"expander":t===i.checkbox?"checkbox":t===i.nodeIcon?"icon":t===i.empty||t===i.vline||t===i.connector?"prefix":t.indexOf(i.node)>=0?this._getTypeForOuterNodeEvent(n):null},isVisible:function(){for(var t=this._parentList(!0,!1),n=0,i=t.length;n<i;n++)if(!t[n].bExpanded)return!1;return!0},makeVisible:function(){for(var t=this._parentList(!0,!1),n=0,i=t.length;n<i;n++)t[n]._expand(!0)},focus:function(){this.makeVisible();try{n(this.span).find(">a").focus()}catch(t){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(t,i){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",t,i,this);var r=this.tree.options;if(!this.data.isStatusNode&&(!i||!r.onQueryActivate||r.onQueryActivate.call(this.tree,t,this)!==!1))if(t){if(this.tree.activeNode){if(this.tree.activeNode===this)return;this.tree.activeNode.deactivate()}r.activeVisible&&this.makeVisible(),this.tree.activeNode=this,r.persist&&n.cookie(r.cookieId+"-active",this.data.key,r.cookie),this.tree.persistence.activeKey=this.data.key,n(this.span).addClass(r.classNames.active),i&&r.onActivate&&r.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(r.onQueryActivate&&r.onQueryActivate.call(this.tree,!1,this)===!1)return;n(this.span).removeClass(r.classNames.active),r.persist&&n.cookie(r.cookieId+"-active","",r.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,i&&r.onDeactivate&&r.onDeactivate.call(this.tree,this)}},activate:function(){this._activate(!0,!0)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var t=!0,n=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:t=!1,n=!0;break;case 3:t=n=!0}this.parent===null&&(n=!1),n&&(this.toggleExpand(),this.focus()),t&&this.activate()},_setSubSel:function(t){t?(this.hasSubSel=!0,n(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,n(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var n,o,i;if(!this.hasChildren())return n=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),n;for(var r=this.childList,u=!0,f=!0,t=0,e=r.length;t<e;t++)o=r[t],i=o._updatePartSelectionState(),i!==!1&&(f=!1),i!==!0&&(u=!1);return n=u?!0:f?!1:undefined,this._setSubSel(n===undefined),this.bSelected=n===!0,n},_fixSelectionState:function(){var n,t,i,u,r,f;if(this.bSelected)for(this.visit(function(n){n.parent._setSubSel(!0),n.data.unselectable||n._select(!0,!1,!1)}),n=this.parent;n;){for(n._setSubSel(!0),u=!0,t=0,i=n.childList.length;t<i;t++)if(r=n.childList[t],!r.bSelected&&!r.data.isStatusNode&&!r.data.unselectable){u=!1;break}u&&n._select(!0,!1,!1),n=n.parent}else for(this._setSubSel(!1),this.visit(function(n){n._setSubSel(!1),n._select(!1,!1,!1)}),n=this.parent;n;){for(n._select(!1,!1,!1),f=!1,t=0,i=n.childList.length;t<i;t++)if(n.childList[t].bSelected||n.childList[t].hasSubSel){f=!0;break}n._setSubSel(f),n=n.parent}},_select:function(t,i,r){var u=this.tree.options;this.data.isStatusNode||this.bSelected!==t&&(i&&u.onQuerySelect&&u.onQuerySelect.call(this.tree,t,this)===!1||(u.selectMode==1&&t&&this.tree.visit(function(n){if(n.bSelected)return n._select(!1,!1,!1),!1}),this.bSelected=t,t?(u.persist&&this.tree.persistence.addSelect(this.data.key),n(this.span).addClass(u.classNames.selected),r&&u.selectMode===3&&this._fixSelectionState(),i&&u.onSelect&&u.onSelect.call(this.tree,!0,this)):(u.persist&&this.tree.persistence.clearSelect(this.data.key),n(this.span).removeClass(u.classNames.selected),r&&u.selectMode===3&&this._fixSelectionState(),i&&u.onSelect&&u.onSelect.call(this.tree,!1,this))))},select:function(n){return this.data.unselectable?this.bSelected:this._select(n!==!1,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var n=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===n.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(t){this.tree.logWarning("_loadContent: failed - %o",t),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+t})}},_expand:function(n,t){var i,f,u,r,e;if(this.bExpanded===n){this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",n,this);return}if(this.tree.logDebug("dtnode._expand(%o) - %o",n,this),i=this.tree.options,!n&&this.getLevel()<i.minExpandLevel){this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",n,this);return}if(!i.onQueryExpand||i.onQueryExpand.call(this.tree,n,this)!==!1){if(this.bExpanded=n,i.persist&&(n?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key)),f=!(this.data.isLazy&&this.childList===null)&&!this._isLoading&&!t,this.render(f),this.bExpanded&&this.parent&&i.autoCollapse)for(u=this._parentList(!1,!0),r=0,e=u.length;r<e;r++)u[r].collapseSiblings();if(i.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),n&&this.data.isLazy&&this.childList===null&&!this._isLoading){this._loadContent();return}i.onExpand&&i.onExpand.call(this.tree,n,this)}},isExpanded:function(){return this.bExpanded},expand:function(n){if(n=n!==!1,this.childList||this.data.isLazy||!n){if(this.parent===null&&!n)return}else return;this._expand(n)},scheduleAction:function(n,t){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var i=this;switch(n){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){i.tree.logDebug("setTimeout: trigger expand"),i.expand(!0)},t);break;case"activate":this.tree.timer=setTimeout(function(){i.tree.logDebug("setTimeout: trigger activate"),i.activate()},t);break;default:throw"Invalid mode "+n;}this.tree.logDebug("setTimeout(%s, %s): %s",n,t,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){var t,n,i;if(this.parent!==null)for(t=this.parent.childList,n=0,i=t.length;n<i;n++)t[n]!==this&&t[n].bExpanded&&t[n]._expand(!1)},_onClick:function(t){var r=this.getEventTargetType(t),i;if(r==="expander")this.toggleExpand(),this.focus();else if(r==="checkbox")this.toggleSelect(),this.focus();else if(this._userActivate(),i=this.span.getElementsByTagName("a"),i[0])n.browser.msie||i[0].focus();else return!0;t.preventDefault()},_onDblClick:function(){},_onKeydown:function(n){var u=!0,t,r,i;switch(n.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:!this.bExpanded&&(this.childList||this.data.isLazy)?(this.toggleExpand(),this.focus()):this.childList&&this.childList[0].focus();break;case 38:for(t=this.getPrevSibling();t&&t.bExpanded&&t.childList;)t=t.childList[t.childList.length-1];!t&&this.parent&&this.parent.parent&&(t=this.parent),t&&t.focus();break;case 40:if(this.bExpanded&&this.childList)t=this.childList[0];else for(r=this._parentList(!1,!0),i=r.length-1;i>=0;i--)if(t=r[i].getNextSibling(),t)break;t&&t.focus();break;default:u=!1}u&&n.preventDefault()},_onKeypress:function(){},_onFocus:function(t){var i=this.tree.options;t.type=="blur"||t.type=="focusout"?(i.onBlur&&i.onBlur.call(this.tree,this),this.tree.tnFocused&&n(this.tree.tnFocused.span).removeClass(i.classNames.focused),this.tree.tnFocused=null,i.persist&&n.cookie(i.cookieId+"-focus","",i.cookie)):(t.type=="focus"||t.type=="focusin")&&(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),n(this.tree.tnFocused.span).removeClass(i.classNames.focused)),this.tree.tnFocused=this,i.onFocus&&i.onFocus.call(this.tree,this),n(this.tree.tnFocused.span).addClass(i.classNames.focused),i.persist&&n.cookie(i.cookieId+"-focus",this.data.key,i.cookie))},visit:function(n,t){var i=!0,r,u;if(t===!0&&(i=n(this),i===!1||i=="skip"))return i;if(this.childList)for(r=0,u=this.childList.length;r<u;r++)if(i=this.childList[r].visit(n,!0),i===!1)break;return i},visitParents:function(n,t){if(t&&n(this)===!1)return!1;for(var i=this.parent;i;){if(n(i)===!1)return!1;i=i.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";return this.parent.removeChild(this)},removeChild:function(n){var i=this.childList,t,r;if(i.length==1){if(n!==i[0])throw"removeChild: invalid child";return this.removeChildren()}for(n===this.tree.activeNode&&n.deactivate(),this.tree.options.persist&&(n.bSelected&&this.tree.persistence.clearSelect(n.data.key),n.bExpanded&&this.tree.persistence.clearExpand(n.data.key)),n.removeChildren(!0),this.ul.removeChild(n.li),t=0,r=i.length;t<r;t++)if(i[t]===n){this.childList.splice(t,1);break}},removeChildren:function(t,i){var e,u,f,o,r;if(this.tree.logDebug("%s.removeChildren(%o)",this,t),e=this.tree,u=this.childList,u){for(f=0,o=u.length;f<o;f++)r=u[f],r!==e.activeNode||i||r.deactivate(),this.tree.options.persist&&!i&&(r.bSelected&&this.tree.persistence.clearSelect(r.data.key),r.bExpanded&&this.tree.persistence.clearExpand(r.data.key)),r.removeChildren(!0,i),this.ul&&n("li",n(this.ul)).remove();this.childList=null}t||(this._isLoading=!1,this.render())},setTitle:function(n){this.fromDict({title:n})},reload:function(){throw"Use reloadChildren() instead";},reloadChildren:function(n){if(this.parent===null)throw"Use tree.reload() instead";else if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(n){var t=this,i="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(i,function(r,u,f){if(t.tree.$tree.unbind(i),t.tree.logDebug("loaded %o, %o, %o",r,u,f),u!==t)throw"got invalid load event";n.call(t.tree,u,f)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(n,t){var i=this.tree,u,e,f,o,r,s;if(i.logDebug("%s._loadKeyPath(%s)",this,n),n==="")throw"Key path must not be empty";if(u=n.split(i.options.keyPathSeparator),u[0]==="")throw"Key path must be relative (don't start with '/')";for(e=u.shift(),f=0,o=this.childList.length;f<o;f++)if(r=this.childList[f],r.data.key===e){u.length===0?t.call(i,r,"ok"):r.data.isLazy&&(r.childList===null||r.childList===undefined)?(i.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,n,r),s=this,r.reloadChildren(function(f,e){e?(i.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",f,n,f),t.call(i,r,"loaded"),f._loadKeyPath(u.join(i.options.keyPathSeparator),t)):(i.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",s,n),t.call(i,r,"error"))})):(t.call(i,r,"loaded"),r._loadKeyPath(u.join(i.options.keyPathSeparator),t));return}i.logWarning("Node not found: "+e);return},resetLazy:function(){if(this.parent===null)throw"Use tree.reload() instead";else if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(t,i){var u=this.tree,f=u.options,r=u.persistence,o,s,e;if(t.parent=this,this.childList===null?this.childList=[]:i||this.childList.length>0&&n(this.childList[this.childList.length-1].span).removeClass(f.classNames.lastsib),i){if(o=n.inArray(i,this.childList),o<0)throw"<beforeNode> must be a child of <this>";this.childList.splice(o,0,t)}else this.childList.push(t);if(s=u.isInitializing(),f.persist&&r.cookiesFound&&s?(r.activeKey===t.data.key&&(u.activeNode=t),r.focusedKey===t.data.key&&(u.focusNode=t),t.bExpanded=n.inArray(t.data.key,r.expandedKeyList)>=0,t.bSelected=n.inArray(t.data.key,r.selectedKeyList)>=0):(t.data.activate&&(u.activeNode=t,f.persist&&(r.activeKey=t.data.key)),t.data.focus&&(u.focusNode=t,f.persist&&(r.focusedKey=t.data.key)),t.bExpanded=t.data.expand===!0,t.bExpanded&&f.persist&&r.addExpand(t.data.key),t.bSelected=t.data.select===!0,t.bSelected&&f.persist&&r.addSelect(t.data.key)),f.minExpandLevel>=t.getLevel()&&(this.bExpanded=!0),t.bSelected&&f.selectMode==3)for(e=this;e;)e.hasSubSel||e._setSubSel(!0),e=e.parent;return u.bEnableUpdate&&this.render(),t},addChild:function(n,t){var o,r,u,s,f,e;if(typeof n=="string")throw"Invalid data type for "+n;else if(n&&n.length!==0){if(n instanceof i)return this._addChildNode(n,t)}else return;for(n.length||(n=[n]),o=this.tree.enableUpdate(!1),r=null,u=0,s=n.length;u<s;u++)f=n[u],e=this._addChildNode(new i(this,this.tree,f),t),r||(r=e),f.children&&e.addChild(f.children,null);return this.tree.enableUpdate(o),r},append:function(n){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(n,null)},appendAjax:function(t){var i=this,u;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),t.debugLazyDelay){u=t.debugLazyDelay,t.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+u),setTimeout(function(){i.appendAjax(t)},u);return}var e=t.success,o=t.error,f="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,r=n.extend({},this.tree.options.ajaxDefaults,t,{success:function(t,u){var s=i.tree.phase;i.tree.phase="init",r.postProcess?t=r.postProcess.call(this,t,this.dataType):t&&t.hasOwnProperty("d")&&(t=typeof t.d=="string"?n.parseJSON(t.d):response.d),n.isArray(t)&&t.length===0||i.addChild(t,null),i.tree.phase="postInit",e&&e.call(r,i,t,u),i.tree.logDebug("trigger "+f),i.tree.$tree.trigger(f,[i,!0]),i.tree.phase=s,i.setLazyNodeStatus(DTNodeStatus_Ok),n.isArray(t)&&t.length===0&&(i.childList=[],i.render())},error:function(n,t,u){i.tree.logWarning("appendAjax failed:",t,":\n",n,"\n",u),o&&o.call(r,i,n,t,u),i.tree.$tree.trigger(f,[i,!1]),i.setLazyNodeStatus(DTNodeStatus_Error,{info:t,tooltip:""+u})}});n.ajax(r)},move:function(t,i){var u,f,r;if(this!==t){if(!this.parent)throw"Cannot move system root";if((i===undefined||i=="over")&&(i="child"),f=this.parent,r=i==="child"?t:t.parent,r.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(this.parent.childList.length==1)this.parent.childList=null,this.parent.bExpanded=!1;else{if(u=n.inArray(this,this.parent.childList),u<0)throw"Internal error";this.parent.childList.splice(u,1)}if(this.parent.ul.removeChild(this.li),this.parent=r,r.hasChildren())switch(i){case"child":r.childList.push(this);break;case"before":if(u=n.inArray(t,r.childList),u<0)throw"Internal error";r.childList.splice(u,0,this);break;case"after":if(u=n.inArray(t,r.childList),u<0)throw"Internal error";r.childList.splice(u+1,0,this);break;default:throw"Invalid mode "+i;}else r.childList=[this];if(r.ul||(r.ul=document.createElement("ul"),r.ul.style.display="none",r.li.appendChild(r.ul)),r.ul.appendChild(this.li),this.tree!==t.tree){this.visit(function(n){n.tree=t.tree},null,!0);throw"Not yet implemented.";}f.isDescendantOf(r)||f.render(),r.isDescendantOf(f)||r.render()}},lastentry:undefined},t=u.create(),t._getTreePersistData=function(n,i){var r=new t(n,i);return r.read(),r.toDict()},getDynaTreePersistData=t._getTreePersistData,t.prototype={initialize:function(t,i){t===undefined&&(t=n.ui.dynatree.prototype.options.cookieId),i=n.extend({},n.ui.dynatree.prototype.options.cookie,i),this.cookieId=t,this.cookieOpts=i,this.cookiesFound=undefined,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null},_log:function(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var t=n.cookie(this.cookieId+"-active");this.activeKey=t===null?"":t,t!==null&&(this.cookiesFound=!0),t=n.cookie(this.cookieId+"-focus"),this.focusedKey=t===null?"":t,t!==null&&(this.cookiesFound=!0),t=n.cookie(this.cookieId+"-expand"),this.expandedKeyList=t===null?[]:t.split(","),t!==null&&(this.cookiesFound=!0),t=n.cookie(this.cookieId+"-select"),this.selectedKeyList=t===null?[]:t.split(","),t!==null&&(this.cookiesFound=!0)},write:function(){n.cookie(this.cookieId+"-active",this.activeKey===null?"":this.activeKey,this.cookieOpts),n.cookie(this.cookieId+"-focus",this.focusedKey===null?"":this.focusedKey,this.cookieOpts),n.cookie(this.cookieId+"-expand",this.expandedKeyList===null?"":this.expandedKeyList.join(","),this.cookieOpts),n.cookie(this.cookieId+"-select",this.selectedKeyList===null?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(t){n.inArray(t,this.expandedKeyList)<0&&(this.expandedKeyList.push(t),n.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(t){var i=n.inArray(t,this.expandedKeyList);i>=0&&(this.expandedKeyList.splice(i,1),n.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(t){n.inArray(t,this.selectedKeyList)<0&&(this.selectedKeyList.push(t),n.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(t){var i=n.inArray(t,this.selectedKeyList);i>=0&&(this.selectedKeyList.splice(i,1),n.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return this.cookiesFound===!0},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:undefined},r=u.create(),r.version="$Version: 1.2.1_rc3$",r.prototype={initialize:function(n){this.phase="init",this.$widget=n,this.options=n.options,this.$tree=n.element,this.timer=null,this.divTree=this.$tree.get(0),s(this)},_load:function(r){var l=this.$widget,u=this.options,s=this,e;this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,u.rootVisible!==undefined&&this.logWarning("Option 'rootVisible' is no longer supported."),u.minExpandLevel<1&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),u.minExpandLevel=1),u.classNames!==n.ui.dynatree.prototype.options.classNames&&(u.classNames=n.extend({},n.ui.dynatree.prototype.options.classNames,u.classNames)),u.ajaxDefaults!==n.ui.dynatree.prototype.options.ajaxDefaults&&(u.ajaxDefaults=n.extend({},n.ui.dynatree.prototype.options.ajaxDefaults,u.ajaxDefaults)),u.dnd!==n.ui.dynatree.prototype.options.dnd&&(u.dnd=n.extend({},n.ui.dynatree.prototype.options.dnd,u.dnd)),u.imagePath||n("script").each(function(){var n=/.*dynatree[^\/]*\.js$/i;if(this.src.search(n)>=0)return u.imagePath=this.src.indexOf("/")>=0?this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/":"skin/",s.logDebug("Guessing imagePath from '%s': '%s'",this.src,u.imagePath),!1}),this.persistence=new t(u.cookieId,u.cookie),u.persist&&(n.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+u.classNames.empty+"'><\/span>",tagVline:"<span class='"+u.classNames.vline+"'><\/span>",tagExpander:"<span class='"+u.classNames.expander+"'><\/span>",tagConnector:"<span class='"+u.classNames.connector+"'><\/span>",tagNodeIcon:"<span class='"+u.classNames.nodeIcon+"'><\/span>",tagCheckbox:"<span class='"+u.classNames.checkbox+"'><\/span>",lastentry:undefined},(u.children||u.initAjax&&u.initAjax.url||u.initId)&&n(this.divTree).empty(),e=this.$tree.find(">ul:first").hide(),this.tnRoot=new i(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var f=this.tnRoot,h=u.persist&&this.persistence.isReloading(),o=!1,c=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),u.children?f.addChild(u.children):u.initAjax&&u.initAjax.url?(o=!0,f.data.isLazy=!0,this._reloadAjax(r)):u.initId?this._createFromTag(f,n("#"+u.initId)):(this._createFromTag(f,e),e.remove()),this._checkConsistency(),o||u.selectMode!=3||f._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(c),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",u.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),o||(u.onPostInit&&u.onPostInit.call(this,h,!1),r&&r.call(this,"ok")),this.phase="idle"},_reloadAjax:function(t){var r=this.options,u,i,f;if(!r.initAjax||!r.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";u=this.persistence,i=n.extend({},r.initAjax),i.addActiveKey&&(i.data.activeKey=u.activeKey),i.addFocusedKey&&(i.data.focusedKey=u.focusedKey),i.addExpandedKeyList&&(i.data.expandedKeyList=u.expandedKeyList.join(",")),i.addSelectedKeyList&&(i.data.selectedKeyList=u.selectedKeyList.join(",")),i.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),i.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead."),f=u.isReloading(),i.success=function(n){r.selectMode==3&&n.tree.tnRoot._updatePartSelectionState(),r.onPostInit&&r.onPostInit.call(n.tree,f,!1),t&&t.call(n.tree,"ok")},i.error=function(n,i,u,e){r.onPostInit&&r.onPostInit.call(n.tree,f,!0,i,u,e),t&&t.call(n.tree,"error",i,u,e)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(i)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(!0)},serializeArray:function(n){for(var i=this.getSelectedNodes(n),f=this.$tree.attr("name")||this.$tree.attr("id"),r=[],t=0,u=i.length;t<u;t++)r.push({name:f,value:i[t].data.key});return r},getPersistData:function(){return this.persistence.toDict()},logDebug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return this.phase=="init"||this.phase=="postInit"},isReloading:function(){return(this.phase=="init"||this.phase=="postInit")&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return this.phase=="userEvent"},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(n){this._load(n)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(n){var t=document.getElementById(this.options.idPrefix+n),i;return t?t.dtnode?t.dtnode:null:(i=null,this.visit(function(t){if(t.data.key==n)return i=t,!1},!0),i)},getActiveNode:function(){return this.activeNode},reactivate:function(n){var t=this.activeNode;t&&(this.activeNode=null,t.activate(),n&&t.focus())},getSelectedNodes:function(n){var t=[];return this.tnRoot.visit(function(i){if(i.bSelected&&(t.push(i),n===!0))return"skip"}),t},activateKey:function(n){var t=n===null?null:this.getNodeByKey(n);return t?(t.focus(),t.activate(),t):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null,null)},loadKeyPath:function(n,t){var i=n.split(this.options.keyPathSeparator);return i[0]===""&&i.shift(),i[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),i.shift()),n=i.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(n,t)},selectKey:function(n,t){var i=this.getNodeByKey(n);return i?(i.select(t),i):null},enableUpdate:function(n){return this.bEnableUpdate==n?n:(this.bEnableUpdate=n,n&&this.redraw(),!n)},count:function(){return this.tnRoot.countChildren()},visit:function(n,t){return this.tnRoot.visit(n,t)},_createFromTag:function(t,i){var r=this;i.find(">li").each(function(){var i=n(this),l=i.find(">span:first"),o=i.find(">a:first"),u,s=null,a=null,v,h,f,e,y,c;if(l.length?u=l.html():o.length?(u=o.html(),s=o.attr("href"),a=o.attr("target"),v=o.attr("title")):(u=i.html(),h=u.search(/<ul/i),u=h>=0?n.trim(u.substring(0,h)):n.trim(u)),f={title:u,tooltip:v,isFolder:i.hasClass("folder"),isLazy:i.hasClass("lazy"),expand:i.hasClass("expanded"),select:i.hasClass("selected"),activate:i.hasClass("active"),focus:i.hasClass("focused"),noLink:i.hasClass("noLink")},s&&(f.href=s,f.target=a),i.attr("title")&&(f.tooltip=i.attr("title")),i.attr("id")&&(f.key=i.attr("id")),i.attr("data")&&(e=n.trim(i.attr("data")),e)){e.charAt(0)!="{"&&(e="{"+e+"}");try{n.extend(f,eval("("+e+")"))}catch(p){throw"Error parsing node data: "+p+"\ndata:\n'"+e+"'";}}y=t.addChild(f),c=i.find(">ul:first"),c.length&&r._createFromTag(y,c)})},_checkConsistency:function(){},_setDndStatus:function(t,i,r,u,f){var o=t?n(t.span):null,e=n(i.span),s;if(this.$dndMarker||(this.$dndMarker=n("<div id='dynatree-drop-marker'><\/div>").hide().prependTo(n(this.divTree).parent())),u==="after"||u==="before"||u==="over"){s=e.offset();switch(u){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),s.top-=8;break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),s.top+=8;break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),e.addClass("dynatree-drop-target"),s.left+=8}this.$dndMarker.css({left:s.left,top:s.top,"z-index":1e3}).show()}else e.removeClass("dynatree-drop-target"),this.$dndMarker.hide();u==="after"?e.addClass("dynatree-drop-after"):e.removeClass("dynatree-drop-after"),u==="before"?e.addClass("dynatree-drop-before"):e.removeClass("dynatree-drop-before"),f===!0?(o&&o.addClass("dynatree-drop-accept"),e.addClass("dynatree-drop-accept"),r.addClass("dynatree-drop-accept")):(o&&o.removeClass("dynatree-drop-accept"),e.removeClass("dynatree-drop-accept"),r.removeClass("dynatree-drop-accept")),f===!1?(o&&o.addClass("dynatree-drop-reject"),e.addClass("dynatree-drop-reject"),r.addClass("dynatree-drop-reject")):(o&&o.removeClass("dynatree-drop-reject"),e.removeClass("dynatree-drop-reject"),r.removeClass("dynatree-drop-reject"))},_onDragEvent:function(t,i,r,u,f,e){var w=this.options,h=this.options.dnd,o=null,l=n(i.span),s,a,c;switch(t){case"helper":a=n("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /><\/div>").append(n(u.target).closest("a").clone()),n("ul.dynatree-container",i.tree.divTree).append(a),a.data("dtSourceNode",i),o=a;break;case"start":i.isStatusNode()?o=!1:h.onDragStart&&(o=h.onDragStart(i)),o===!1?(this.logDebug("tree.onDragStart() cancelled"),f.helper.trigger("mouseup"),f.helper.hide()):l.addClass("dynatree-drag-source");break;case"enter":o=h.onDragEnter?h.onDragEnter(i,r):null,o={over:o!==!1&&(o===!0||o==="over"||n.inArray("over",o)>=0),before:o!==!1&&(o===!0||o==="before"||n.inArray("before",o)>=0),after:o!==!1&&(o===!0||o==="after"||n.inArray("after",o)>=0)},f.helper.data("enterResponse",o);break;case"over":if(c=f.helper.data("enterResponse"),s=null,c===!1)break;else if(typeof c=="string")s=c;else{var y=l.offset(),p={x:u.pageX-y.left,y:u.pageY-y.top},v={x:p.x/l.width(),y:p.y/l.height()};c.after&&v.y>.75?s="after":!c.over&&c.after&&v.y>.5?s="after":c.before&&v.y<=.25?s="before":!c.over&&c.before&&v.y<=.5?s="before":c.over&&(s="over"),h.preventVoidMoves&&(i===r?s=null:s==="before"&&r&&i===r.getNextSibling()?s=null:s==="after"&&r&&i===r.getPrevSibling()?s=null:s==="over"&&r&&r.parent===i&&r.isLastSibling()&&(s=null)),f.helper.data("hitMode",s)}s==="over"&&h.autoExpandMS&&i.hasChildren()!==!1&&!i.bExpanded&&i.scheduleAction("expand",h.autoExpandMS),s&&h.onDragOver&&(o=h.onDragOver(i,r,s)),this._setDndStatus(r,i,f.helper,s,o!==!1);break;case"drop":if(s=f.helper.data("hitMode"),s&&h.onDrop)h.onDrop(i,r,s,f,e);break;case"leave":if(i.scheduleAction("cancel"),f.helper.data("enterResponse",null),f.helper.data("hitMode",null),this._setDndStatus(r,i,f.helper,"out",undefined),h.onDragLeave)h.onDragLeave(i,r);break;case"stop":if(l.removeClass("dynatree-drag-source"),h.onDragStop)h.onDragStop(i);break;default:throw"Unsupported drag event: "+t;}return o},cancelDrag:function(){var t=n.ui.ddmanager.current;t&&t.cancel()},lastentry:undefined},n.widget("ui.dynatree",{_init:function(){if(parseFloat(n.ui.version)<1.8)return this.options.debugLevel>=0&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create();this.options.debugLevel>=2&&_log("debug","ui.dynatree._init() was called; no current default functionality.")},_create:function(){var t=this.options,i;t.debugLevel>=1&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",n.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree",i=this.element.get(0),this.tree=new r(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){function r(t){t=n.event.fix(t||window.event);var i=n.ui.dynatree.getNode(t.target);return i?i._onFocus(t):!1}var i,t;this.unbind(),i="click.dynatree dblclick.dynatree",this.options.keyboard&&(i+=" keypress.dynatree keydown.dynatree"),this.element.bind(i,function(t){var i=n.ui.dynatree.getNode(t.target),r,u,f,e;if(!i)return!0;r=i.tree,u=r.options,r.logDebug("event(%s): dtnode: %s",t.type,i),f=r.phase,r.phase="userEvent";try{switch(t.type){case"click":return u.onClick&&u.onClick.call(r,i,t)===!1?!1:i._onClick(t);case"dblclick":return u.onDblClick&&u.onDblClick.call(r,i,t)===!1?!1:i._onDblClick(t);case"keydown":return u.onKeydown&&u.onKeydown.call(r,i,t)===!1?!1:i._onKeydown(t);case"keypress":return u.onKeypress&&u.onKeypress.call(r,i,t)===!1?!1:i._onKeypress(t)}}catch(o){e=null,r.logWarning("bind(%o): dtnode: %o, error: %o",t,i,o)}finally{r.phase=f}}),t=this.tree.divTree,t.addEventListener?(t.addEventListener("focus",r,!0),t.addEventListener("blur",r,!0)):t.onfocusin=t.onfocusout=r},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),n.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),n.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:undefined}),parseFloat(n.ui.version)<1.8&&(n.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),n.ui.dynatree.version="$Version: 1.2.1_rc3$",n.ui.dynatree.getNode=function(n){if(n instanceof i)return n;for(n.selector!==undefined&&(n=n[0]);n;){if(n.dtnode)return n.dtnode;n=n.parentNode}return null},n.ui.dynatree.getPersistData=t._getTreePersistData,n.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:undefined},parseFloat(n.ui.version)<1.8&&(n.ui.dynatree.defaults=n.ui.dynatree.prototype.options),n.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:null,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:undefined},f=!1,o=function(){f||(n.ui.plugin.add("draggable","connectToDynatree",{start:function(t,i){var r=n(this).data("draggable"),u=i.helper.data("dtSourceNode")||null;if(u)return r.offset.click.top=-2,r.offset.click.left=16,u.tree._onDragEvent("start",u,null,t,i,r)},drag:function(t,i){var f=n(this).data("draggable"),o=i.helper.data("dtSourceNode")||null,u=i.helper.data("dtTargetNode")||null,r=n.ui.dynatree.getNode(t.target),s;t.target&&!r&&(s=n(t.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0,s)||(i.helper.data("dtTargetNode",r),u&&u!==r&&u.tree._onDragEvent("leave",u,o,t,i,f),r&&(r.tree.options.dnd.onDrop?r===u?r.tree._onDragEvent("over",r,o,t,i,f):r.tree._onDragEvent("enter",r,o,t,i,f):e()))},stop:function(t,i){var f=n(this).data("draggable"),r=i.helper.data("dtSourceNode")||null,u=i.helper.data("dtTargetNode")||null,s=f._mouseDownEvent,o=t.type,e=o=="mouseup"&&t.which==1;e||logMsg("Drag was cancelled"),u&&(e&&u.tree._onDragEvent("drop",u,r,t,i,f),u.tree._onDragEvent("leave",u,r,t,i,f)),r&&r.tree._onDragEvent("stop",r,null,t,i,f)}}),f=!0)}})(jQuery);(function(n){var t=function(){var p={},h={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},t={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr><\/tr><\/tbody><\/table><\/div><\/div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%><\/span><\/a><\/th>','<th colspan="6" class="datepickerMonth"><a href="#"><span><\/span><\/a><\/th>','<th class="datepickerGoNext"><a href="#"><span><%=next%><\/span><\/a><\/th>',"<\/tr>",'<tr class="datepickerDoW">',"<th><span><%=week%><\/span><\/th>","<th><span><%=day1%><\/span><\/th>","<th><span><%=day2%><\/span><\/th>","<th><span><%=day3%><\/span><\/th>","<th><span><%=day4%><\/span><\/th>","<th><span><%=day5%><\/span><\/th>","<th><span><%=day6%><\/span><\/th>","<th><span><%=day7%><\/span><\/th>","<\/tr>","<\/thead>","<\/table><\/td>"],space:'<td class="datepickerSpace"><div><\/div><\/td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%><\/span><\/a><\/th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%><\/span><\/a><\/th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%><\/span><\/a><\/th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%><\/span><\/a><\/th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%><\/span><\/a><\/th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%><\/span><\/a><\/th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%><\/span><\/a><\/td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%><\/span><\/a><\/td>',"<\/tr>","<\/tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[1]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[2]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[3]%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[5]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[6]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[7]%><\/span><\/a><\/td>',"<\/tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[9]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[10]%><\/span><\/a><\/td>','<td colspan="2"><a href="#"><span><%=data[11]%><\/span><\/a><\/td>',"<\/tr>","<\/tbody>"]},c={flat:!1,starts:1,prev:"&#9664;",next:"&#9654;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},i=function(i){var o=n(i).data("datepicker"),k=n(i),g=Math.floor(o.calendars/2),r,f,d,l=0,b,nt,e,s,c,p,a,w,h,v,y;for(k.find("td>table tbody").remove(),a=0;a<o.calendars;a++){r=new Date(o.current),r.addMonths(-g+a),p=k.find("table").eq(a+1);switch(p[0].className){case"datepickerViewDays":h=u(r,"B, Y");break;case"datepickerViewMonths":h=r.getFullYear();break;case"datepickerViewYears":h=r.getFullYear()-6+" - "+(r.getFullYear()+5)}for(p.find("thead tr:first th:eq(1) span").text(h),h=r.getFullYear()-6,f={data:[],className:"datepickerYears"},w=0;w<12;w++)f.data.push(h+w);for(c=tmpl(t.months.join(""),f),r.setDate(1),f={weeks:[],test:10},d=r.getMonth(),h=(r.getDay()-o.starts)%7,r.addDays(-(h+(h<0?7:0))),b=-1,l=0;l<42;)e=parseInt(l/7,10),s=l%7,f.weeks[e]||(b=r.getWeekNumber(),f.weeks[e]={week:b,days:[]}),f.weeks[e].days[s]={text:r.getDate(),classname:[]},d!=r.getMonth()&&f.weeks[e].days[s].classname.push("datepickerNotInMonth"),r.getDay()==0&&f.weeks[e].days[s].classname.push("datepickerSunday"),r.getDay()==6&&f.weeks[e].days[s].classname.push("datepickerSaturday"),v=o.onRender(r),y=r.valueOf(),(v.selected||o.date==y||n.inArray(y,o.date)>-1||o.mode=="range"&&y>=o.date[0]&&y<=o.date[1])&&f.weeks[e].days[s].classname.push("datepickerSelected"),v.disabled&&f.weeks[e].days[s].classname.push("datepickerDisabled"),v.className&&f.weeks[e].days[s].classname.push(v.className),f.weeks[e].days[s].classname=f.weeks[e].days[s].classname.join(" "),l++,r.addDays(1);c=tmpl(t.days.join(""),f)+c,f={data:o.locale.monthsShort,className:"datepickerMonths"},c=tmpl(t.months.join(""),f)+c,p.append(c)}},r=function(n,t){var i;if(n.constructor==Date)return new Date(n);var r=n.split(/\W+/),c=t.split(/\W+/),o,s,f,u,h,e=new Date;for(i=0;i<r.length;i++)switch(c[i]){case"d":case"e":o=parseInt(r[i],10);break;case"m":s=parseInt(r[i],10)-1;break;case"Y":case"y":f=parseInt(r[i],10),f+=f>100?0:f<29?2e3:1900;break;case"H":case"I":case"k":case"l":u=parseInt(r[i],10);break;case"P":case"p":/pm/i.test(r[i])&&u<12?u+=12:/am/i.test(r[i])&&u>=12&&(u-=12);break;case"M":h=parseInt(r[i],10)}return new Date(f===undefined?e.getFullYear():f,s===undefined?e.getMonth():s,o===undefined?e.getDate():o,u===undefined?e.getHours():u,h===undefined?e.getMinutes():h,0)},u=function(n,t){var h=n.getMonth(),s=n.getDate(),c=n.getFullYear(),p=n.getWeekNumber(),v=n.getDay(),w={},r=n.getHours(),y=r>=12,u=y?r-12:r,e=n.getDayOfYear(),f;u==0&&(u=12);var l=n.getMinutes(),a=n.getSeconds(),o=t.split(""),i;for(f=0;f<o.length;f++){i=o[f];switch(o[f]){case"a":i=n.getDayName();break;case"A":i=n.getDayName(!0);break;case"b":i=n.getMonthName();break;case"B":i=n.getMonthName(!0);break;case"C":i=1+Math.floor(c/100);break;case"d":i=s<10?"0"+s:s;break;case"e":i=s;break;case"H":i=r<10?"0"+r:r;break;case"I":i=u<10?"0"+u:u;break;case"j":i=e<100?e<10?"00"+e:"0"+e:e;break;case"k":i=r;break;case"l":i=u;break;case"m":i=h<9?"0"+(1+h):1+h;break;case"M":i=l<10?"0"+l:l;break;case"p":case"P":i=y?"PM":"AM";break;case"s":i=Math.floor(n.getTime()/1e3);break;case"S":i=a<10?"0"+a:a;break;case"u":i=v+1;break;case"w":i=v;break;case"y":i=(""+c).substr(2,2);break;case"Y":i=c}o[f]=i}return o.join("")},l=function(n){Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=n.months,Date.prototype.monthsShort=n.monthsShort,Date.prototype.days=n.days,Date.prototype.daysShort=n.daysShort,Date.prototype.getMonthName=function(n){return this[n?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(n){return this[n?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(n){this.setDate(this.getDate()+n),this.tempDate=this.getDate()},Date.prototype.addMonths=function(n){this.tempDate==null&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+n),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(n){this.tempDate==null&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+n),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){for(var t=new Date(Date.parse(this)),n=28,i=t.getMonth(),n=28;t.getMonth()==i;)n++,t.setDate(n);return n-1},Date.prototype.getFirstDay=function(){var n=new Date(Date.parse(this));return n.setDate(1),n.getDay()},Date.prototype.getWeekNumber=function(){var n=new Date(this),t;return n.setDate(n.getDate()-(n.getDay()+6)%7+3),t=n.valueOf(),n.setMonth(0),n.setDate(4),Math.round((t-n.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var n=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),t=new Date(this.getFullYear(),0,0,0,0,0),i=n-t;return Math.floor(i/24*36e5)})},f=function(t){var i=n(t).data("datepicker"),u=n("#"+i.id),r;i.extraHeight||(r=n(t).find("div"),i.extraHeight=r.get(0).offsetHeight+r.get(1).offsetHeight,i.extraWidth=r.get(2).offsetWidth+r.get(3).offsetWidth);var f=u.find("table:first").get(0),e=f.offsetWidth,o=f.offsetHeight;u.css({width:e+i.extraWidth+"px",height:o+i.extraHeight+"px"}).find("div.datepickerContainer").css({width:e+"px",height:o+"px"})},a=function(t){var c,s;if(n(t.target).is("span")&&(t.target=t.target.parentNode),c=n(t.target),c.is("a")){if(t.target.blur(),c.hasClass("datepickerDisabled"))return!1;var r=n(this).data("datepicker"),o=c.parent(),h=o.parent().parent().parent(),l=n("table",this).index(h.get(0))-1,f=new Date(r.current),v=!1,a=!1;if(o.is("th")){if(o.hasClass("datepickerWeek")&&r.mode=="range"&&!o.next().hasClass("datepickerDisabled"))s=parseInt(o.next().text(),10),f.addMonths(l-Math.floor(r.calendars/2)),o.next().hasClass("datepickerNotInMonth")&&f.addMonths(s>15?-1:1),f.setDate(s),r.date[0]=f.setHours(0,0,0,0).valueOf(),f.setHours(23,59,59,0),f.addDays(6),r.date[1]=f.valueOf(),a=!0,v=!0,r.lastSel=!1;else if(o.hasClass("datepickerMonth")){f.addMonths(l-Math.floor(r.calendars/2));switch(h.get(0).className){case"datepickerViewDays":h.get(0).className="datepickerViewMonths",c.find("span").text(f.getFullYear());break;case"datepickerViewMonths":h.get(0).className="datepickerViewYears",c.find("span").text(f.getFullYear()-6+" - "+(f.getFullYear()+5));break;case"datepickerViewYears":h.get(0).className="datepickerViewDays",c.find("span").text(u(f,"B, Y"))}}else if(o.parent().parent().is("thead")){switch(h.get(0).className){case"datepickerViewDays":r.current.addMonths(o.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":r.current.addYears(o.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":r.current.addYears(o.hasClass("datepickerGoPrev")?-12:12)}a=!0}}else if(o.is("td")&&!o.hasClass("datepickerDisabled")){switch(h.get(0).className){case"datepickerViewMonths":r.current.setMonth(h.find("tbody.datepickerMonths td").index(o)),r.current.setFullYear(parseInt(h.find("thead th.datepickerMonth span").text(),10)),r.current.addMonths(Math.floor(r.calendars/2)-l),h.get(0).className="datepickerViewDays";break;case"datepickerViewYears":r.current.setFullYear(parseInt(c.text(),10)),h.get(0).className="datepickerViewMonths";break;default:v=!0,s=parseInt(c.text(),10),f.addMonths(l-Math.floor(r.calendars/2)),o.hasClass("datepickerNotInMonth")&&f.addMonths(s>15?-1:1),f.setDate(s);switch(r.mode){case"multiple":s=f.setHours(0,0,0,0).valueOf(),n.inArray(s,r.date)>-1?n.each(r.date,function(n,t){if(t==s)return r.date.splice(n,1),!1}):r.date.push(s);break;case"range":r.lastSel||(r.date[0]=f.setHours(0,0,0,0).valueOf()),s=f.setHours(23,59,59,0).valueOf(),s<r.date[0]?(r.date[1]=r.date[0]+86399e3,r.date[0]=s-86399e3):r.date[1]=s,r.lastSel=!r.lastSel;break;default:r.date=f.valueOf()}}a=!0}a&&i(this),v&&r.onChange.apply(this,e(r))}return!1},e=function(t){var i;return t.mode=="single"?(i=new Date(t.date),[u(i,t.format),i,t.el]):(i=[[],[],t.el],n.each(t.date,function(n,r){var f=new Date(r);i[0].push(u(f,t.format)),i[1].push(f)}),i)},v=function(){var n=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(n?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(n?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(n?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(n?document.documentElement.clientHeight:document.body.clientHeight)}},y=function(n,t,i){if(n==t)return!0;if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(t)&16);for(var r=t.parentNode;r&&r!=i;){if(r==n)return!0;r=r.parentNode}return!1},o=function(){var u=n("#"+n(this).data("datepickerId")),r,l;if(!u.is(":visible")){r=u.get(0),i(r),l=u.data("datepicker"),l.onBeforeShow.apply(this,[u.get(0)]);var h=n(this).offset(),c=v(),e=h.top,o=h.left,a=n.css(r,"display");u.css({visibility:"hidden",display:"block"}),f(r);switch(l.position){case"top":e-=r.offsetHeight;break;case"left":o-=r.offsetWidth;break;case"right":o+=this.offsetWidth;break;case"bottom":e+=this.offsetHeight}e+r.offsetHeight>c.t+c.h&&(e=h.top-r.offsetHeight),e<c.t&&(e=h.top+this.offsetHeight+r.offsetHeight),o+r.offsetWidth>c.l+c.w&&(o=h.left-r.offsetWidth),o<c.l&&(o=h.left+this.offsetWidth),u.css({visibility:"visible",display:"block",top:e+"px",left:o+"px"}),l.onShow.apply(this,[u.get(0)])!=!1&&u.show(),n(document).bind("mousedown",{cal:u,trigger:this},s)}return!1},s=function(t){t.target==t.data.trigger||y(t.data.cal.get(0),t.target,t.data.cal.get(0))||(t.data.cal.data("datepicker").onHide.apply(this,[t.data.cal.get(0)])!=!1&&t.data.cal.hide(),n(document).unbind("mousedown",s))};return{init:function(u){return u=n.extend({},c,u||{}),l(u.locale),u.calendars=Math.max(1,parseInt(u.calendars,10)||1),u.mode=/single|multiple|range/.test(u.mode)?u.mode:"single",this.each(function(){var v,s,c,l,e;if(!n(this).data("datepicker")){if(u.el=this,u.date.constructor==String&&(u.date=r(u.date,u.format),isNaN(u.date)&&(u.date=new Date),u.date.setHours(0,0,0,0)),u.mode!="single")if(u.date.constructor!=Array)u.date=[u.date.valueOf()],u.mode=="range"&&u.date.push(new Date(u.date[0]).setHours(23,59,59,0).valueOf());else{for(e=0;e<u.date.length;e++)u.date[e]=r(u.date[e],u.format).setHours(0,0,0,0).valueOf();u.mode=="range"&&(u.date[1]=new Date(u.date[1]).setHours(23,59,59,0).valueOf())}else u.date=u.date.valueOf();for(u.current=u.current?r(u.current,u.format):new Date,u.current.setDate(1),u.current.setHours(0,0,0,0),v="datepicker_"+parseInt(Math.random()*1e3),u.id=v,n(this).data("datepickerId",u.id),c=n(t.wrapper).attr("id",v).bind("click",a).data("datepicker",u),u.className&&c.addClass(u.className),l="",e=0;e<u.calendars;e++)s=u.starts,e>0&&(l+=t.space),l+=tmpl(t.head.join(""),{week:u.locale.weekMin,prev:u.prev,next:u.next,day1:u.locale.daysMin[s++%7],day2:u.locale.daysMin[s++%7],day3:u.locale.daysMin[s++%7],day4:u.locale.daysMin[s++%7],day5:u.locale.daysMin[s++%7],day6:u.locale.daysMin[s++%7],day7:u.locale.daysMin[s++%7]});c.find("tr:first").append(l).find("table").addClass(h[u.view]),i(c.get(0)),u.flat?(c.appendTo(this).show().css("position","relative"),f(c.get(0))):(c.appendTo(document.body),n(this).bind(u.eventName,o))}})},showPicker:function(){return this.each(function(){n(this).data("datepickerId")&&o.apply(this)})},hidePicker:function(){return this.each(function(){n(this).data("datepickerId")&&n("#"+n(this).data("datepickerId")).hide()})},setDate:function(t,u){return this.each(function(){var o,f,e;if(n(this).data("datepickerId")){if(o=n("#"+n(this).data("datepickerId")),f=o.data("datepicker"),f.date=t,f.date.constructor==String&&(f.date=r(f.date,f.format),isNaN(f.date)&&(f.date=new Date),f.date.setHours(0,0,0,0)),f.mode!="single")if(f.date.constructor!=Array)f.date=[f.date.valueOf()],f.mode=="range"&&f.date.push(new Date(f.date[0]).setHours(23,59,59,0).valueOf());else{for(e=0;e<f.date.length;e++)f.date[e]=r(f.date[e],f.format).setHours(0,0,0,0).valueOf();f.mode=="range"&&(f.date[1]=new Date(f.date[1]).setHours(23,59,59,0).valueOf())}else f.date=f.date.valueOf();u&&(f.current=new Date(f.mode!="single"?f.date[0]:f.date)),i(o.get(0))}})},getDate:function(t){if(this.size()>0)return e(n("#"+n(this).data("datepickerId")).data("datepicker"))[t?0:1]},clear:function(){return this.each(function(){if(n(this).data("datepickerId")){var t=n("#"+n(this).data("datepickerId")),r=t.data("datepicker");r.mode!="single"&&(r.date=[],i(t.get(0)))}})},fixLayout:function(){return this.each(function(){if(n(this).data("datepickerId")){var t=n("#"+n(this).data("datepickerId")),i=t.data("datepicker");i.flat&&f(t.get(0))}})}}}();n.fn.extend({DatePicker:t.init,DatePickerHide:t.hidePicker,DatePickerShow:t.showPicker,DatePickerSetDate:t.setDate,DatePickerGetDate:t.getDate,DatePickerClear:t.clear,DatePickerLayout:t.fixLayout})})(jQuery),function(){var n={};this.tmpl=function t(i,r){var u=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[i]=n[i]||t(document.getElementById(i).innerHTML);return r?u(r):u}}();
/*!
 * jScrollPane - v2.0.0beta11 - 2011-07-04
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT and GPL licenses.
 */
(function(n,t,i){n.fn.jScrollPane=function(t){function r(t,r){function li(r){var h,d,g,y,p,k,nt=!1,tt=!1;if(u=r,f===i)p=t.scrollTop(),k=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),s=t.innerWidth()+st,o=t.innerHeight(),t.width(s),u.skipDivWrap?(f=n(".jspPane",t).css("padding",si),e=n(".jspContainer",t).css({width:s+"px",height:o+"px"})):(f=n('<div class="jspPane" />').css("padding",si).append(t.children()),e=n('<div class="jspContainer" />').css({width:s+"px",height:o+"px"}).append(f).appendTo(t));else{if(t.css("width",""),nt=u.stickToBottom&&sr(),tt=u.stickToRight&&hr(),y=t.innerWidth()+st!=s||t.outerHeight()!=o,y&&(s=t.innerWidth()+st,o=t.innerHeight(),e.css({width:s+"px",height:o+"px"})),!y&&yi==v&&f.outerHeight()==a){t.width(s);return}yi=v,f.css("width",""),t.width(s),e.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}f.css("overflow","auto"),v=r.contentWidth?r.contentWidth:f[0].scrollWidth,a=f[0].scrollHeight,f.css("overflow",""),ei=v/s,gt=a/o,b=gt>1,w=ei>1,w||b?(t.addClass("jspScrollable"),h=u.maintainPosition&&(c||l),h&&(d=ft(),g=et()),tr(),ir(),rr(),h&&(vt(tt?v-s:d,!1),ut(nt?a-o:g,!1)),ar(),cr(),br(),u.enableKeyboardNavigation&&yr(),u.clickOnTrack&&fr(),wr(),u.hijackInternalLinks&&nr()):(t.removeClass("jspScrollable"),f.css({top:0,width:e.width()-st}),lr(),vr(),pr(),ki(),gi()),u.autoReinitialise&&!lt?lt=setInterval(function(){li(u)},u.autoReinitialiseDelay):!u.autoReinitialise&&lt&&clearInterval(lt),p&&t.scrollTop(0)&&ut(p,!1),k&&t.scrollLeft(0)&&vt(k,!1),t.trigger("jsp-initialised",[w||b])}function tr(){b&&(e.append(n('<div class="jspVerticalBar" />').append(n('<div class="jspCap jspCapTop" />'),n('<div class="jspTrack" />').append(n('<div class="jspDrag" />').append(n('<div class="jspDragTop" />'),n('<div class="jspDragBottom" />'))),n('<div class="jspCap jspCapBottom" />'))),ni=e.find(">.jspVerticalBar"),d=ni.find(">.jspTrack"),y=d.find(">.jspDrag"),u.showArrows&&(pt=n('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",rt(0,-1)).bind("click.jsp",yt),wt=n('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",rt(0,1)).bind("click.jsp",yt),u.arrowScrollOnHover&&(pt.bind("mouseover.jsp",rt(0,-1,pt)),wt.bind("mouseover.jsp",rt(0,1,wt))),bi(d,u.verticalArrowPositions,pt,wt)),ct=o,e.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ct-=n(this).outerHeight()}),y.hover(function(){y.addClass("jspHover")},function(){y.removeClass("jspHover")}).bind("mousedown.jsp",function(t){n("html").bind("dragstart.jsp selectstart.jsp",yt),y.addClass("jspActive");var i=t.pageY-y.position().top;return n("html").bind("mousemove.jsp",function(n){ht(n.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",di),!1}),pi())}function pi(){d.height(ct+"px"),c=0,oi=u.verticalGutter+d.outerWidth(),f.width(s-oi-st);try{ni.position().left===0&&f.css("margin-left",oi+"px")}catch(n){}}function ir(){w&&(e.append(n('<div class="jspHorizontalBar" />').append(n('<div class="jspCap jspCapLeft" />'),n('<div class="jspTrack" />').append(n('<div class="jspDrag" />').append(n('<div class="jspDragLeft" />'),n('<div class="jspDragRight" />'))),n('<div class="jspCap jspCapRight" />'))),ti=e.find(">.jspHorizontalBar"),g=ti.find(">.jspTrack"),p=g.find(">.jspDrag"),u.showArrows&&(bt=n('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",rt(-1,0)).bind("click.jsp",yt),kt=n('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",rt(1,0)).bind("click.jsp",yt),u.arrowScrollOnHover&&(bt.bind("mouseover.jsp",rt(-1,0,bt)),kt.bind("mouseover.jsp",rt(1,0,kt))),bi(g,u.horizontalArrowPositions,bt,kt)),p.hover(function(){p.addClass("jspHover")},function(){p.removeClass("jspHover")}).bind("mousedown.jsp",function(t){n("html").bind("dragstart.jsp selectstart.jsp",yt),p.addClass("jspActive");var i=t.pageX-p.position().left;return n("html").bind("mousemove.jsp",function(n){at(n.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",di),!1}),ot=e.innerWidth(),wi())}function wi(){e.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ot-=n(this).outerWidth()}),g.width(ot+"px"),l=0}function rr(){if(w&&b){var t=g.outerHeight(),i=d.outerWidth();ct-=t,n(ti).find(">.jspCap:visible,>.jspArrow").each(function(){ot+=n(this).outerWidth()}),ot-=i,o-=i,s-=t,g.parent().append(n('<div class="jspCorner" />').css("width",t+"px")),pi(),wi()}w&&f.width(e.outerWidth()-st+"px"),a=f.outerHeight(),gt=a/o,w&&(it=Math.ceil(1/ei*ot),it>u.horizontalDragMaxWidth?it=u.horizontalDragMaxWidth:it<u.horizontalDragMinWidth&&(it=u.horizontalDragMinWidth),p.width(it+"px"),nt=ot-it,vi(l)),b&&(tt=Math.ceil(1/gt*ct),tt>u.verticalDragMaxHeight?tt=u.verticalDragMaxHeight:tt<u.verticalDragMinHeight&&(tt=u.verticalDragMinHeight),y.height(tt+"px"),k=ct-tt,ai(c))}function bi(n,t,i,r){var u="before",f="after",e;t=="os"&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==u?f=t:t==f&&(u=t,e=i,i=r,r=e),n[u](i)[f](r)}function rt(n,t,i){return function(){return ur(n,t,this,i),this.blur(),!1}}function ur(t,i,r,f){r=n(r).addClass("jspActive");var o,e,s=!0,c=function(){t!==0&&h.scrollByX(t*u.arrowButtonSpeed),i!==0&&h.scrollByY(i*u.arrowButtonSpeed),e=setTimeout(c,s?u.initialDelay:u.arrowRepeatFreq),s=!1};c(),o=f?"mouseout.jsp":"mouseup.jsp",f=f||n("html"),f.bind(o,function(){r.removeClass("jspActive"),e&&clearTimeout(e),e=null,f.unbind(o)})}function fr(){ki(),b&&d.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var e=n(this),y=e.offset(),s=t.pageY-y.top-c,r,l=!0,v=function(){var p=e.offset(),n=t.pageY-p.top-tt/2,i=o*u.scrollPagePercent,y=k*i/(a-o);if(s<0)c-y>n?h.scrollByY(-i):ht(n);else if(s>0)c+y<n?h.scrollByY(i):ht(n);else{f();return}r=setTimeout(v,l?u.initialDelay:u.trackClickRepeatFreq),l=!1},f=function(){r&&clearTimeout(r),r=null,n(document).unbind("mouseup.jsp",f)};return v(),n(document).bind("mouseup.jsp",f),!1}}),w&&g.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var e=n(this),y=e.offset(),o=t.pageX-y.left-l,r,c=!0,a=function(){var p=e.offset(),n=t.pageX-p.left-it/2,i=s*u.scrollPagePercent,y=nt*i/(v-s);if(o<0)l-y>n?h.scrollByX(-i):at(n);else if(o>0)l+y<n?h.scrollByX(i):at(n);else{f();return}r=setTimeout(a,c?u.initialDelay:u.trackClickRepeatFreq),c=!1},f=function(){r&&clearTimeout(r),r=null,n(document).unbind("mouseup.jsp",f)};return a(),n(document).bind("mouseup.jsp",f),!1}})}function ki(){g&&g.unbind("mousedown.jsp"),d&&d.unbind("mousedown.jsp")}function di(){n("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),y&&y.removeClass("jspActive"),p&&p.removeClass("jspActive")}function ht(n,t){b&&(n<0?n=0:n>k&&(n=k),t===i&&(t=u.animateScroll),t?h.animate(y,"top",n,ai):(y.css("top",n),ai(n)))}function ai(n){n===i&&(n=y.position().top),e.scrollTop(0),c=n;var r=c===0,u=c==k,h=n/k,s=-h*(a-o);(ii!=r||ui!=u)&&(ii=r,ui=u,t.trigger("jsp-arrow-change",[ii,ui,ri,fi])),er(r,u),f.css("top",s),t.trigger("jsp-scroll-y",[-s,r,u]).trigger("scroll")}function at(n,t){w&&(n<0?n=0:n>nt&&(n=nt),t===i&&(t=u.animateScroll),t?h.animate(p,"left",n,vi):(p.css("left",n),vi(n)))}function vi(n){n===i&&(n=p.position().left),e.scrollTop(0),l=n;var r=l===0,u=l==nt,h=n/nt,o=-h*(v-s);(ri!=r||fi!=u)&&(ri=r,fi=u,t.trigger("jsp-arrow-change",[ii,ui,ri,fi])),or(r,u),f.css("left",o),t.trigger("jsp-scroll-x",[-o,r,u]).trigger("scroll")}function er(n,t){u.showArrows&&(pt[n?"addClass":"removeClass"]("jspDisabled"),wt[t?"addClass":"removeClass"]("jspDisabled"))}function or(n,t){u.showArrows&&(bt[n?"addClass":"removeClass"]("jspDisabled"),kt[t?"addClass":"removeClass"]("jspDisabled"))}function ut(n,t){var i=n/(a-o);ht(i*k,t)}function vt(n,t){var i=n/(v-s);at(i*nt,t)}function dt(t,i,r){var f,v,y,h=0,c=0,p,w,b,k,l,a;try{f=n(t)}catch(d){return}for(v=f.outerHeight(),y=f.outerWidth(),e.scrollTop(0),e.scrollLeft(0);!f.is(".jspPane");)if(h+=f.position().top,c+=f.position().left,f=f.offsetParent(),/^body|html$/i.test(f[0].nodeName))return;p=et(),b=p+o,h<p||i?l=h-u.verticalGutter:h+v>b&&(l=h-o+v+u.verticalGutter),l&&ut(l,r),w=ft(),k=w+s,c<w||i?a=c-u.horizontalGutter:c+y>k&&(a=c-s+y+u.horizontalGutter),a&&vt(a,r)}function ft(){return-f.position().left}function et(){return-f.position().top}function sr(){var n=a-o;return n>20&&n-et()<10}function hr(){var n=v-s;return n>20&&n-ft()<10}function cr(){e.unbind(ci).bind(ci,function(n,t,i,r){var f=l,e=c;return h.scrollBy(i*u.mouseWheelSpeed,-r*u.mouseWheelSpeed,!1),!1})}function lr(){e.unbind(ci)}function yt(){return!1}function ar(){f.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(n){dt(n.target,!1)})}function vr(){f.find(":input,a").unbind("focus.jsp")}function yr(){function v(){var n=l,t=c;switch(i){case 40:h.scrollByY(u.keyboardSpeed,!1);break;case 38:h.scrollByY(-u.keyboardSpeed,!1);break;case 34:case 32:h.scrollByY(o*u.scrollPagePercent,!1);break;case 33:h.scrollByY(-o*u.scrollPagePercent,!1);break;case 39:h.scrollByX(u.keyboardSpeed,!1);break;case 37:h.scrollByX(-u.keyboardSpeed,!1)}return r=n!=l||t!=c}var i,r,s=[];w&&s.push(ti[0]),b&&s.push(ni[0]),f.focus(function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||s.length&&n(t.target).closest(s).length){var u=l,f=c;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=t.keyCode,v();break;case 35:ut(a-o),i=null;break;case 36:ut(0),i=null}return r=t.keyCode==i&&u!=l||f!=c,!r}}).bind("keypress.jsp",function(n){return n.keyCode==i&&v(),!r}),u.hideFocus?(t.css("outline","none"),"hideFocus"in e[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in e[0]&&t.attr("hideFocus",!1))}function pr(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function wr(){if(location.hash&&location.hash.length>1){var i,r,t=escape(location.hash);try{i=n(t)}catch(u){return}i.length&&f.find(t)&&(e.scrollTop()===0?r=setInterval(function(){e.scrollTop()>0&&(dt(t,!0),n(document).scrollTop(e.position().top),clearInterval(r))},50):(dt(t,!0),n(document).scrollTop(e.position().top)))}}function gi(){n("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function nr(){gi(),n("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var t=this.href.split("#"),n;if(t.length>1&&(n=t[1],n.length>0&&f.find("#"+n).length>0))return dt("#"+n,!0),!1})}function br(){var u,f,t,i,n,r=!1;e.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var o=e.originalEvent.touches[0];u=ft(),f=et(),t=o.pageX,i=o.pageY,n=!1,r=!0}).bind("touchmove.jsp",function(e){if(r){var o=e.originalEvent.touches[0],s=l,a=c;return h.scrollTo(u+t-o.pageX,f+i-o.pageY),n=n||Math.abs(t-o.pageX)>5||Math.abs(i-o.pageY)>5,s==l&&a==c}}).bind("touchend.jsp",function(){r=!1}).bind("click.jsp-touchclick",function(){if(n)return n=!1,!1})}function kr(){var n=et(),i=ft();t.removeClass("jspScrollable").unbind(".jsp"),u.skipDivWrap||t.replaceWith(hi.append(f.children())),hi.scrollTop(n),hi.scrollLeft(i),lt&&clearInterval(lt)}var u,h=this,f,s,o,e,v,a,ei,gt,b,w,y,k,c,p,nt,l,ni,d,oi,ct,tt,pt,wt,ti,g,ot,it,bt,kt,lt,si,st,yi,ii=!0,ri=!0,ui=!1,fi=!1,hi=t.clone(!1,!1).empty(),ci=n.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";si=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),st=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0),n.extend(h,{reinitialise:function(t){t=n.extend({},u,t),li(t)},scrollToElement:function(n,t,i){dt(n,t,i)},scrollTo:function(n,t,i){vt(n,i),ut(t,i)},scrollToX:function(n,t){vt(n,t)},scrollToY:function(n,t){ut(n,t)},scrollToPercentX:function(n,t){vt(n*(v-s),t)},scrollToPercentY:function(n,t){ut(n*(a-o),t)},scrollBy:function(n,t,i){h.scrollByX(n,i),h.scrollByY(t,i)},scrollByX:function(n,t){var i=ft()+Math[n<0?"floor":"ceil"](n),r=i/(v-s);at(r*nt,t)},scrollByY:function(n,t){var i=et()+Math[n<0?"floor":"ceil"](n),r=i/(a-o);ht(r*k,t)},positionDragX:function(n,t){at(n,t)},positionDragY:function(n,t){ht(n,t)},animate:function(n,t,i,r){var f={};f[t]=i,n.animate(f,{duration:u.animateDuration,easing:u.animateEase,queue:!1,step:r})},getContentPositionX:function(){return ft()},getContentPositionY:function(){return et()},getContentWidth:function(){return v},getContentHeight:function(){return a},getPercentScrolledX:function(){return ft()/(v-s)},getPercentScrolledY:function(){return et()/(a-o)},getIsScrollableH:function(){return w},getIsScrollableV:function(){return b},getContentPane:function(){return f},scrollToBottom:function(n){ht(k,n)},hijackInternalLinks:function(){nr()},destroy:function(){kr()}}),li(r)}return t=n.extend({},n.fn.jScrollPane.defaults,t),n.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var u=n(this),i=u.data("jsp");i?i.reinitialise(t):(i=new r(u,t),u.data("jsp",i))})},n.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8,skipDivWrap:!1}})(jQuery,this);(function(n,t,i){function u(i,r,u){var f=t.createElement(i);return r&&(f.id=h+r),u&&(f.style.cssText=u),n(f)}function bt(n){var i=c.length,t=(v+n)%i;return t<0?i+t:t}function a(n,t){return Math.round((/%/.test(n)?(t==="x"?kt():dt())/100:1)*parseInt(n,10))}function pi(n){return r.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(n)}function kt(){return i.innerWidth||p.width()}function dt(){return i.innerHeight||p.height()}function wi(){var t,i=n.data(y,b);i==null?(r=n.extend({},gt),console&&console.log&&console.log("Error: cboxElement missing settings object")):r=n.extend({},i);for(t in r)n.isFunction(r[t])&&t.slice(0,2)!=="on"&&(r[t]=r[t].call(y));r.rel=r.rel||y.rel||"nofollow",r.href=r.href||n(y).attr("href"),r.title=r.title||y.title,typeof r.href=="string"&&(r.href=n.trim(r.href))}function ut(t,i){n.event.trigger(t),i&&i.call(y)}function di(){var t,n=h+"Slideshow_",i="click."+h,u,e,s;r.slideshow&&c[1]?(u=function(){ht.text(r.slideshowStop).unbind(i).bind(ti,function(){(r.loop||c[v+1])&&(t=setTimeout(f.next,r.slideshowSpeed))}).bind(ni,function(){clearTimeout(t)}).one(i+" "+vt,e);o.removeClass(n+"off").addClass(n+"on"),t=setTimeout(f.next,r.slideshowSpeed)},e=function(){clearTimeout(t);ht.text(r.slideshowStart).unbind([ti,ni,vt,i].join(" ")).one(i,function(){f.next(),u()});o.removeClass(n+"on").addClass(n+"off")},r.slideshowAuto?u():e()):o.removeClass(n+"off "+n+"on")}function bi(t){if(!wt){if(y=t,wi(),c=n(y),v=0,r.rel!=="nofollow"&&(c=n("."+ft).filter(function(){var t=n.data(this,b),i;return t&&(i=t.rel||this.rel),i===r.rel}),v=c.index(y),v===-1&&(c=c.add(y),v=c.length-1)),!g){if(g=at=!0,o.show(),r.returnFocus)n(y).blur().one(vi,function(){n(this).focus()});nt.css({opacity:+r.opacity,cursor:r.overlayClose?"pointer":"auto"}).show(),r.w=a(r.initialWidth,"x"),r.h=a(r.initialHeight,"y"),f.position(),ot&&p.bind("resize."+pt+" scroll."+pt,function(){nt.css({width:kt(),height:dt(),top:p.scrollTop(),left:p.scrollLeft()})}).trigger("resize."+pt),ut(ai,r.onOpen),ci.add(oi).hide(),hi.html(r.close).show()}f.load(!0)}}function ki(){!o&&t.body&&(li=!1,p=n(i),o=u(e).attr({id:b,"class":et?h+(ot?"IE6":"IE"):""}).hide(),nt=u(e,"Overlay",ot?"position:absolute":"").hide(),ei=u(e,"LoadingOverlay").add(u(e,"LoadingGraphic")),rt=u(e,"Wrapper"),w=u(e,"Content").append(l=u(e,"LoadedContent","width:0; height:0; overflow:hidden"),oi=u(e,"Title"),si=u(e,"Current"),ct=u(e,"Next"),lt=u(e,"Previous"),ht=u(e,"Slideshow").bind(ai,di),hi=u(e,"Close")),rt.append(u(e).append(u(e,"TopLeft"),ii=u(e,"TopCenter"),u(e,"TopRight")),u(e,!1,"clear:left").append(ri=u(e,"MiddleLeft"),w,ui=u(e,"MiddleRight")),u(e,!1,"clear:left").append(u(e,"BottomLeft"),fi=u(e,"BottomCenter"),u(e,"BottomRight"))).find("div div").css({float:"left"}),st=u(e,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),ci=ct.add(lt).add(si).add(ht),n(t.body).append(nt,o.append(rt,st)))}function gi(){return o?(li||(li=!0,tt=ii.height()+fi.height()+w.outerHeight(!0)-w.height(),it=ri.width()+ui.width()+w.outerWidth(!0)-w.width(),k=l.outerHeight(!0),d=l.outerWidth(!0),o.css({"padding-bottom":tt,"padding-right":it}),ct.click(function(){f.next()}),lt.click(function(){f.prev()}),hi.click(function(){f.close()}),nt.click(function(){r.overlayClose&&f.close()}),n(t).bind("keydown."+h,function(n){var t=n.keyCode;g&&r.escKey&&t===27&&(n.preventDefault(),f.close()),g&&r.arrowKey&&c[1]&&(t===37?(n.preventDefault(),lt.click()):t===39&&(n.preventDefault(),ct.click()))}),n("."+ft,t).live("click",function(n){n.which>1||n.shiftKey||n.altKey||n.metaKey||(n.preventDefault(),bi(this))})),!0):!1}var gt={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!1,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.6,preloading:!0,current:"",previous:"",next:"",close:"",xhrError:"",imgError:"",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"",slideshowStop:"",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},b="colorbox",h="cbox",ft=h+"Element",ai=h+"_open",ni=h+"_load",ti=h+"_complete",vt=h+"_cleanup",vi=h+"_closed",yt=h+"_purge",et=!n.support.opacity&&!n.support.style,ot=et&&!i.XMLHttpRequest,pt=h+"_IE6",nt,o,rt,w,ii,ri,ui,fi,c,p,l,st,ei,oi,si,ht,ct,lt,hi,ci,r,tt,it,k,d,y,v,s,g,at,wt,yi,f,e="div",li;n.colorbox||(n(ki),f=n.fn[b]=n[b]=function(t,i){var r=this;if(t=t||{},ki(),gi()){if(!r[0]){if(r.selector)return r;r=n("<a/>"),t.open=!0}i&&(t.onComplete=i),r.each(function(){n.data(this,b,n.extend({},n.data(this,b)||gt,t))}).addClass(ft),(n.isFunction(t.open)&&t.open.call(r)||t.open)&&bi(r[0])}return r},f.position=function(n,t){function v(n){ii[0].style.width=fi[0].style.width=w[0].style.width=n.style.width,w[0].style.height=ri[0].style.height=ui[0].style.height=n.style.height}var s,i=0,u=0,e=o.offset(),c,l;p.unbind("resize."+h),o.css({top:-9e4,left:-9e4}),c=p.scrollTop(),l=p.scrollLeft(),r.fixed&&!ot?(e.top-=c,e.left-=l,o.css({position:"fixed"})):(i=c,u=l,o.css({position:"absolute"})),u+=r.right!==!1?Math.max(kt()-r.w-d-it-a(r.right,"x"),0):r.left!==!1?a(r.left,"x"):Math.round(Math.max(kt()-r.w-d-it,0)/2),i+=r.bottom!==!1?Math.max(dt()-r.h-k-tt-a(r.bottom,"y"),0):r.top!==!1?a(r.top,"y"):Math.round(Math.max(dt()-r.h-k-tt,0)/2),o.css({top:e.top,left:e.left}),n=o.width()===r.w+d&&o.height()===r.h+k?0:n||0,rt[0].style.width=rt[0].style.height="9999px",s={width:r.w+d,height:r.h+k,top:i,left:u},n===0&&o.css(s),o.dequeue().animate(s,{duration:n,complete:function(){v(this),at=!1,rt[0].style.width=r.w+d+it+"px",rt[0].style.height=r.h+k+tt+"px",r.reposition&&setTimeout(function(){p.bind("resize."+h,f.position)},1),t&&t()},step:function(){v(this)}})},f.resize=function(n){g&&(n=n||{},n.width&&(r.w=a(n.width,"x")-d-it),n.innerWidth&&(r.w=a(n.innerWidth,"x")),l.css({width:r.w}),n.height&&(r.h=a(n.height,"y")-k-tt),n.innerHeight&&(r.h=a(n.innerHeight,"y")),n.innerHeight||n.height||(l.css({height:"auto"}),r.h=l.height()),l.css({height:r.h}),f.position(r.transition==="none"?0:r.speed))},f.prep=function(t){function y(){return r.w=r.w||l.width(),r.w=r.mw&&r.mw<r.w?r.mw:r.w}function p(){return r.h=r.h||l.height(),r.h=r.mh&&r.mh<r.h?r.mh:r.h}if(g){var i,a=r.transition==="none"?0:r.speed;if(l.remove(),l=u(e,"LoadedContent").append(t),l.hide().appendTo(st.show()).css({width:y(),overflow:r.scrolling?"auto":"hidden"}).css({height:p()}).prependTo(w),st.hide(),n(s).css({float:"none"}),ot)n("select").not(o.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(vt,function(){this.style.visibility="inherit"});i=function(){function tt(){et&&o[0].style.removeAttribute("filter")}var w,f,p=c.length,t,k="frameBorder",d="allowTransparency",e,i,nt,y;if(g){if(e=function(){clearTimeout(yi),ei.detach().hide(),ut(ti,r.onComplete)},et&&s&&l.fadeIn(100),oi.html(r.title).add(l).show(),p>1){if(typeof r.current=="string"&&si.html(r.current.replace("{current}",v+1).replace("{total}",p)).show(),ct[r.loop||v<p-1?"show":"hide"]().html(r.next),lt[r.loop||v?"show":"hide"]().html(r.previous),r.slideshow&&ht.show(),r.preloading)for(w=[bt(-1),bt(1)];f=c[w.pop()];)y=n.data(f,b),y&&y.href?(i=y.href,n.isFunction(i)&&(i=i.call(f))):i=f.href,pi(i)&&(nt=new Image,nt.src=i)}else ci.hide();if(r.iframe){if(t=u("iframe")[0],k in t&&(t[k]=0),d in t&&(t[d]="true"),t.name=h+ +new Date,r.fastIframe)e();else n(t).one("load",e);t.src=r.href,r.scrolling||(t.scrolling="no");n(t).addClass(h+"Iframe").appendTo(l).one(yt,function(){t.src="//about:blank"})}else e();r.transition==="fade"?o.fadeTo(a,1,tt):tt()}},r.transition==="fade"?o.fadeTo(a,0,function(){f.position(0,i)}):f.position(a,i)}},f.load=function(t){var i,p,o=f.prep;if(at=!0,s=!1,y=c[v],t||wi(),ut(yt),ut(ni,r.onLoad),r.h=r.height?a(r.height,"y")-k-tt:r.innerHeight&&a(r.innerHeight,"y"),r.w=r.width?a(r.width,"x")-d-it:r.innerWidth&&a(r.innerWidth,"x"),r.mw=r.w,r.mh=r.h,r.maxWidth&&(r.mw=a(r.maxWidth,"x")-d-it,r.mw=r.w&&r.w<r.mw?r.w:r.mw),r.maxHeight&&(r.mh=a(r.maxHeight,"y")-k-tt,r.mh=r.h&&r.h<r.mh?r.h:r.mh),i=r.href,yi=setTimeout(function(){ei.show().appendTo(w)},100),r.inline){u(e).hide().insertBefore(n(i)[0]).one(yt,function(){n(this).replaceWith(l.children())});o(n(i))}else r.iframe?o(" "):r.html?o(r.html):pi(i)?(n(s=new Image).addClass(h+"Photo").error(function(){r.title=!1,o(u(e,"Error").html(r.imgError))}).load(function(){var n;s.onload=null,r.scalePhotos&&(p=function(){s.height-=s.height*n,s.width-=s.width*n},r.mw&&s.width>r.mw&&(n=(s.width-r.mw)/s.width,p()),r.mh&&s.height>r.mh&&(n=(s.height-r.mh)/s.height,p())),r.h&&(s.style.marginTop=Math.max(r.h-s.height,0)/2+"px"),c[1]&&(r.loop||c[v+1])&&(s.style.cursor="pointer",s.onclick=function(){f.next()}),et&&(s.style.msInterpolationMode="bicubic"),setTimeout(function(){o(s)},1)}),setTimeout(function(){s.src=i},1)):i&&st.load(i,r.data,function(t,i){o(i==="error"?u(e,"Error").html(r.xhrError):n(this).contents())})},f.next=function(){!at&&c[1]&&(r.loop||c[v+1])&&(v=bt(1),f.load())},f.prev=function(){!at&&c[1]&&(r.loop||v)&&(v=bt(-1),f.load())},f.close=function(){g&&!wt&&(wt=!0,g=!1,ut(vt,r.onCleanup),p.unbind("."+h+" ."+pt),nt.fadeTo(200,0),o.stop().fadeTo(300,0,function(){o.add(nt).css({opacity:1,cursor:"auto"}).hide(),ut(yt),l.remove(),setTimeout(function(){wt=!1,ut(vi,r.onClosed)},1)}))},f.remove=function(){n([]).add(o).add(nt).remove(),o=null,n("."+ft).removeData(b).removeClass(ft).die()},f.element=function(){return n(y)},f.settings=gt)})(jQuery,document,this);var qq=qq||{};qq.extend=function(n,t){for(var i in t)n[i]=t[i]},qq.indexOf=function(n,t,i){if(n.indexOf)return n.indexOf(t,i);i=i||0;var r=n.length;for(i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1},qq.getUniqueId=function(){var n=0;return function(){return n++}}(),qq.attach=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},qq.detach=function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.attachEvent&&n.detachEvent("on"+t,i)},qq.preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},qq.insertBefore=function(n,t){t.parentNode.insertBefore(n,t)},qq.remove=function(n){n.parentNode.removeChild(n)},qq.contains=function(n,t){return n==t?!0:n.contains?n.contains(t):!!(t.compareDocumentPosition(n)&8)},qq.toElement=function(){var n=document.createElement("div");return function(t){n.innerHTML=t;var i=n.firstChild;return n.removeChild(i),i}}(),qq.css=function(n,t){t.opacity!=null&&typeof n.style.opacity!="string"&&typeof n.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(n.style,t)},qq.hasClass=function(n,t){var i=new RegExp("(^| )"+t+"( |$)");return i.test(n.className)},qq.addClass=function(n,t){qq.hasClass(n,t)||(n.className+=" "+t)},qq.removeClass=function(n,t){var i=new RegExp("(^| )"+t+"( |$)");n.className=n.className.replace(i," ").replace(/^\s+|\s+$/g,"")},qq.setText=function(n,t){n.innerText=t,n.textContent=t},qq.children=function(n){for(var i=[],t=n.firstChild;t;)t.nodeType==1&&i.push(t),t=t.nextSibling;return i},qq.getByClass=function(n,t){var i;if(n.querySelectorAll)return n.querySelectorAll("."+t);var u=[],r=n.getElementsByTagName("*"),f=r.length;for(i=0;i<f;i++)qq.hasClass(r[i],t)&&u.push(r[i]);return u},qq.obj2url=function(n,t,i){var u=[],f="&",e=function(n,i){var r=t?/\[\]$/.test(t)?t:t+"["+i+"]":i;r!="undefined"&&i!="undefined"&&u.push(typeof n=="object"?qq.obj2url(n,r,!0):Object.prototype.toString.call(n)==="[object Function]"?encodeURIComponent(r)+"="+encodeURIComponent(n()):encodeURIComponent(r)+"="+encodeURIComponent(n))},o,r;if(!i&&t)f=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",u.push(t),u.push(qq.obj2url(n));else if(Object.prototype.toString.call(n)==="[object Array]"&&typeof n!="undefined")for(r=0,o=n.length;r<o;++r)e(n[r],r);else if(typeof n!="undefined"&&n!==null&&typeof n=="object")for(r in n)e(n[r],r);else u.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return u.join(f).replace(/^&/,"").replace(/%20/g,"+")},qq=qq||{},qq.FileUploaderBasic=function(n){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(){},taxonomy:{uploadButton:"Upload the files!",dropZone:"drop files here to upload"}},qq.extend(this._options,n),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(n){this._options.params=n},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(n){var t=this;return new qq.UploadButton({element:n,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(n){t._onInputChange(n)}})},_createUploadHandler:function(){var n=this,t,i;return t=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",i=new qq[t]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(t,i,r,u){n._onProgress(t,i,r,u);n._options.onProgress(t,i,r,u)},onComplete:function(t,i,r){n._onComplete(t,i,r);n._options.onComplete(t,i,r)},onCancel:function(t,i){n._onCancel(t,i);n._options.onCancel(t,i)}})},_preventLeaveInProgress:function(){var n=this;qq.attach(window,"beforeunload",function(t){if(n._filesInProgress){var t=t||window.event;return t.returnValue=n._options.messages.onLeave,n._options.messages.onLeave}})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(){},_onComplete:function(n,t,i){this._filesInProgress--,i.error&&this._options.showMessage(i.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(n){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(n.files):this._validateFile(n)&&this._uploadFile(n),this._button.reset()},_uploadFileList:function(n){for(var t=0;t<n.length;t++)if(!this._validateFile(n[t]))return;for(t=0;t<n.length;t++)this._uploadFile(n[t])},_uploadFile:function(n){var t=this._handler.add(n),i=this._handler.getName(t);this._options.onSubmit(t,i)!==!1&&(this._onSubmit(t,i),this._handler.upload(t,this._options.params))},_validateFile:function(n){var t,i;if(n.value?t=n.value.replace(/.*(\/|\\)/,""):(t=n.fileName!=null?n.fileName:n.name,i=n.fileSize!=null?n.fileSize:n.size),this._isAllowedExtension(t)){if(i===0)return this._error("emptyError",t),!1;if(i&&this._options.sizeLimit&&i>this._options.sizeLimit)return this._error("sizeError",t),!1;if(i&&i<this._options.minSizeLimit)return this._error("minSizeError",t),!1}else return this._error("typeError",t),!1;return!0},_error:function(n,t){function i(n,t){r=r.replace(n,t)}var r=this._options.messages[n];i("{file}",this._formatFileName(t)),i("{extensions}",this._options.allowedExtensions.join(", ")),i("{sizeLimit}",this._formatSize(this._options.sizeLimit)),i("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),this._options.showMessage(r)},_formatFileName:function(n){return n.length>33&&(n=n.slice(0,19)+"..."+n.slice(-13)),n},_isAllowedExtension:function(n){var r=-1!==n.indexOf(".")?n.replace(/.*[.]/,"").toLowerCase():"",i=this._options.allowedExtensions,t;if(!i.length)return!0;for(t=0;t<i.length;t++)if(i[t].toLowerCase()==r)return!0;return!1},_formatSize:function(n){var t=-1;do n=n/1024,t++;while(n>99);return Math.max(n,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][t]}},qq.FileUploader=function(n){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>'+n.taxonomy.dropZone+'<\/span><\/div><div class="qq-upload-button button-secondary">'+n.taxonomy.uploadButton+'<\/div><ul class="qq-upload-list"><\/ul><\/div>',fileTemplate:'<li><span class="qq-upload-file"><\/span><span class="qq-upload-spinner"><\/span><span class="qq-upload-size"><\/span><a class="qq-upload-cancel" href="#">Cancel<\/a><span class="qq-upload-failed-text">Failed<\/span><\/li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,n),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(n,t){var i=qq.getByClass(n,this._options.classes[t])[0];if(!i)throw new Error("element not found "+t);return i},_setupDragDrop:function(){var t=this,n=this._find(this._element,"drop"),i=new qq.UploadDropZone({element:n,onEnter:function(i){qq.addClass(n,t._classes.dropActive),i.stopPropagation()},onLeave:function(n){n.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(n,t._classes.dropActive)},onDrop:function(i){n.style.display="none",qq.removeClass(n,t._classes.dropActive),t._uploadFileList(i.dataTransfer.files)}});n.style.display="none",qq.attach(document,"dragenter",function(t){i._isValidFileDrag(t)&&(n.style.display="block")}),qq.attach(document,"dragleave",function(t){if(i._isValidFileDrag(t)){var r=document.elementFromPoint(t.clientX,t.clientY);r&&r.nodeName!="HTML"||(n.style.display="none")}})},_onSubmit:function(n,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(n,t)},_onProgress:function(n,t,i,r){var e,u,f;qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments),e=this._getItemByFileId(n),u=this._find(e,"size"),u.style.display="inline",f=i!=r?Math.round(i/r*100)+"% from "+this._formatSize(r):this._formatSize(r),qq.setText(u,f)},_onComplete:function(n,t,i){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var r=this._getItemByFileId(n);qq.remove(this._find(r,"cancel")),qq.remove(this._find(r,"spinner")),i.success?qq.addClass(r,this._classes.success):qq.addClass(r,this._classes.fail)},_addToList:function(n,t){var i=qq.toElement(this._options.fileTemplate),r;i.qqFileId=n,r=this._find(i,"file"),qq.setText(r,this._formatFileName(t)),this._find(i,"size").style.display="none",this._listElement.appendChild(i)},_getItemByFileId:function(n){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==n)return t;t=t.nextSibling}},_bindCancelEvent:function(){var n=this,t=this._listElement;qq.attach(t,"click",function(t){var i,r;t=t||window.event,i=t.target||t.srcElement,qq.hasClass(i,n._classes.cancel)&&(qq.preventDefault(t),r=i.parentNode,n._handler.cancel(r.qqFileId),qq.remove(r))})}}),qq.UploadDropZone=function(n){this._options={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(this._options,n),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="none",n.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var n=this;qq.attach(n._element,"dragover",function(t){if(n._isValidFileDrag(t)){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect=i=="move"||i=="linkMove"?"move":"copy",t.stopPropagation(),t.preventDefault()}}),qq.attach(n._element,"dragenter",function(t){if(n._isValidFileDrag(t))n._options.onEnter(t)}),qq.attach(n._element,"dragleave",function(t){if(n._isValidFileDrag(t)){n._options.onLeave(t);var i=document.elementFromPoint(t.clientX,t.clientY);if(!qq.contains(this,i))n._options.onLeaveNotDescendants(t)}}),qq.attach(n._element,"drop",function(t){if(n._isValidFileDrag(t)){t.preventDefault();n._options.onDrop(t)}})},_isValidFileDrag:function(n){var t=n.dataTransfer,i=navigator.userAgent.indexOf("AppleWebKit")>-1;return t&&t.effectAllowed!="none"&&(t.files||!i&&t.types.contains&&t.types.contains("Files"))}},qq.UploadButton=function(n){this._options={element:null,multiple:!1,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,n),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var n=document.createElement("input"),t;return this._options.multiple&&n.setAttribute("multiple","multiple"),n.setAttribute("type","file"),n.setAttribute("name",this._options.name),qq.css(n,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(n),t=this,qq.attach(n,"change",function(){t._options.onChange(n)}),qq.attach(n,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(n,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(n,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(n,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&n.setAttribute("tabIndex","-1"),n}},qq.UploadHandlerAbstract=function(n){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(){},onComplete:function(){},onCancel:function(){}},qq.extend(this._options,n),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(n){this._options.debug&&window.console&&console.log("[uploader] "+n)},add:function(){},upload:function(n,t){var r=this._queue.push(n),i={};qq.extend(i,t),this._params[n]=i,r<=this._options.maxConnections&&this._upload(n,this._params[n])},cancel:function(n){this._cancel(n),this._dequeue(n)},cancelAll:function(){for(var n=0;n<this._queue.length;n++)this._cancel(this._queue[n]);this._queue=[]},getName:function(){},getSize:function(){},getQueue:function(){return this._queue},_upload:function(){},_cancel:function(){},_dequeue:function(n){var r=qq.indexOf(this._queue,n),t,i;this._queue.splice(r,1),t=this._options.maxConnections,this._queue.length>=t&&r<t&&(i=this._queue[t-1],this._upload(i,this._params[i]))}},qq.UploadHandlerForm=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(n){n.setAttribute("name","qqfile");var t="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[t]=n,n.parentNode&&qq.remove(n),t},getName:function(n){return this._inputs[n].value.replace(/.*(\/|\\)/,"")},_cancel:function(n){this._options.onCancel(n,this.getName(n));delete this._inputs[n];var t=document.getElementById(n);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(n,t){var f=this._inputs[n],i;if(!f)throw new Error("file with passed id was not added, or already uploaded or cancelled");var e=this.getName(n),r=this._createIframe(n),u=this._createForm(r,t);return u.appendChild(f),i=this,this._attachLoadEvent(r,function(){i.log("iframe loaded");var t=i._getIframeContentJSON(r);i._options.onComplete(n,e,t);i._dequeue(n),delete i._inputs[n],setTimeout(function(){qq.remove(r)},1)}),u.submit(),qq.remove(u),n},_attachLoadEvent:function(n,t){qq.attach(n,"load",function(){n.parentNode&&(n.contentDocument&&n.contentDocument.body&&n.contentDocument.body.innerHTML=="false"||t())})},_getIframeContentJSON:function(n){var i=n.contentDocument?n.contentDocument:n.contentWindow.document,t;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+i.body.innerHTML);try{t=eval("("+i.body.innerHTML+")")}catch(r){t={}}return t},_createIframe:function(n){var t=qq.toElement('<iframe src="javascript:false;" name="'+n+'" />');return t.setAttribute("id",n),t.style.display="none",document.body.appendChild(t),t},_createForm:function(n,t){var i=qq.toElement('<form method="post" enctype="multipart/form-data"><\/form>'),r=qq.obj2url(t,this._options.action);return i.setAttribute("action",r),i.setAttribute("target",n.name),i.style.display="none",document.body.appendChild(i),i}}),qq.UploadHandlerXhr=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var n=document.createElement("input");return n.type="file","multiple"in n&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(n){if(!(n instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(n)-1},getName:function(n){var t=this._files[n];return t.fileName!=null?t.fileName:t.name},getSize:function(n){var t=this._files[n];return t.fileSize!=null?t.fileSize:t.size},getLoaded:function(n){return this._loaded[n]||0},_upload:function(n,t){var e=this._files[n],u=this.getName(n),o=this.getSize(n),i,r,f;this._loaded[n]=0,i=this._xhrs[n]=new XMLHttpRequest,r=this,i.upload.onprogress=function(t){if(t.lengthComputable){r._loaded[n]=t.loaded;r._options.onProgress(n,u,t.loaded,t.total)}},i.onreadystatechange=function(){i.readyState==4&&r._onComplete(n,i)},t=t||{},t.qqfile=u,f=qq.obj2url(t,this._options.action),i.open("POST",f,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-File-Name",encodeURIComponent(u)),i.setRequestHeader("Content-Type","application/octet-stream"),i.send(e)},_onComplete:function(n,t){var i,r,u;if(this._files[n]){i=this.getName(n),r=this.getSize(n);this._options.onProgress(n,i,r,r);if(t.status==200){this.log("xhr - server response received"),this.log("responseText = "+t.responseText);try{u=eval("("+t.responseText+")")}catch(f){u={}}this._options.onComplete(n,i,u)}else this._options.onComplete(n,i,{});this._files[n]=null,this._xhrs[n]=null,this._dequeue(n)}},_cancel:function(n){this._options.onCancel(n,this.getName(n));this._files[n]=null,this._xhrs[n]&&(this._xhrs[n].abort(),this._xhrs[n]=null)}});(function(n){n.widget("ui.nestedSortable",n.extend({},n.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"ui-nestedSortable-no-nesting",errorClass:"ui-nestedSortable-error",listType:"ol",maxLevels:10,noJumpFix:0},_create:function(){return this.noJumpFix==!1&&this.element.height(this.element.height()),this.element.data("sortable",this.element.data("nestedSortable")),n.ui.sortable.prototype._create.apply(this,arguments)},_mouseDrag:function(t){var i,u,o;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,u=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),o=this.items.length-1;o>=0;o--){var s=this.items[o],f=s.item[0],h=this._intersectsWithPointer(s);if(h&&f!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=f&&!n.contains(this.placeholder[0],f)&&(this.options.type=="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=h==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(s))this._rearrange(t,s);else break;this._clearEmpty(f),this._trigger("change",t,this._uiHash());break}}var e=this.placeholder[0].parentNode.parentNode&&n(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?n(this.placeholder[0].parentNode.parentNode):null,c=this._getLevel(this.placeholder),l=this._getChildLevels(this.helper),r=this.placeholder[0].previousSibling?n(this.placeholder[0].previousSibling):null;if(r!=null)while(r[0].nodeName.toLowerCase()!="li"||r[0]==this.currentItem[0])if(r[0].previousSibling)r=n(r[0].previousSibling);else{r=null;break}return newList=document.createElement(i.listType),this.beyondMaxLevels=0,e!=null&&this.positionAbs.left<e.offset().left?(e.after(this.placeholder[0]),this._clearEmpty(e[0]),this._trigger("change",t,this._uiHash())):r!=null&&this.positionAbs.left>r.offset().left+i.tabSize?(this._isAllowed(r,c+l+1),r.children(i.listType).length||r[0].appendChild(newList),r.children(i.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",t,this._uiHash())):this._isAllowed(e,c+l),this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t){var r,u;if(this.beyondMaxLevels){for(r=this.placeholder.parent().closest(this.options.items),u=this.beyondMaxLevels-1;u>0;u--)r=r.parent().closest(this.options.items);this.placeholder.removeClass(this.options.errorClass),r.after(this.placeholder),this._trigger("change",t,this._uiHash())}n.ui.sortable.prototype._mouseStop.apply(this,arguments)},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/),u=(n(t.item||this).parent(t.listType).parent("li").attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"["+(t.key&&t.expression?r[1]:r[2])+"]")+"="+(u?t.key&&t.expression?u[1]:u[2]:"root"))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toHierarchy:function(t){function r(i){var f=(n(i).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/),u;if(f!=null)return u={id:f[2]},n(i).children(t.listType).children("li").length>0&&(u.children=[],n(i).children(t.listType).children("li").each(function(){var t=r(n(this));u.children.push(t)})),u}t=t||{};var u=t.startDepthCount||0,i=[];return n(this.element).children("li").each(function(){var t=r(n(this));i.push(t)}),i},toArray:function(t){function e(n,t){return n.left-t.left}function f(u,e,o){return right=o+1,n(u).children(t.listType).children("li").length>0&&(e++,n(u).children(t.listType).children("li").each(function(){right=f(n(this),e,right)}),e--),id=n(u).attr(t.attribute||"id").match(t.expression||/(.+)[-=_](.+)/),e===r+1?pid="root":(parentItem=n(u).parent(t.listType).parent("li").attr("id").match(t.expression||/(.+)[-=_](.+)/),pid=parentItem[2]),id!=null&&i.push({item_id:id[2],parent_id:pid,depth:e,left:o,right:right}),o=right+1}t=t||{};var r=t.startDepthCount||0,i=[],u=2;return i.push({item_id:"root",parent_id:"none",depth:r,left:"1",right:(n("li",this.element).length+1)*2}),n(this.element).children("li").each(function(){u=f(this,r+1,u)}),i=i.sort(e)},destroy:function(){this.element.removeData("sortable"),this.element.removeData("nestedSortable"),n.Widget.prototype.destroy.call(this)},_clear:function(){var r,u;for(n.ui.sortable.prototype._clear.apply(this,arguments),r=this.items.length-1;r>=0;r--)u=this.items[r].item[0],this._clearEmpty(u);return!0},_clearEmpty:function(n){n.children[1]&&n.children[1].children.length==0&&n.removeChild(n.children[1])},_getLevel:function(n){var i=1,t;if(this.options.listType)for(t=n.closest(this.options.listType);!t.is(".ui-sortable")&&i<100;)i++,t=t.parent().closest(this.options.listType);return i},_getChildLevels:function(t,i){var f=this,u=this.options,r=0;return i=i||0,n(t).children(u.listType).children(u.items).each(function(n,t){r=Math.max(f._getChildLevels(t,i+1),r)}),i?r+1:r},_isAllowed:function(n,t){var i=this.options;n!=null&&n.hasClass(i.disableNesting)?(this.placeholder.addClass(i.errorClass),this.beyondMaxLevels=i.maxLevels<t&&i.maxLevels!=0?t-i.maxLevels:1):i.maxLevels<t&&i.maxLevels!=0?(this.placeholder.addClass(i.errorClass),this.beyondMaxLevels=t-i.maxLevels):(this.placeholder.removeClass(i.errorClass),this.beyondMaxLevels=0)}})),n.ui.nestedSortable.prototype.options=n.extend({},n.ui.sortable.prototype.options,n.ui.nestedSortable.prototype.options)})(jQuery),function(n){"use strict";var r,u={init:function(t){var i={classes:{textContainer:"limTextContainer"},debug:!1,sortableOptions:{disableNesting:"no-nest",forcePlaceholderSize:!0,handle:"div",helper:"clone",items:"li",maxLevels:5,opacity:.6,placeholder:"drag-placeholder",revert:250,tabSize:25,tolerance:"pointer",toleranceElement:"> div"},events:{onAddText:function(){}}};r=n.extend(i,t),n.liManipulator.generate(this)},destroy:function(){},data:function(){return n.liManipulator.data()},reset:function(){n.liManipulator.reset()}};n.fn.liManipulator=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.tooltip");else return u.init.apply(this,arguments);return this},n.liManipulator={generate:function(t){var i,u;n.liManipulator.initRoot=t,t.empty(),i=n("<ol data-key='root' class='sortable'><\/ol>"),i.appendTo(t),u=n("<li id='limItem_1'><div class='"+r.classes.textContainer+"'>"+n.liManipulator.textHtml()+"<\/div><\/li>").appendTo(i),n("input",u).bind("keydown.additems",function(t){n.liManipulator.keyDown(t,u)}),i.nestedSortable(r.sortableOptions),n.liManipulator._focus(u)},initRoot:null,reset:function(){n.liManipulator.initRoot.empty(),n.liManipulator.generate(n.liManipulator.initRoot)},nextId:2,textHtml:function(){return"<div class='"+r.classes.textContainer+"'><input type='text' class='input-title width-95' /><\/div>"},createNode:function(t){var i,u;r.debug&&console.info("Create Node",t),i=n("<li id='limItem_"+n.liManipulator.nextId+"'>"+n.liManipulator.textHtml()+"<\/li>"),n.liManipulator.nextId++,t.after(i),u=i.children("div").children("input"),n.liManipulator._bindTextboxEvents(u,i),u.focus()},convertTextbox:function(t){r.debug&&console.info("Convert Text Box",t);var i=n(".input-title",t);return i.val()==""?(n("ol[data-key='root']").find("li").length>1&&t.find("li").length==0&&t.remove(),!1):(t.children("div").remove(),t.prepend('<div><span class="fonticon-drag-handle valign-text-bottom margin-right-5" style="color:#C4C4C4;"><\/span>'+i.val()+"<\/div>"),r.events.onAddText(),t.children("div").bind("click.edititem",function(i){n.liManipulator._edit(t),i.preventDefault()}),!0)},_rebind:function(){n("ol[data-key='root']").nestedSortable("destroy"),n("ol[data-key='root']").nestedSortable(r.sortableOptions)},_edit:function(t){var f,i,u;r.debug&&console.info("Edit",t),f=t.children("div").text(),i=n("<div class='"+r.classes.textContainer+"'>"+n.liManipulator.textHtml()+"<\/div>"),t.children("div").remove(),t.prepend(i),u=i.find("input"),n.liManipulator._bindTextboxEvents(u,t),u.val(f).focus(),n.liManipulator._focus(t)},indent:function(t){var r=t.prev("li"),i;r&&r!="undefined"&&r.length!=0&&(i=r.children("ol"),i&&i!="undefined"&&i.length!=0||(r.append("<ol><\/ol>"),i=r.children("ol")),i.append(t),n.liManipulator._rebind(),i.find("input").focus(),n.liManipulator._focus(t))},outdent:function(t){var i=t.parent().closest("li");i&&i!="undefined"&&i.length!=0&&(i.after(t),n("input",t).focus(),n.liManipulator._rebind(),n.liManipulator._focus(t))},_previous:function(t){var r=n("ol[data-key='root']"),i=r.find("li"),u=n(i[i.index(t)-1]);n.liManipulator._edit(u)},_next:function(t){var u=n("ol[data-key='root']"),i=u.find("li"),r;i.length-1<=i.index(t)||(r=n(i[i.index(t)+1]),n.liManipulator._edit(r))},_focus:function(n){n.find("input").focus(),setTimeout(function(){var t=n.find("input");t.focus()},100)},_bindTextboxEvents:function(t,i){i=t.closest("li"),t.bind("keydown.additems",function(t){n.liManipulator.keyDown(t,i)}).bind("blur.additems",function(){var r=n("ol[data-key='root']");r.find("input").length>1&&n.liManipulator.convertTextbox(t.closest("li"))})},keyDown:function(t,i){switch(t.which){case 13:n.liManipulator.convertTextbox(i)&&n.liManipulator.createNode(i);break;case 9:return t.shiftKey?n.liManipulator.outdent(i):n.liManipulator.indent(i),t.preventDefault(),!1;case 38:n.liManipulator._previous(i);break;case 40:n.liManipulator._next(i)}},data:function(){var t=n("ol[data-key='root']");return n.liManipulator._parseRoot(t)},_parseRoot:function(t){var i=[];return n.each(t.children("li"),function(t,r){i.push(n.liManipulator._parseNode(r))}),i},_parseNode:function(t){var i=n(t).children("ol"),r=[],u;return i.length>0&&(r=n.liManipulator._parseRoot(i)),u={text:n(t).children("div").text(),children:r}}}}(jQuery);(function(n){"use strict";var r,u={init:function(t){var i={classes:{tabContainer:"tab",tabItem:"tab-item",tabActive:"tab-active",tabUnactive:"tab-unactive"},tabContentSelectorAttribute:"data-tab-id",debug:!1,events:{onTabChange:function(){}}};r=n.extend(i,t),n.csTabs.generate(this)},destroy:function(){},reset:function(){}};n.fn.csTabs=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.tooltip");else return u.init.apply(this,arguments);return this},n.csTabs={generate:function(){var i=n("."+r.classes.tabContainer),u;i.children("span").disableSelection().removeClass(r.classes.tabActive).addClass(r.classes.tabUnactive).bind("click",n.csTabs._tabClick).first("span").addClass(r.classes.tabActive).removeClass(r.classes.tabUnactive),i.children("span").each(function(){var t=n(this).attr(r.tabContentSelectorAttribute);n(t).hide()}),u=i.children("span."+r.classes.tabActive).attr(r.tabContentSelectorAttribute),n(u).show()},_tabClick:function(){var u=n("."+r.classes.tabContainer),i=u.children("span."+r.classes.tabActive).attr(r.tabContentSelectorAttribute);n(i).hide(),u.children("span."+r.classes.tabActive).removeClass(r.classes.tabActive).addClass(r.classes.tabUnactive),n(this).addClass(r.classes.tabActive).removeClass(r.classes.tabUnactive),i=n(this).attr(r.tabContentSelectorAttribute),n(i).show()}}})(jQuery);(function(n){n.fn.numberSlider=function(t){var i={speed:500,cssClass:"step"},t=n.extend(i,t);return this.each(function(){function l(){return-(u*o)}function v(){n("#inner",r).css("margin-left",l()),s(u),e=!0}function s(i){i=parseInt(i),n("li[id^="+t.cssClass+"]").removeClass("current"),n("li#"+t.cssClass+"-"+t.info[i].StepId).addClass("current")}function a(i){var f,o;e&&t.info[i].Active&&(e=!1,f=Math.abs(u-i)*t.speed,u=i,n("#inner",r).animate({marginLeft:l()},{queue:!1,easing:"swing",duration:f,complete:v}),o=n(n("div.step")[u]).data("reset"),o?gemini_ui.enableButton("#run-reset"):gemini_ui.disableButton("#run-reset"))}var r=n(this),f="div.step",e=!0,u=0,h=n(f,r).length,o=n(f,r).width(),y=h-1,c;r.width(o),r.css("overflow","hidden"),n("#inner",r).css("width",h*o),n(f,r).css("float","left"),t.current!=undefined&&(u=t.current),c=n(f,r),c.each(function(t){n(this).data("current")&&(u=t)}),n("ol li",r).click(function(){if(!n(this).hasClass("inactive")){var i=n(this).find("a"),t=parseInt(i.attr("rel"));s(t),a(t)}}),a(u),s(u)}),this}})(jQuery);(function(n){function u(){function e(n){n==="remove"&&this.each(function(n,t){var i=u(t);i&&i.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(n,t){var i=tinyMCE.get(t.id.replace(/_parent$/,""));i&&i.remove()})}function o(n){var t=this,r;if(n!==i)e.call(t),t.each(function(t,i){var r;(r=tinyMCE.get(i.id))&&r.setContent(n)});else if(t.length>0&&(r=tinyMCE.get(t[0].id)))return r.getContent()}function u(n){var i=null;return n&&n.id&&t.tinymce&&(i=tinyMCE.get(n.id)),i}function f(n){return!!(n&&n.length&&t.tinymce&&n.is(":tinymce"))}var r={};n.each(["text","html","val"],function(t,e){var s=r[e]=n.fn[e],h=e==="text";n.fn[e]=function(t){var r=this,e,c;return f(r)?t!==i?(o.call(r.filter(":tinymce"),t),s.apply(r.not(":tinymce"),arguments),r):(e="",c=arguments,(h?r:r.eq(0)).each(function(t,i){var r=u(i);e+=r?h?r.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):r.getContent():s.apply(n(i),c)}),e):s.apply(r,arguments)}}),n.each(["append","prepend"],function(t,e){var o=r[e]=n.fn[e],s=e==="prepend";n.fn[e]=function(n){var t=this;return f(t)?n!==i?(t.filter(":tinymce").each(function(t,i){var r=u(i);r&&r.setContent(s?n+r.getContent():r.getContent()+n)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),n.each(["remove","replaceWith","replaceAll","empty"],function(t,i){var u=r[i]=n.fn[i];n.fn[i]=function(){return e.call(this,i),u.apply(this,arguments)}}),r.attr=n.fn.attr,n.fn.attr=function(t,e){var s=this,h,c;return!t||t!=="value"||!f(s)?e!==i?r.attr.call(s,t,e):r.attr.call(s,t):e!==i?(o.call(s.filter(":tinymce"),e),r.attr.call(s.not(":tinymce"),t,e),s):(h=s[0],c=u(h),c?c.getContent():r.attr.call(n(h),t,e))}}var i,r,f=[],t=window;n.fn.tinymce=function(i){function l(){var t=[],r=0;u&&(u(),u=null),o.each(function(n,u){var f,e=u.id,s=i.oninit;e||(u.id=e=tinymce.DOM.uniqueId()),f=new tinymce.Editor(e,i),t.push(f),f.onInit.add(function(){var i,n=s;o.css("visibility",""),s&&++r==t.length&&(tinymce.is(n,"string")&&(i=n.indexOf(".")===-1?null:tinymce.resolve(n.replace(/\.\w+$/,"")),n=tinymce.resolve(n)),n.apply(i||tinymce,t))})}),n.each(t,function(n,t){t.render()})}var o=this,e,y,a,c,h,v="",s="";return o.length?i?(o.css("visibility","hidden"),!t.tinymce&&!r&&(e=i.script_url)?(r=1,a=e.substring(0,e.lastIndexOf("/")),/_(src|dev)\.js/g.test(e)&&(s="_src"),c=e.lastIndexOf("?"),c!=-1&&(v=e.substring(c+1)),t.tinyMCEPreInit=t.tinyMCEPreInit||{base:a,suffix:s,query:v},e.indexOf("gzip")!=-1&&(h=i.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(s)+"&themes="+escape(i.theme)+"&plugins="+escape(i.plugins)+"&languages="+h,t.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(n){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(n))}tinymce.suffix=s,t("langs/"+h+".js"),t("themes/"+i.theme+"/editor_template"+s+".js"),t("themes/"+i.theme+"/langs/"+h+".js"),n.each(i.plugins.split(","),function(n,i){i&&(t("plugins/"+i+"/editor_plugin"+s+".js"),t("plugins/"+i+"/langs/"+h+".js"))})},end:function(){}})),n.ajax({type:"GET",url:e,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,r=2,i.script_loaded&&i.script_loaded(),l(),n.each(f,function(n,t){t()})}})):r===1?f.push(l):l(),o):tinyMCE.get(o[0].id):o},n.extend(n.expr[":"],{tinymce:function(n){return!!(n.id&&tinyMCE.get(n.id))}})})(jQuery);(function(){var n;n=function(){function n(){this.options_index=0,this.parsed=[]}return n.prototype.add_node=function(n){return n.nodeName==="OPTGROUP"?this.add_group(n):this.add_option(n)},n.prototype.add_group=function(n){var i,f,t,e,r,u;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:n.label,children:0,disabled:n.disabled}),r=n.childNodes,u=[],t=0,e=r.length;t<e;t++)f=r[t],u.push(this.add_option(f,i,n.disabled));return u},n.prototype.add_option=function(n,t,i){if(n.nodeName==="OPTION")return n.text!==""?(t!=null&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:n.value,text:n.text,html:n.innerHTML,selected:n.selected,disabled:i===!0?i:n.disabled,group_array_index:t,classes:n.className,style:n.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},n}(),n.select_to_array=function(t){var f,r,i,e,u;for(r=new n,u=t.childNodes,i=0,e=u.length;i<e;i++)f=u[i],r.add_node(f);return r.parsed},this.SelectParser=n}).call(this),function(){var n,t;t=this,n=function(){function n(n,t){this.form_field=n,this.options=t!=null?t:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return n.prototype.set_default_values=function(){var n=this;return this.click_test_action=function(t){return n.test_active_click(t)},this.activate_action=function(t){return n.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||Infinity,this.topmost_container=this.options.topmost_container||null,this.fix_popup=this.options.fix_popup||!1,this.show_search=!0,this.stay_open=this.options.stay_open||!1},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"":this.options.placeholder_text_single||this.options.placeholder_text||"",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||""},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var t=this;if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)},n.prototype.input_blur=function(){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},n.prototype.result_add_option=function(n){var t,i;return n.dom_id=this.container_id+"_o_"+n.array_index,t=n.selected&&this.is_multiple?[]:["active-result"],n.selected&&t.push("result-selected"),n.group_array_index!=null&&t.push("group-option"),n.classes!==""&&t.push(n.classes),n.empty?n.disabled?'<li disabled="disabled" id="'+n.dom_id+'">&nbsp;<\/li>':'<li id="'+n.dom_id+'" class="'+t.join(" ")+'">&nbsp;<\/li>':(i=n.style.cssText!==""?' style="'+n.style+'"':"",n.disabled?'<li disabled="disabled" id="'+n.dom_id+'" class="'+t.join(" ")+'"'+i+">"+n.html+"<\/li>":'<li id="'+n.dom_id+'" class="'+t.join(" ")+'"'+i+">"+n.html+"<\/li>")},n.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.keyup_checker=function(n){var t,i;t=(i=n.which)!=null?i:n.keyCode,this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(n.preventDefault(),this.results_showing)return this.result_select(n);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},n.prototype.generate_field_id=function(){var n;return n=this.generate_random_id(),this.form_field.id=n,n},n.prototype.generate_random_char=function(){var n,i,t;return n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=Math.floor(Math.random()*n.length),i=n.substring(t,t+1)},n}(),t.AbstractChosen=n}.call(this),function(){var n,r,t,i,u=Object.prototype.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=this,n=jQuery,n.fn.extend({chosen:function(t){return n.browser.msie&&(n.browser.version==="6.0"||n.browser.version==="7.0")?this:this.each(function(){var u;return u=n(this),u.hasClass("chzn-done")?void 0:u.data("chosen",new r(this,t))})}}),r=function(r){function u(){u.__super__.constructor.apply(this,arguments)}return f(u,r),u.prototype.setup=function(){return this.form_field_jq=n(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},u.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},u.prototype.set_up_html=function(){var i,f,u,e,r;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),n('select[name="'+this.container_id+'"]').length>1&&(this.container_id=this.generate_field_id()),r=n('select[name="'+this.container_id+'"]').attr("title"),(r==undefined||r==null)&&(r=""),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),i=n("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;",title:r}),this.is_multiple?i.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"><\/ul><\/div>'):this.show_search||this.form_field_jq.find("option").length>15?i.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'<\/span><div><b><\/b><\/div><\/a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off"/><\/div><ul class="chzn-results"><\/ul><\/div>'):i.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'<\/span><div><b><\/b><\/div><\/a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" style="display:none;"/><\/div><ul class="chzn-results"><\/ul><\/div>'),this.form_field_jq.hide().after(i),this.container=n("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),f=this.container.height(),u=this.f_width-t(this.dropdown),this.dropdown.css({width:u+"px",top:f+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),e=u-t(this.search_container)-t(this.search_field),this.search_field.css({width:e+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},u.prototype.register_observers=function(){var n=this;return this.container.mousedown(function(t){return n.container_mousedown(t)}),this.container.mouseup(function(t){return n.container_mouseup(t)}),this.container.mouseenter(function(t){return n.mouse_enter(t)}),this.container.mouseleave(function(t){return n.mouse_leave(t)}),this.search_results.mouseup(function(t){return n.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return n.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return n.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return n.results_update_field(t)}),this.search_field.blur(function(t){return n.input_blur(t)}),this.search_field.keyup(function(t){return n.keyup_checker(t)}),this.search_field.keydown(function(t){return n.keydown_checker(t)}),this.is_multiple?(this.search_choices.click(function(t){return n.choices_click(t)}),this.search_field.focus(function(t){return n.input_focus(t)})):this.container.click(function(n){return n.preventDefault()})},u.prototype.search_field_disabled=function(){return(this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled)?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,!this.is_multiple)?this.selected_item.bind("focus",this.activate_action):void 0},u.prototype.container_mousedown=function(t){var i;if(!this.is_disabled)return i=t!=null?n(t.target).hasClass("search-choice-close"):!1,t&&t.type==="mousedown"&&!this.results_showing&&t.stopPropagation(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&t&&(n(t.target)[0]===this.selected_item[0]||n(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),n(document).click(this.click_test_action),this.results_show()),this.activate_field())},u.prototype.container_mouseup=function(n){if(n.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(n)},u.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},u.prototype.close_field=function(){return n(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},u.prototype.activate_field=function(){return this.is_multiple||this.active_field||(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},u.prototype.test_active_click=function(t){return n(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},u.prototype.results_build=function(){var t,n,r,f,u;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",u=this.results_data,r=0,f=u.length;r<f;r++)n=u[r],n.group?t+=this.result_add_group(n):(n.empty&&(n.html="&nbsp;"),t+=this.result_add_option(n),n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").html(n.html),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},u.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+n("<div />").text(t.label).html()+"<\/li>")},u.prototype.result_do_highlight=function(n){var t,i,r,f,u;if(n.length){if(this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),u=this.search_results.scrollTop(),f=r+u,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=f)return this.search_results.scrollTop(t-r>0?t-r:0);if(i<u)return this.search_results.scrollTop(i)}},u.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},u.prototype.results_show=function(){var r,i,t;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return r=this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:r+"px",left:0}),this.topmost_container!=null?n(this.dropdown).parent().position().top+n(this.dropdown).height()>n(this.topmost_container).height()&&this.dropdown.css({top:r-n(this.dropdown).height()-n(this.dropdown).parent().height()+"px",left:0}):this.fix_popup&&(i=n(document).scrollTop(),this.dropdown.css({top:n(this.container).offset().top+r-i+"px",left:n(this.container).offset().left+"px",position:"fixed"}),t=this,n(window).bind("scroll.chosen",function(){i=t.is_multiple?0:0,i+=n(document).scrollTop(),t.dropdown.css({top:n(t.container).offset().top+t.container.height()-i+"px",left:n(t.container).offset().left+"px",position:"fixed"})})),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},u.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),n(window).unbind("scroll.chosen"),this.results_showing=!1},u.prototype.set_tab_index=function(){var t;if(this.form_field_jq.attr("tabindex"))return t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",t):(this.selected_item.attr("tabindex",t),this.search_field.attr("tabindex",-1))},u.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},u.prototype.search_results_mouseup=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i.length&&i.attr("disabled")!="disabled"?(this.result_highlight=i,this.result_select(t)):void 0},u.prototype.search_results_mouseover=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i&&i.attr("disabled")!="disabled"?this.result_do_highlight(i):void 0},u.prototype.search_results_mouseout=function(t){if(n(t.target).hasClass("active-result"||n(t.target).parents(".active-result").first()))return this.result_clear_highlight()},u.prototype.choices_click=function(t){return t.preventDefault(),this.active_field&&!n(t.target).hasClass("search-choice"||n(t.target).parents(".search-choice").first)&&!this.results_showing?this.results_show():void 0},u.prototype.choice_build=function(t){var i,r,u=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+t.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+t.html+'<\/span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"><\/a><\/li>'),r=n("#"+i).find("a").first(),r.click(function(n){return u.choice_destroy_link_click(n)}))},u.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(n(t.target)))},u.prototype.choice_destroy=function(n){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(n.attr("rel")),n.parents("li").first().remove()},u.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},u.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},u.prototype.result_select=function(n){var i,r,t,u;if(this.result_highlight)return i=this.result_highlight,r=i.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(i):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=i,this.selected_item.removeClass("chzn-default")),i.addClass("result-selected"),u=r.substr(r.lastIndexOf("_")+1),t=this.results_data[u],t.selected=!0,this.form_field.options[t.options_index].selected=!0,this.is_multiple?this.choice_build(t):(this.selected_item.find("span").first().html(t.html),this.allow_single_deselect&&this.single_deselect_control_build()),(n.metaKey||this.stay_open)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[t.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()},u.prototype.result_activate=function(n){return n.addClass("active-result")},u.prototype.result_deactivate=function(n){return n.removeClass("active-result")},u.prototype.result_deselect=function(t){var r,i;return i=this.results_data[t],i.selected=!1,this.form_field.options[i.options_index].selected=!1,r=n("#"+this.container_id+"_o_"+t),r.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale()},u.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"><\/abbr>')},u.prototype.winnow_results=function(){var r,t,a,u,h,v,f,c,e,i,k,y,p,o,s,w,b,l;for(this.no_results_clear(),e=0,i=this.search_field.val()===this.default_text?"":n("<div/>").text(n.trim(this.search_field.val())).html(),v="",h=new RegExp(v+i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),l=this.results_data,o=0,w=l.length;o<w;o++)if(t=l[o],!t.disabled&&!t.empty)if(t.group)n("#"+t.dom_id).css("display","none");else if(!(this.is_multiple&&t.selected)){if(r=!1,c=t.dom_id,f=n("#"+c),h.test(t.html))r=!0,e+=1;else if((t.html.indexOf(" ")>=0||t.html.indexOf("[")===0)&&(u=t.html.replace(/\[|\]/g,"").split(" "),u.length))for(s=0,b=u.length;s<b;s++)a=u[s],h.test(a)&&(r=!0,e+=1);r?(i.length?k=t.html.search(p):y=t.html,f.html(y),this.result_activate(f),t.group_array_index!=null&&n("#"+this.results_data[t.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&c===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(f))}return e<1&&i.length?this.no_results(i):this.winnow_results_set_highlight()},u.prototype.winnow_results_clear=function(){var t,u,r,f,i;for(this.search_field.val(""),u=this.search_results.find("li"),i=[],r=0,f=u.length;r<f;r++)t=u[r],t=n(t),t.hasClass("group-result")?i.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?i.push(void 0):i.push(this.result_activate(t));return i},u.prototype.winnow_results_set_highlight=function(){var n,t;if(!this.result_highlight&&(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),n=t.length?t.first():this.search_results.find(".active-result").first(),n!=null))return this.result_do_highlight(n)},u.prototype.no_results=function(t){var i;return i=n('<li class="no-results">'+this.results_none_found+' "<span><\/span>"<\/li>'),i.find("span").first().html(t),this.search_results.append(i)},u.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},u.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(n(t))),this.results_showing?void 0:this.results_show()},u.prototype.keyup_arrow=function(){var n;if(this.results_showing||this.is_multiple){if(this.result_highlight)return n=this.result_highlight.prevAll("li.active-result"),n.length?this.result_do_highlight(n.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())}else return this.results_show()},u.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus"))},u.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},u.prototype.keydown_checker=function(n){var t,i;t=(i=n.which)!=null?i:n.keyCode,this.search_field_scale(),t!==8&&this.pending_backstroke&&this.clear_backstroke();switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(n),this.mouse_on_container=!1;break;case 13:n.preventDefault();break;case 38:n.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},u.prototype.search_field_scale=function(){var u,t,c,f,e,o,i,r,s,h;if(this.is_multiple){for(c=0,i=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],r=0,s=o.length;r<s;r++)f=o[r],e+=f+":"+this.search_field.css(f)+";";if(t=n("<div />",{style:e}),t.text(this.search_field.val()),n("body").append(t),i=t.width()+25,t.remove(),i>this.f_width-10&&(i=this.f_width-10),this.search_field.css({width:i+"px"}),u=this.container.height(),this.fix_popup)h=n(document).scrollTop(),this.dropdown.css({top:n(this.container).offset().top+u-h+"px",position:"fixed"});else return this.dropdown.css({top:u+"px"})}},u.prototype.generate_random_id=function(){for(var t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();n("#"+t).length>0;)t+=this.generate_random_char();return t},u}(AbstractChosen),t=function(n){var t;return t=n.outerWidth()-n.width()},i.get_side_border_padding=t}.call(this);(function(n){n.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,nodeComparator:function(n,t){var i=n.text(),r=t.text();return i==r?0:i<r?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=n('<div class="ui-multiselect ui-helper-clearfix ui-widget"><\/div>').insertAfter(this.element),this.count=0,this.selectedContainer=n('<div class="selected"><\/div>').appendTo(this.container),this.availableContainer=n('<div class="available"><\/div>').appendTo(this.container),this.selectedActions=n('<div class="actions header ui-helper-clearfix"><span class="count">0 '+n.ui.multiselect.locale.itemsCount+'<\/span><a href="#" class="remove-all">'+n.ui.multiselect.locale.removeAll+"<\/a><\/div>").appendTo(this.selectedContainer),this.availableActions=n('<div class="actions header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+n.ui.multiselect.locale.addAll+"<\/a><\/div>").appendTo(this.availableContainer),this.selectedList=n('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"><\/li><\/ul>').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=n('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"><\/li><\/ul>').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var t=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"placeholder",axis:"y",update:function(){t.selectedList.find("li").each(function(){n(this).data("optionLink")&&n(this).data("optionLink").remove().appendTo(t.element)})},receive:function(i,r){r.item.data("optionLink").attr("selected",!0),t.count+=1,t._updateCount(),t.selectedList.children(".ui-draggable").each(function(){n(this).removeClass("ui-draggable"),n(this).data("optionLink",r.item.data("optionLink")),n(this).data("idx",r.item.data("idx")),t._applyItemState(n(this),!0)}),setTimeout(function(){r.item.remove()},1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):n(".search").hide(),this.container.find(".remove-all").click(function(){return t._populateLists(t.element.find("option").removeAttr("selected")),!1}),this.container.find(".add-all").click(function(){var i=t.element.find("option").not(":selected");return t.availableList.children("li:hidden").length>1?t.availableList.children("li").each(function(t){n(this).is(":visible")&&n(i[t-1]).attr("selected","selected")}):i.attr("selected","selected"),t._populateLists(t.element.find("option")),!1})},destroy:function(){this.element.show(),this.container.remove(),n.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(t){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this,r=n(t.map(function(n){var t=i._getOptionNode(this).appendTo(this.selected?i.selectedList:i.availableList).show();return this.selected&&(i.count+=1),i._applyItemState(t,this.selected),t.data("idx",n),t[0]}));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.selectedContainer.find("span.count").text(this.count+" "+n.ui.multiselect.locale.itemsCount)},_getOptionNode:function(t){t=n(t);var i=n('<li class="ui-state-default ui-element" title="'+t.text()+'"><span class="cs-icon"/>'+t.text()+'<a href="#" class="action"><span class="ui-corner-all cs-icon"/><\/a><\/li>').hide();return i.data("optionLink",t),i},_cloneWithData:function(n){var t=n.clone(!1,!1);return t.data("optionLink",n.data("optionLink")),t.data("idx",n.data("idx")),t},_setSelected:function(t,i){var e,u;if(t.data("optionLink").attr("selected",i),i)return e=this._cloneWithData(t),t[this.options.hide](this.options.animated,function(){n(this).remove()}),e.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(e,!0),e;var f=this.availableList.find("li"),h=this.options.nodeComparator,o=null,r=t.data("idx"),s=h(t,n(f[r]));if(s){while(r>=0&&r<f.length)if(s>0?r++:r--,s!=h(t,n(f[r]))){o=f[s>0?r:r+1];break}}else o=f[r];return u=this._cloneWithData(t),o?u.insertBefore(n(o)):u.appendTo(this.availableList),t[this.options.hide](this.options.animated,function(){n(this).remove()}),u.hide()[this.options.show](this.options.animated),this._applyItemState(u,!1),u},_applyItemState:function(n,t){t?(this.options.sortable?n.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):n.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),n.find("a.action span").addClass("cs-icon minus").html("-").removeClass("cs-icon").removeClass("plus"),this._registerRemoveEvents(n.find("a.action"))):(n.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),n.find("a.action span").addClass("cs-icon plus").html("+").removeClass("cs-icon").removeClass("minus"),this._registerAddEvents(n.find("a.action"))),this._registerDoubleClickEvents(n),this._registerHoverEvents(n)},_filter:function(t){var f=n(this),i=t.children("li"),e=i.map(function(){return n(this).text().toLowerCase()}),r=n.trim(f.val().toLowerCase()),u=[];r?(i.hide(),e.each(function(n){this.indexOf(r)>-1&&u.push(n)}),n.each(u,function(){n(i[this]).show()})):i.show()},_registerDoubleClickEvents:function(n){this.options.doubleClickable&&n.dblclick(function(){n.find("a.action").click()})},_registerHoverEvents:function(t){t.removeClass("ui-state-hover"),t.mouseover(function(){n(this).addClass("ui-state-hover")}),t.mouseout(function(){n(this).removeClass("ui-state-hover")})},_registerAddEvents:function(t){var i=this;t.click(function(){var t=i._setSelected(n(this).parent(),!0);return i.count+=1,i._updateCount(),!1}),this.options.sortable&&t.each(function(){n(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var t=i._cloneWithData(n(this)).width(n(this).width()-50);return t.width(n(this).width()),t},appendTo:i.container,containment:i.container,revert:"invalid"})})},_registerRemoveEvents:function(t){var i=this;t.click(function(){return i._setSelected(n(this).parent(),!1),i.count-=1,i._updateCount(),!1})},_registerSearchEvents:function(t){var i=this;t.focus(function(){n(this).addClass("ui-state-active")}).blur(function(){n(this).removeClass("ui-state-active")}).keypress(function(n){if(n.keyCode==13)return!1}).keyup(function(){i._filter.apply(this,[i.availableList])})}}),n.extend(n.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})})(jQuery);(function(n){n.fn.editable=function(t,i){if("disable"==t){n(this).data("disabled.editable",!0);return}if("enable"==t){n(this).data("disabled.editable",!1);return}if("destroy"==t){n(this).unbind(n(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");return}var r=n.extend({},n.fn.editable.defaults,{target:t},i),e=n.editable.types[r.type].plugin||function(){},o=n.editable.types[r.type].submit||function(){},s=n.editable.types[r.type].buttons||n.editable.types.defaults.buttons,f=n.editable.types[r.type].content||n.editable.types.defaults.content,h=n.editable.types[r.type].element||n.editable.types.defaults.element,u=n.editable.types[r.type].reset||n.editable.types.defaults.reset,c=r.callback||function(){},l=r.onedit||function(){},a=r.onsubmit||function(){},v=r.onreset||function(){},y=r.onerror||u;return r.tooltip&&n(this).attr("title",r.tooltip),r.autowidth="auto"==r.width,r.autoheight="auto"==r.height,this.each(function(){var t=this,i=n(t).width(),p=n(t).height();n(this).data("event.editable",r.event),n.trim(n(this).html())||n(this).html(r.placeholder),n(this).bind(r.event,function(v){var w,d,b,g,nt,k;!0!==n(this).data("disabled.editable")&&(t.editing||!1!==l.apply(this,[r,t])&&(v.preventDefault(),v.stopPropagation(),r.tooltip&&n(t).removeAttr("title"),0==n(t).width()?(r.width=i,r.height=p):(r.width!="none"&&(r.width=r.autowidth?n(t).width():r.width),r.height!="none"&&(r.height=r.autoheight?n(t).height():r.height)),n(this).html().toLowerCase().replace(/(;|"|\/)/g,"")==r.placeholder.toLowerCase().replace(/(;|"|\/)/g,"")&&n(this).html(""),t.editing=!0,t.revert=n(t).html(),n(t).html(""),w=n("<form />"),r.cssclass&&("inherit"==r.cssclass?w.attr("class",n(t).attr("class")):w.attr("class",r.cssclass)),r.style&&("inherit"==r.style?(w.attr("style",n(t).attr("style")),w.css("display",n(t).css("display"))):w.attr("style",r.style)),r.detectType!=null&&(d=r.detectType(this),d!=null&&d!=undefined&&d!=""?(r.type=d,e=n.editable.types[r.type].plugin||function(){},o=n.editable.types[r.type].submit||function(){},s=n.editable.types[r.type].buttons||n.editable.types.defaults.buttons,f=n.editable.types[r.type].content||n.editable.types.defaults.content,h=n.editable.types[r.type].element||n.editable.types.defaults.element,u=n.editable.types[r.type].reset||n.editable.types.defaults.reset):(r.type="text",e=n.editable.types[r.type].plugin||function(){},o=n.editable.types[r.type].submit||function(){},s=n.editable.types[r.type].buttons||n.editable.types.defaults.buttons,f=n.editable.types[r.type].content||n.editable.types.defaults.content,h=n.editable.types[r.type].element||n.editable.types.defaults.element,u=n.editable.types[r.type].reset||n.editable.types.defaults.reset)),b=h.apply(w,[r,t]),r.validationRequired!=null&&r.validationRequired(this)&&b.addClass("required"),r.validationEmail!=null&&r.validationEmail(this)&&b.addClass("email"),r.loadurl?(k=setTimeout(function(){b.disabled=!0,f.apply(w,[r.loadtext,r,t])},100),nt={},nt[r.id]=t.id,n.isFunction(r.loaddata)?n.extend(nt,r.loaddata.apply(t,[t.revert,r])):n.extend(nt,r.loaddata),n.ajax({type:r.loadtype,url:r.loadurl,data:nt,async:!1,success:function(n){window.clearTimeout(k),g=n,b.disabled=!1}})):r.data?(g=r.data,n.isFunction(r.data)&&(g=r.data.apply(t,[t.revert,r]))):g=t.revert,f.apply(w,[g,r,t]),b.attr("name",r.name),s.apply(w,[r,t]),n(t).append(w),e.apply(w,[r,t]),w.validate({ignoreTitle:!0}),n(":input:visible:enabled:first",w).focus(),r.select&&b.select(),b.keydown(function(n){n.keyCode==27&&(n.preventDefault(),u.apply(w,[r,t]))}),"cancel"==r.onblur&&b.blur(function(){k=setTimeout(function(){u.apply(w,[r,t])},500)}),"ignore"==r.onblur?b.blur(function(){n(this).find("input").datepicker({onSelect:function(){n(this).hide(),n(w).trigger("submit")},onClose:function(){u.apply(w,[r,t])}})}):"submit"==r.onblur?b.blur(function(){k=setTimeout(function(){w.submit()},200)}):n.isFunction(r.onblur)?b.blur(function(){r.onblur.apply(t,[b.val(),r])}):b.blur(function(){}),w.submit(function(i){var e,u,f;return(k&&clearTimeout(k),i.preventDefault(),!n(w).valid())?!1:(!1!==a.apply(w,[r,t])&&!1!==o.apply(w,[r,t])&&(n.isFunction(r.target)?(e=r.target.apply(t,[b.val(),r]),n(t).html(e),t.editing=!1,c.apply(t,[t.innerHTML,r]),n.trim(n(t).html())||n(t).html(r.placeholder)):(u={},u[r.name]=b.val(),u[r.id]=t.id,n.isFunction(r.submitdata)?n.extend(u,r.submitdata.apply(t,[t.revert,r])):n.extend(u,r.submitdata),"PUT"==r.method&&(u._method="put"),n(t).html(r.indicator),f={type:"POST",data:u,dataType:"html",url:r.target,success:function(i){f.dataType=="html"&&n(t).html(i),t.editing=!1,c.apply(t,[i,r]),n.trim(n(t).html())||n(t).html(r.placeholder),r.type=="color"&&n(t).click()},error:function(n){y.apply(w,[r,t,n])}},n.extend(f,r.ajaxoptions),n.ajax(f))),n(t).attr("title",r.tooltip),!1)})))}),this.reset=function(i){this.editing&&!1!==v.apply(i,[r,t])&&(n(t).html(t.revert),t.editing=!1,n.trim(n(t).html())||n(t).html(r.placeholder),r.tooltip&&n(t).attr("title",r.tooltip))}})},n.editable={types:{defaults:{element:function(){var r=n('<input type="hidden"><\/input>');return n(this).append(r),r},content:function(t){n(":input:first",this).val(t)},reset:function(n,t){t.reset(this)},buttons:function(t,i){var f=this,r,u;t.submit&&(t.submit.match(/>$/)?r=n(t.submit).click(function(){r.attr("type")!="submit"&&f.submit()}):(r=n('<button type="submit" />'),r.html(t.submit)),n(this).append(r)),t.cancel&&(t.cancel.match(/>$/)?u=n(t.cancel):(u=n('<button type="cancel" />'),u.html(t.cancel)),n(this).append(u),n(u).click(function(){var u;return u=n.isFunction(n.editable.types[t.type].reset)?n.editable.types[t.type].reset:n.editable.types.defaults.reset,u.apply(f,[t,i]),!1}))}},text:{element:function(t){var r=n('<input style="width:99%;"/>');return t.width!="none"&&r.attr("width",t.width),t.height!="none"&&r.attr("height",t.height),r.attr("autocomplete","off"),n(this).append(r),r}},textarea:{element:function(t){var r=n("<textarea />");return t.rows?r.attr("rows",t.rows):t.height!="none"&&r.height(t.height),t.cols?r.attr("cols",t.cols):t.width!="none"&&r.width(t.width),n(this).append(r),r}},select:{element:function(){var r=n("<select />");return n(this).append(r),r},content:function(t,i,r){var u,f,e,o;String==t.constructor?eval("var u = "+t):u=t;for(f in u)u.hasOwnProperty(f)&&"selected"!=f&&(e=n("<option />").val(f).append(u[f]),n("select",this).append(e));n("select",this).children().each(function(){(n(this).val()==u.selected||n(this).text()==n.trim(r.revert))&&n(this).attr("selected","selected")}),i.submit||(o=this,n("select",this).change(function(){o.submit()}))}},checkbox:{element:function(){var u=n("<input type='checkbox' />");return n(this).append(u),u},content:function(t,i){if((t=="true"||t=="True")&&n('input[type="checkbox"]',this).attr("checked","checked"),!i.submit){var u=this;n('input[type="checkbox"]',this).change(function(){n(this).is(":checked")?n(this).val("true"):n(this).val("false"),u.submit()})}}},date:{element:function(t,i){i.onblur="ignore";var u=n("<input id='inline-datepicker' type='text' class='datepicker'/>");return n(this).append(u),u},content:function(t,i,r){var f="",u;i.onblur="nothing",i.dateFormat!=null&&(f=i.dateFormat(r),n(this.find("#inline-datepicker")).attr("data-date-format",f),n(this.find("#inline-datepicker")).addClass("dateFormatted")),i.type="date",n("#inline-datepicker",this).val(t),n("#inline-datepicker",this).prop("value",t),u=this,gemini_ui.datePicker(u.find("#inline-datepicker"),function(){u.submit(),i.onblur="cancel"},function(){i.onblur="cancel",r.reset(u)}),setTimeout(function(){u.find("#inline-datepicker").DatePickerShow()},250)}},color:{element:function(t){var e=t,f=n('<input type="hidden"/><div id="colorSelector"><div style="background-color: #ffffff"><\/div><\/div>'),u;return n(this).append(f),u=this,n("#colorSelector",this).ColorPicker({onChange:function(t,i){n("#colorSelector div",u).css("backgroundColor","#"+i),n("#ColorCode",u).val("#"+i)},onSubmit:function(t,i,r,f){e.type="color",n(f).val(i),n(f).ColorPickerHide(),n('input[type="hidden"]',u).val("#"+i),n('input[type="hidden"]',u).change()}}),f},content:function(t,i){i.type="color",n("#colorSelector",this).ColorPickerSetColor(t),n("#colorSelector div",this).css("backgroundColor",t);var u=this;n('input[type="hidden"]',this).change(function(){u.submit()})}}},addInputType:function(t,i){n.editable.types[t]=i}},n.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{},detectType:null,dateFormat:null,validationRequired:null,validationEmail:null}})(jQuery);(function(n){var t=function(){var gt={},ni,y=65,ti,it='<div class="colorpicker"><div class="colorpicker_color"><div><div><\/div><\/div><\/div><div class="colorpicker_hue"><div><\/div><\/div><div class="colorpicker_new_color"><\/div><div class="colorpicker_current_color"><\/div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /><\/div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span><\/span><\/div><div class="colorpicker_submit"><\/div><\/div>',rt={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},i=function(t,i){var r=c(t);n(i).data("colorpicker").fields.eq(1).val(r.r).end().eq(2).val(r.g).end().eq(3).val(r.b).end()},f=function(t,i){n(i).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},r=function(i,r){n(r).data("colorpicker").fields.eq(0).val(t(i)).end()},e=function(i,r){n(r).data("colorpicker").selector.css("backgroundColor","#"+t({h:i.h,s:100,b:100})),n(r).data("colorpicker").selectorIndic.css({left:parseInt(150*i.s/100,10),top:parseInt(150*(100-i.b)/100,10)})},o=function(t,i){n(i).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},l=function(i,r){n(r).data("colorpicker").currentColor.css("backgroundColor","#"+t(i))},s=function(i,r){n(r).data("colorpicker").newColor.css("backgroundColor","#"+t(i))},ut=function(t){var i=t.charCode||t.keyCode||-1,r;if(i>y&&i<=90||i==32)return!1;r=n(this).parent().parent(),r.data("colorpicker").livePreview===!0&&u.apply(this)},u=function(u){var l=n(this).parent().parent(),y;l.data("colorpicker").color=this.parentNode.className.indexOf("_hex")>0?y=v(wt(this.value)):this.parentNode.className.indexOf("_hsb")>0?y=a({h:parseInt(l.data("colorpicker").fields.eq(4).val(),10),s:parseInt(l.data("colorpicker").fields.eq(5).val(),10),b:parseInt(l.data("colorpicker").fields.eq(6).val(),10)}):y=h(pt({r:parseInt(l.data("colorpicker").fields.eq(1).val(),10),g:parseInt(l.data("colorpicker").fields.eq(2).val(),10),b:parseInt(l.data("colorpicker").fields.eq(3).val(),10)})),u&&(i(y,l.get(0)),r(y,l.get(0)),f(y,l.get(0))),e(y,l.get(0)),o(y,l.get(0)),s(y,l.get(0)),l.data("colorpicker").onChange.apply(l,[y,t(y),c(y)])},ft=function(){var i=n(this).parent().parent();i.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},et=function(){y=this.parentNode.className.indexOf("_hex")>0?70:65,n(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),n(this).parent().addClass("colorpicker_focus")},ot=function(t){var i=n(this).parent().find("input").focus(),r={el:n(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:i,val:parseInt(i.val(),10),preview:n(this).parent().parent().data("colorpicker").livePreview};n(document).bind("mouseup",r,w),n(document).bind("mousemove",r,p)},p=function(n){return n.data.field.val(Math.max(0,Math.min(n.data.max,parseInt(n.data.val+n.pageY-n.data.y,10)))),n.data.preview&&u.apply(n.data.field.get(0),[!0]),!1},w=function(t){return u.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),n(document).unbind("mouseup",w),n(document).unbind("mousemove",p),!1},st=function(){var i={cal:n(this).parent(),y:n(this).offset().top};i.preview=i.cal.data("colorpicker").livePreview,n(document).bind("mouseup",i,k),n(document).bind("mousemove",i,b)},b=function(n){return u.apply(n.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,n.pageY-n.data.y)))/150,10)).get(0),[n.data.preview]),!1},k=function(t){return i(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),n(document).unbind("mouseup",k),n(document).unbind("mousemove",b),!1},ht=function(){var i={cal:n(this).parent(),pos:n(this).offset()};i.preview=i.cal.data("colorpicker").livePreview,n(document).bind("mouseup",i,g),n(document).bind("mousemove",i,d)},d=function(n){return u.apply(n.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,n.pageY-n.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,n.pageX-n.data.pos.left))/150,10)).get(0),[n.data.preview]),!1},g=function(t){return i(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),n(document).unbind("mouseup",g),n(document).unbind("mousemove",d),!1},ct=function(){n(this).addClass("colorpicker_focus")},lt=function(){n(this).removeClass("colorpicker_focus")},at=function(){var r=n(this).parent(),u=r.data("colorpicker").color;r.data("colorpicker").origColor=u,l(u,r.get(0));r.data("colorpicker").onSubmit(u,t(u),c(u),r.data("colorpicker").el)},nt=function(){var i=n("#"+n(this).data("colorpickerId"));i.data("colorpicker").onBeforeShow.apply(this,[i.get(0)]);var e=n(this).offset(),r=yt(),u=e.top+this.offsetHeight,f=e.left;return u+176>r.t+r.h&&(u-=this.offsetHeight+176),f+356>r.l+r.w&&(f-=356),i.css({left:f+"px",top:u+"px"}),i.data("colorpicker").onShow.apply(this,[i.get(0)])!=!1&&i.show(),n(document).bind("mousedown",{cal:i},tt),!1},tt=function(i){vt(i.data.cal.get(0),i.target,i.data.cal.get(0))||(i.data.cal.data("colorpicker").onHide.apply(this,[i.data.cal.get(0),t(n(i.data.cal.get(0)).data("colorpicker").color)])!=!1&&i.data.cal.find("div.colorpicker_submit").trigger("click"),n(document).unbind("mousedown",tt))},vt=function(n,t,i){if(n==t)return!0;if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(t)&16);for(var r=t.parentNode;r&&r!=i;){if(r==n)return!0;r=r.parentNode}return!1},yt=function(){var n=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(n?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(n?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(n?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(n?document.documentElement.clientHeight:document.body.clientHeight)}},a=function(n){return{h:Math.min(360,Math.max(0,n.h)),s:Math.min(100,Math.max(0,n.s)),b:Math.min(100,Math.max(0,n.b))}},pt=function(n){return{r:Math.min(255,Math.max(0,n.r)),g:Math.min(255,Math.max(0,n.g)),b:Math.min(255,Math.max(0,n.b))}},wt=function(n){var r=6-n.length,t,i;if(r>0){for(t=[],i=0;i<r;i++)t.push("0");t.push(n),n=t.join("")}return n},bt=function(n){var n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16);return{r:n>>16,g:(n&65280)>>8,b:n&255}},v=function(n){return h(bt(n))},h=function(n){var t={h:0,s:0,b:0},u=Math.min(n.r,n.g,n.b),i=Math.max(n.r,n.g,n.b),r=i-u;return t.b=i,i!=0,t.s=i!=0?255*r/i:0,t.h=t.s!=0?n.r==i?(n.g-n.b)/r:n.g==i?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},c=function(n){var t={},u=Math.round(n.h),o=Math.round(n.s*255/100),e=Math.round(n.b*255/100);if(o==0)t.r=t.g=t.b=e;else{var i=e,r=(255-o)*e/255,f=(i-r)*(u%60)/60;u==360&&(u=0),u<60?(t.r=i,t.b=r,t.g=r+f):u<120?(t.g=i,t.b=r,t.r=i-f):u<180?(t.g=i,t.r=r,t.b=r+f):u<240?(t.b=i,t.r=r,t.g=i-f):u<300?(t.b=i,t.g=r,t.r=r+f):u<360?(t.r=i,t.g=r,t.b=i-f):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},kt=function(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(i,function(n,t){t.length==1&&(i[n]="0"+t)}),i.join("")},t=function(n){return kt(c(n))},dt=function(){var t=n(this).parent(),u=t.data("colorpicker").origColor;t.data("colorpicker").color=u,i(u,t.get(0)),r(u,t.get(0)),f(u,t.get(0)),e(u,t.get(0)),o(u,t.get(0)),s(u,t.get(0))};return{init:function(t){if(t=n.extend({},rt,t||{}),typeof t.color=="string")t.color=v(t.color);else if(t.color.r!=undefined&&t.color.g!=undefined&&t.color.b!=undefined)t.color=h(t.color);else if(t.color.h!=undefined&&t.color.s!=undefined&&t.color.b!=undefined)t.color=a(t.color);else return this;return this.each(function(){var h,a,c;n(this).data("colorpickerId")||(h=n.extend({},t),h.origColor=t.color,a="collorpicker_"+parseInt(Math.random()*1e3),n(this).data("colorpickerId",a),c=n(it).attr("id",a),h.flat?c.appendTo(this).show():c.appendTo(document.body),h.fields=c.find("input").bind("keyup",ut).bind("change",u).bind("blur",ft).bind("focus",et),c.find("span").bind("mousedown",ot).end().find(">div.colorpicker_current_color").bind("click",dt),h.selector=c.find("div.colorpicker_color").bind("mousedown",ht),h.selectorIndic=h.selector.find("div div"),h.el=this,h.hue=c.find("div.colorpicker_hue div"),c.find("div.colorpicker_hue").bind("mousedown",st),h.newColor=c.find("div.colorpicker_new_color"),h.currentColor=c.find("div.colorpicker_current_color"),c.data("colorpicker",h),c.find("div.colorpicker_submit").bind("mouseenter",ct).bind("mouseleave",lt).bind("click",at),i(h.color,c.get(0)),f(h.color,c.get(0)),r(h.color,c.get(0)),o(h.color,c.get(0)),e(h.color,c.get(0)),l(h.color,c.get(0)),s(h.color,c.get(0)),h.flat?c.css({position:"relative",display:"block"}):n(this).bind(h.eventName,nt))})},showPicker:function(){return this.each(function(){n(this).data("colorpickerId")&&nt.apply(this)})},hidePicker:function(){return this.each(function(){n(this).data("colorpickerId")&&n("#"+n(this).data("colorpickerId")).hide()})},setColor:function(t){if(typeof t=="string")t=v(t);else if(t.r!=undefined&&t.g!=undefined&&t.b!=undefined)t=h(t);else if(t.h!=undefined&&t.s!=undefined&&t.b!=undefined)t=a(t);else return this;return this.each(function(){if(n(this).data("colorpickerId")){var u=n("#"+n(this).data("colorpickerId"));u.data("colorpicker").color=t,u.data("colorpicker").origColor=t,i(t,u.get(0)),f(t,u.get(0)),r(t,u.get(0)),o(t,u.get(0)),e(t,u.get(0)),l(t,u.get(0)),s(t,u.get(0))}})}}}();n.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.09 (16-APR-2012)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is(":submit,input:image")){if(f=u.closest(":submit"),f.length===0)return;r=f[0]}i=this,i.clk=r,r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop)),setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=n("<input type='file'/>").get(0).files!==undefined,i.formdata=window.FormData!==undefined,n.fn.ajaxSubmit=function(r){function rt(t){for(var e=new FormData,f,i,o,u=0;u<t.length;u++)e.append(t[u].name,t[u].value);if(r.extraData)for(f in r.extraData)r.extraData.hasOwnProperty(f)&&e.append(f,r.extraData[f]);r.data=null,i=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:"POST"}),r.uploadProgress&&(i.xhr=function(){var n=jQuery.ajaxSettings.xhr();return n.upload&&(n.upload.onprogress=function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100)),r.uploadProgress(n,i,u,t)}),n}),i.data=null,o=i.beforeSend,i.beforeSend=function(n,t){t.data=e,o&&o.call(t,n,r)},n.ajax(i)}function tt(i){function ft(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function et(){function s(){try{var n=ft(a).readyState;t("state = "+n),n&&n.toLowerCase()=="uninitialized"&&setTimeout(s,50)}catch(i){t("Server abort: ",i," (",i.name,")"),p(g),k&&clearTimeout(k),k=undefined}}var e=u.attr("target"),o=u.attr("action"),r,i;h.setAttribute("target",b),c||h.setAttribute("method","POST"),o!=f.url&&h.setAttribute("action",f.url),f.skipEncodingOverride||c&&!/post/i.test(c)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(k=setTimeout(function(){tt=!0,p(it)},f.timeout)),r=[];try{if(f.extraData)for(i in f.extraData)f.extraData.hasOwnProperty(i)&&r.push(n('<input type="hidden" name="'+i+'">').attr("value",f.extraData[i]).appendTo(h)[0]);f.iframeTarget||(l.appendTo("body"),a.attachEvent?a.attachEvent("onload",p):a.addEventListener("load",p,!1)),setTimeout(s,15),h.submit()}finally{h.setAttribute("action",o),e?h.setAttribute("target",e):u.removeAttr("target"),n(r).remove()}}function p(i){var r,u,w,s,b,d,h,c,y;if(!e.aborted&&!ht){try{o=ft(a)}catch(nt){t("cannot access response document: ",nt),i=g}if(i===it&&e){e.abort("timeout");return}if(i==g&&e){e.abort("server abort");return}if(o&&o.location.href!=f.iframeSrc||tt){a.detachEvent?a.detachEvent("onload",p):a.removeEventListener("load",p,!1),r="success";try{if(tt)throw"timeout";if(w=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+w),!w&&window.opera&&(o.body===null||!o.body.innerHTML)&&--st){t("requeing onLoad callback, DOM not available"),setTimeout(p,250);return}s=o.body?o.body:o.documentElement,e.responseText=s?s.innerHTML:null,e.responseXML=o.XMLDocument?o.XMLDocument:o,w&&(f.dataType="xml"),e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]},s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText),b=(f.dataType||"").toLowerCase(),d=/(json|script|text)/.test(b),d||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(c=o.getElementsByTagName("pre")[0],y=o.getElementsByTagName("body")[0],c?e.responseText=c.textContent?c.textContent:c.innerText:y&&(e.responseText=y.textContent?y.textContent:y.innerText))):b=="xml"&&!e.responseXML&&e.responseText&&(e.responseXML=lt(e.responseText));try{ot=vt(e,b,f)}catch(i){r="parsererror",e.error=u=i||r}}catch(i){t("error caught: ",i),r="error",e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null),e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error"),r==="success"?(f.success&&f.success.call(f.context,ot,"success",e),v&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u===undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),v&&n.event.trigger("ajaxError",[e,f,u])),v&&n.event.trigger("ajaxComplete",[e,f]),v&&!--n.active&&n.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,e,r),ht=!0,f.timeout&&clearTimeout(k),setTimeout(function(){f.iframeTarget||l.remove(),e.responseXML=null},100)}}}var h=u[0],nt,d,f,v,b,l,a,e,w,y,tt,k,ct=!!n.fn.prop,it,g,rt,ut,ot,o,st,ht;if(!n(":input[name=submit],:input[id=submit]",h).length){if(i)for(d=0;d<s.length;d++)nt=n(s[d]),ct?nt.prop("disabled",!1):nt.removeAttr("disabled");if(f=n.extend(!0,{},n.ajaxSettings,r),f.context=f.context||f,b="jqFormIO"+ +new Date,f.iframeTarget?(l=n(f.iframeTarget),y=l.attr("name"),y?b=y:l.attr("name",b)):(l=n('<iframe name="'+b+'" src="'+f.iframeSrc+'" />'),l.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=l[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1,l.attr("src",f.iframeSrc),e.error=r,f.error&&f.error.call(f.context,e,r,i),v&&n.event.trigger("ajaxError",[e,f,r]),f.complete&&f.complete.call(f.context,e,r)}},v=f.global,v&&0==n.active++&&n.event.trigger("ajaxStart"),v&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1){f.global&&n.active--;return}if(!e.aborted){w=h.clk,w&&(y=w.name,y&&!w.disabled&&(f.extraData=f.extraData||{},f.extraData[y]=w.value,w.type=="image"&&(f.extraData[y+".x"]=h.clk_x,f.extraData[y+".y"]=h.clk_y))),it=1,g=2,rt=n("meta[name=csrf-token]").attr("content"),ut=n("meta[name=csrf-param]").attr("content"),ut&&rt&&(f.extraData=f.extraData||{},f.extraData[ut]=rt),f.forceSync?et():setTimeout(et,10),st=50;var lt=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},at=n.parseJSON||function(n){return window.eval("("+n+")")},vt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=at(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u}}}}var c,p,f,u,l,a,s,v,e,h,o,b,nt,y;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,typeof r=="function"&&(r={success:r}),c=this.attr("method"),p=this.attr("action"),f=typeof p=="string"?n.trim(p):"",f=f||window.location.href||"",f&&(f=(f.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:f,success:n.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),l={},this.trigger("form-pre-serialize",[this,r,l]),l.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(a=r.traditional,a===undefined&&(a=n.ajaxSettings.traditional),s=[],e=this.formToArray(r.semantic,s),r.data&&(r.extraData=r.data,v=n.param(r.data,a)),r.beforeSubmit&&r.beforeSubmit(e,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[e,this,r,l]),l.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=n.param(e,a),v&&(h=h?h+"&"+v:v),r.type.toUpperCase()=="GET"?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+h,r.data=null):r.data=h,o=[],r.resetForm&&o.push(function(){u.resetForm()}),r.clearForm&&o.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target?(b=r.success||function(){},o.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(b,arguments)})):r.success&&o.push(r.success),r.success=function(n,t,i){for(var s=r.context||r,f=0,e=o.length;f<e;f++)o[f].apply(s,[n,t,i||u,u])};var it=n("input:file:enabled[value]",this),k=it.length>0,d="multipart/form-data",g=u.attr("enctype")==d||u.attr("encoding")==d,w=i.fileapi&&i.formdata;for(t("fileAPI :"+w),nt=(k||g)&&!w,r.iframe!==!1&&(r.iframe||nt)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){tt(e)}):tt(e):(k||g)&&w?rt(e):n.ajax(r),y=0;y<s.length;y++)s[y]=null;return this.trigger("form-submit-notify",[this,r]),this},n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)},n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},n.fn.formToArray=function(t,r){var e=[],o,c,l,s,f,h,u,p,w,a,y,v;if(this.length===0||(o=this[0],c=t?o.getElementsByTagName("*"):o.elements,!c))return e;for(l=0,p=c.length;l<p;l++)if(u=c[l],f=u.name,f){if(t&&o.clk&&u.type=="image"){u.disabled||o.clk!=u||(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));continue}if(h=n.fieldValue(u,!0),h&&h.constructor==Array)for(r&&r.push(u),s=0,w=h.length;s<w;s++)e.push({name:f,value:h[s]});else if(i.fileapi&&u.type=="file"&&!u.disabled)if(r&&r.push(u),a=u.files,a.length)for(s=0;s<a.length;s++)e.push({name:f,value:a[s],type:u.type});else e.push({name:f,value:"",type:u.type});else h!==null&&typeof h!="undefined"&&(r&&r.push(u),e.push({name:f,value:h,type:u.type,required:u.required}))}return!t&&o.clk&&(y=n(o.clk),v=y[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(e.push({name:f,value:y.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e},n.fn.formSerialize=function(t){return n.param(this.formToArray(t))},n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)},n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r},n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()},n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})},n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})},n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})},n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})},n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})},n.fn.ajaxSubmit.debug=!1})(jQuery);(function(n,t,i){"use strict";var e={version:"2.0.1",tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,tipContainer:"body",postRideCallback:n.noop,postStepCallback:n.noop,template:{link:"",timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"><\/span><\/div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"><\/span><\/div>',wrapper:'<div class="joyride-content-wrapper"><\/div>',button:'<a href="#" class="joyride-next-tip"><\/a>',progress:'<div style="float:right; display:inline-block;margin: -5px 12px 0 0; font-size:14px; color:silver;">{index} of {length}<\/div>'}},f=f||!1,r={},u={init:function(i){return this.each(function(){if(n.isEmptyObject(r)){r=n.extend(e,i),r.document=t.document,r.$document=n(r.document),r.$window=n(t),r.$content_el=n(this),r.body_offset=n(r.tipContainer).position(),r.$tip_content=n("> li",r.$content_el),r.paused=!1,r.attempts=0,r.numberOfTips=n(this).children().length,r.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},u.jquery_check(),n.isFunction(n.cookie)||(r.cookieMonster=!1),r.cookieMonster&&n.cookie(r.cookieName)||(r.$tip_content.each(function(t){u.create({$li:n(this),index:t})}),!r.startTimerOnClick&&r.timer>0?(u.show("init"),u.startTimer()):u.show("init"));r.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(n){n.preventDefault(),r.$li.next().length<1?u.end():r.timer>0?(clearTimeout(r.automate),u.hide(),u.show(),u.startTimer()):(u.hide(),u.show())});n(".joyride-close-tip").on("click.joyride",function(n){n.preventDefault(),u.end()});r.$window.on("resize.joyride",function(){u.is_phone()?u.pos_phone():u.pos_default()})}else u.restart()})},resume:function(){u.set_li(),u.show()},tip_template:function(t){var i,e,f;return t.tip_class=t.tip_class||"",i=n(r.template.tip).addClass(t.tip_class),e=n.trim(n(t.li).html())+u.button_text(t.button_text)+r.template.link+u.timer_instance(t.index),i.append(n(r.template.wrapper)),f=n(r.template.progress),f.html(f.html().replace("{index}",t.index+1)),f.html(f.html().replace("{length}",r.numberOfTips)),i.append(f),i.first().attr("data-index",t.index),n(".joyride-content-wrapper",i).append(e),i[0]},timer_instance:function(t){var i;return i=t===0&&r.startTimerOnClick&&r.timer>0||r.timer===0?"":u.outerHTML(n(r.template.timer)[0])},button_text:function(t){return r.nextButton?(t=n.trim(t)||"Next",t=u.outerHTML(n(r.template.button).append(t)[0])):t="",t},create:function(t){var i=t.$li.attr("data-button")||t.$li.attr("data-text"),f=t.$li.attr("class"),e=n(u.tip_template({tip_class:f,index:t.index,button_text:i,li:t.$li}));n(r.tipContainer).append(e)},show:function(t){var h={},e,s=[],c=0,o,f=null;if(r.$li===i||n.inArray(r.$li.index(),r.pauseAfter)===-1)if(r.paused?r.paused=!1:u.set_li(t),r.attempts=0,r.$li.length&&r.$target.length>0){for(s=(r.$li.data("options")||":").split(";"),c=s.length,e=c-1;e>=0;e--)o=s[e].split(":"),o.length===2&&(h[n.trim(o[0])]=n.trim(o[1]));r.tipSettings=n.extend({},r,h),r.tipSettings.tipLocationPattern=r.tipLocationPatterns[r.tipSettings.tipLocation],/body/i.test(r.$target.selector)||u.scroll_to(),u.is_phone()?u.pos_phone(!0):u.pos_default(!0),f=n(".joyride-timer-indicator",r.$next_tip),/pop/i.test(r.tipAnimation)?(f.outerWidth(0),r.timer>0?(r.$next_tip.show(),f.animate({width:n(".joyride-timer-indicator-wrap",r.$next_tip).outerWidth()},r.timer)):r.$next_tip.show()):/fade/i.test(r.tipAnimation)&&(f.outerWidth(0),r.timer>0?(r.$next_tip.fadeIn(r.tipAnimationFadeSpeed),r.$next_tip.show(),f.animate({width:n(".joyride-timer-indicator-wrap",r.$next_tip).outerWidth()},r.timer)):r.$next_tip.fadeIn(r.tipAnimationFadeSpeed)),r.$current_tip=r.$next_tip}else r.$li&&r.$target.length<1?u.show():u.end();else r.paused=!0},is_phone:function(){return f?f.mq("only screen and (max-width: 767px)"):r.$window.width()<767?!0:!1},hide:function(){r.postStepCallback(r.$li.index(),r.$current_tip),n(".joyride-modal-bg").hide(),r.$current_tip.hide()},set_li:function(n){n?(r.$li=r.$tip_content.eq(r.startOffset),u.set_next_tip(),r.$current_tip=r.$next_tip):(r.$li=r.$li.next(),u.set_next_tip()),u.set_target()},set_next_tip:function(){r.$next_tip=n(".joyride-tip-guide[data-index="+r.$li.index()+"]")},set_target:function(){var t=r.$li.attr("data-class"),i=r.$li.attr("data-id"),u=function(){return i?n(r.document.getElementById(i)):t?n("."+t).first():n("body")};r.$target=u()},scroll_to:function(){var t,i;t=r.$window.height()/2,i=Math.ceil(r.$target.offset().top-t+r.$next_tip.outerHeight()),n("html, body").stop().animate({scrollTop:i},r.scrollSpeed)},paused:function(){return n.inArray(r.$li.index()+1,r.pauseAfter)===-1?!0:!1},destroy:function(){r.$document.off(".joyride"),n(t).off(".joyride"),n(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),n(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(r.automate),r={}},restart:function(){u.hide(),r.$li=i,u.show("init")},pos_default:function(t){var o=Math.ceil(r.$window.height()/2),s=r.$next_tip.offset(),i=n(".joyride-nub",r.$next_tip),f=Math.ceil(i.outerHeight()/2),e=t||!1;e&&(r.$next_tip.css("visibility","hidden"),r.$next_tip.show()),/body/i.test(r.$target.selector)?r.$li.length&&u.pos_modal(i):(u.bottom()?(r.tipSettings.nubPosition=="right"?r.$next_tip.css({top:r.$target.offset().top-f,left:r.$target.offset().left-r.$next_tip.outerWidth()-i.outerWidth()/2}):r.$next_tip.css({top:r.$target.offset().top+f+r.$target.outerHeight(),left:r.$target.offset().left}),u.nub_position(i,r.tipSettings.nubPosition,"top")):u.top()?(r.$next_tip.css({top:r.$target.offset().top-r.$next_tip.outerHeight()-f,left:r.$target.offset().left}),u.nub_position(i,r.tipSettings.nubPosition,"bottom")):u.right()?(r.$next_tip.css({top:r.$target.offset().top,left:r.$target.outerWidth()+r.$target.offset().left}),u.nub_position(i,r.tipSettings.nubPosition,"left")):u.left()&&(r.$next_tip.css({top:r.$target.offset().top,left:r.$target.offset().left-r.$next_tip.outerWidth()-f}),u.nub_position(i,r.tipSettings.nubPosition,"right")),!u.visible(u.corners(r.$next_tip))&&r.attempts<r.tipSettings.tipLocationPattern.length&&(i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),r.tipSettings.tipLocation=r.tipSettings.tipLocationPattern[r.attempts],r.attempts++,u.pos_default(!0))),e&&(r.$next_tip.hide(),r.$next_tip.css("visibility","visible"))},pos_phone:function(t){var o=r.$next_tip.outerHeight(),h=r.$next_tip.offset(),s=r.$target.outerHeight(),i=n(".joyride-nub",r.$next_tip),f=Math.ceil(i.outerHeight()/2),e=t||!1;i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),e&&(r.$next_tip.css("visibility","hidden"),r.$next_tip.show()),/body/i.test(r.$target.selector)?r.$li.length&&u.pos_modal(i):u.top()?(r.$next_tip.offset({top:r.$target.offset().top-o-f}),i.addClass("bottom")):(r.$next_tip.offset({top:r.$target.offset().top+s+f}),i.addClass("top")),e&&(r.$next_tip.hide(),r.$next_tip.css("visibility","visible"))},pos_modal:function(t){u.center(),t.hide(),n(".joyride-modal-bg").length<1&&n("body").append('<div class="joyride-modal-bg">').show(),/pop/i.test(r.tipAnimation)?n(".joyride-modal-bg").show():n(".joyride-modal-bg").fadeIn(r.tipAnimationFadeSpeed)},center:function(){var n=r.$window;return r.$next_tip.css({top:(n.height()-r.$next_tip.outerHeight())/2+n.scrollTop(),left:(n.width()-r.$next_tip.outerWidth())/2+n.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(r.tipSettings.tipLocation)},top:function(){return/top/i.test(r.tipSettings.tipLocation)},right:function(){return/right/i.test(r.tipSettings.tipLocation)},left:function(){return/left/i.test(r.tipSettings.tipLocation)},corners:function(n){var t=r.$window,i=t.outerWidth()+t.scrollLeft(),u=t.outerWidth()+t.scrollTop();return[n.offset().top<=t.scrollTop(),i<=n.offset().left+n.outerWidth(),u<=n.offset().top+n.outerHeight(),t.scrollLeft()>=n.offset().left]},visible:function(n){for(var t=n.length;t--;)if(n[t])return!1;return!0},nub_position:function(n,t,i){t==="auto"?n.addClass(i):n.addClass(t)},startTimer:function(){r.$li.length?r.automate=setTimeout(function(){u.hide(),u.show(),u.startTimer()},r.timer):clearTimeout(r.automate)},end:function(){r.cookieMonster&&n.cookie(r.cookieName,"ridden",{expires:365,domain:r.cookieDomain}),r.timer>0&&clearTimeout(r.automate),n(".joyride-modal-bg").hide(),r.$current_tip.hide(),r.postStepCallback(r.$li.index(),r.$current_tip),r.postRideCallback(r.$li.index(),r.$current_tip)},jquery_check:function(){return n.isFunction(n.fn.on)?!0:(n.fn.on=function(n,t,i){return this.delegate(t,n,i)},n.fn.off=function(n,t,i){return this.undelegate(t,n,i)},!1)},outerHTML:function(n){return n.outerHTML||(new XMLSerializer).serializeToString(n)},version:function(){return r.version}};n.fn.joyride=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.joyride");else return u.init.apply(this,arguments)}})(jQuery,this);(function(){function h(n,t,i){if(n.addEventListener){n.addEventListener(t,i,!1);return}n.attachEvent("on"+t,i)}function k(n){return n.type=="keypress"?String.fromCharCode(n.which):i[n.which]?i[n.which]:y[n.which]?y[n.which]:String.fromCharCode(n.which).toLowerCase()}function tt(n,t){return n.sort().join(",")===t.sort().join(",")}function c(n){n=n||{};var i=!1,t;for(t in u){if(n[t]){i=!0;continue}u[t]=0}i||(e=!1)}function d(n,i,r,f,e){var s,o,c=[],h=r.type;if(!t[n])return[];for(h=="keyup"&&v(n)&&(i=[n]),s=0;s<t[n].length;++s)(o=t[n][s],o.seq&&u[o.seq]!=o.level)||h==o.action&&((h!="keypress"||r.metaKey||r.ctrlKey)&&!tt(i,o.modifiers)||(f&&o.combo==e&&t[n].splice(s,1),c.push(o)));return c}function it(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function l(n,t,i){o.stopCallback(t,t.target||t.srcElement,i)||n(t,i)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function rt(n,t){for(var r=d(n,it(t),t),u={},f=!1,i=0;i<r.length;++i){if(r[i].seq){f=!0,u[r[i].seq]=1,l(r[i].callback,t,r[i].combo);continue}f||e||l(r[i].callback,t,r[i].combo)}t.type!=e||v(n)||c(u)}function a(n){typeof n.which!="number"&&(n.which=n.keyCode);var t=k(n);if(t){if(n.type=="keyup"&&s==t){s=!1;return}rt(t,n)}}function v(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function ut(){clearTimeout(b),b=setTimeout(c,1e3)}function ft(){if(!f){f={};for(var n in i)n>95&&n<112||i.hasOwnProperty(n)&&(f[i[n]]=n)}return f}function g(n,t,i){return i||(i=ft()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function et(n,t,i,r){u[n]=0,r||(r=g(t[0],[]));for(var o=function(){e=r,++u[n],ut()},h=function(t){l(i,t,n),r!=="keyup"&&(s=k(t)),setTimeout(c,10)},f=0;f<t.length;++f)nt(t[f],f<t.length-1?o:h,r,n,f)}function nt(n,i,r,u,f){n=n.replace(/\s+/g," ");var c=n.split(" "),s,e,h,o=[];if(c.length>1){et(n,c,i,r);return}for(h=n==="+"?["+"]:n.split("+"),s=0;s<h.length;++s)e=h[s],w[e]&&(e=w[e]),r&&r!="keypress"&&p[e]&&(e=p[e],o.push("shift")),v(e)&&o.push(e);r=g(e,o,r),t[e]||(t[e]=[]),d(e,o,{type:r},!u,n),t[e][u?"unshift":"push"]({callback:i,modifiers:o,action:r,seq:u,level:f,combo:n})}function ot(n,t,i){for(var r=0;r<n.length;++r)nt(n[r],t,i)}for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc"},f,t={},r={},u={},b,s=!1,e=!1,o,n=1;n<20;++n)i[111+n]="f"+n;for(n=0;n<=9;++n)i[n+96]=n;h(document,"keypress",a),h(document,"keydown",a),h(document,"keyup",a),o={bind:function(n,t,i){return ot(n instanceof Array?n:[n],t,i),r[n+":"+i]=t,this},unbind:function(n,t){return r[n+":"+t]&&(delete r[n+":"+t],this.bind(n,function(){},t)),this},trigger:function(n,t){return r[n+":"+t](),this},reset:function(){return t={},r={},this},stopCallback:function(n,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.contentEditable&&t.contentEditable=="true"}},window.Mousetrap=o,typeof define=="function"&&define.amd&&define(o)})();var cs_colors={color_shadow:"black",theme_color:"#63b6db",theme_color_secondary:"#6dc1e7",theme_color_gradient:"#309dcf",theme_color_border:"#2f8eb8",theme_color_text:"white",theme_color_plus:"#1a7fb2",theme_background:"white",color_green:"#41a241",color_red:"#d42f2f",color_black:"#4c4c4c",color_white:"white",color_yellow:"yellow",color_orange:"#ff7700",color_text:"#4c4c4c",color_grayscale:"#4c4c4c",color_grayscale0:"#747474",color_grayscale1:"#888888",color_grayscale2:"#c4c4c4",color_grayscale3:"#e2e2e2",color_grayscale4:"#f5f5f5",color_grayscale5:"#d6d6d6",color_tooltip:"#fff7b7",color_tooltip_border:"#ffec51",color_hover:"#fff8dc",color_menu_text:"#333333",color_menu_key:"#128784",color_highlight:"#fe57a1",color_error:"#fff6f8",color_placeholder:"#eeeeee",color_link_action:"#790000",color_project:"#00a79d",color_docs:"#ffde17",color_planner:"#3bb54a",color_roadmap:"#8dc63f",color_testing:"#ed1c24",color_activity:"#f15a29",color_sysmsg:"#da1c5c",color_ads:"#662d91",color_report:"#a97c50",color_admin:"#f7941e",color_items:"#27aae1",color_item:"#2b3990",color_button_standard:"#fcfcfc",color_button_default:"#fbb450",color_button_success:"#62c462",color_button_primary:"#0088cc",color_password_very_weak:"#aa0033",color_password_weak:"#f5ac00",color_password_good:"#6699cc",color_password_strong:"green",color_panel_header:"#aaaaaa",heatmap1:"#ff4000",heatmap2:"#ff5500",heatmap3:"#ff6a00",heatmap4:"#ff8000",heatmap5:"#ff9500",heatmap6:"#ffaa00",heatmap7:"#ffbf00",heatmap8:"#ffd500",heatmap9:"#ffea00",heatmap10:"yellow",color_000:"black"};gemini_keyboard={q_escape:[],q_yes:[],q_no:[],initKeyboard:function(){Mousetrap.bind("esc",function(n,t){gemini_keyboard.invoker(t)}),Mousetrap.bind(["y","Y"],function(n,t){gemini_keyboard.invoker(t)}),Mousetrap.bind(["n","N"],function(n,t){gemini_keyboard.invoker(t)})},bindEscape:function(n,t){var i=gemini_keyboard.getSelectorId(n,gemini_keyboard.q_escape);return i==!1&&(i=gemini_commons.guidGenerator(),typeof t=="undefined"&&(t=gemini_keyboard.EscFunction),gemini_keyboard.q_escape.push({guid:i,func:t,selector:n})),i},unbindEscape:function(n,t){gemini_keyboard.q_escape=t?_.reject(gemini_keyboard.q_escape,function(t){return t.guid==n}):_.reject(gemini_keyboard.q_escape,function(t){return t.selector==n})},bindYes:function(n,t){var i=gemini_keyboard.getSelectorId(n,gemini_keyboard.q_yes);return i==!1&&(i=gemini_commons.guidGenerator(),typeof t=="undefined"&&(t=gemini_keyboard.YesFunction),gemini_keyboard.q_yes.push({guid:i,func:t,selector:n})),i},unbindYes:function(n,t){gemini_keyboard.q_yes=t?_.reject(gemini_keyboard.q_yes,function(t){return t.guid==n}):_.reject(gemini_keyboard.q_yes,function(t){return t.selector==n})},bindNo:function(n,t){var i=gemini_keyboard.getSelectorId(n,gemini_keyboard.q_no);return i==!1&&(i=gemini_commons.guidGenerator(),typeof t=="undefined"&&(t=gemini_keyboard.NoFunction),gemini_keyboard.q_no.push({guid:i,func:t,selector:n})),i},unbindNo:function(n,t){gemini_keyboard.q_no=t?_.reject(gemini_keyboard.q_no,function(t){return t.guid==n}):_.reject(gemini_keyboard.q_no,function(t){return t.selector==n})},invoker:function(n){var i={guid:"",func:null};n.toLowerCase()=="esc"&&gemini_keyboard.q_escape.length>0?i=gemini_keyboard.q_escape[gemini_keyboard.q_escape.length-1]:n.toLowerCase()=="y"&&gemini_keyboard.q_yes.length>0?i=gemini_keyboard.q_yes[gemini_keyboard.q_yes.length-1]:n.toLowerCase()=="n"&&gemini_keyboard.q_no.length>0&&(i=gemini_keyboard.q_no[gemini_keyboard.q_no.length-1]),i.func!=null&&i.func(i.guid,i.selector)},getSelectorId:function(n,t){var i=!1;return _.each(t,function(t){t.selector==n&&(i=t.guid)}),i},diag:function(){console.log("--------------------"),_.each(gemini_keyboard.q_escape,function(n){console.log("Q escape: "+n.guid,n.selector)}),_.each(gemini_keyboard.q_yes,function(n){console.log("Q yes: "+n.guid,n.selector)}),_.each(gemini_keyboard.q_no,function(n){console.log("Q no: "+n.guid,n.selector)}),console.log("--------------------")},EscFunction:function(n,t){$(t).is(":visible")&&($(t).click(),gemini_keyboard.unbindEscape(n,!0))},NoFunction:function(n,t){$(t).is(":visible")&&($(t).click(),gemini_keyboard.unbindNo(n,!0))},YesFunction:function(n,t){$(t).is(":visible")&&($(t).click(),$(t).is(":visible")||gemini_keyboard.unbindYes(n,!0))}};var gemini_master={resizedProjectMenu:!1,initBase:function(n){$(document).on("click","#playlist .card",function(){var n=$(this).attr("href");window.location.href=n});$("#pin-page").click(function(){gemini_appnav.pinPage()}),$("#reset-help").click(function(){gemini_ajax.postCall("account/tour","reset",function(){gemini_commons.refreshPage()})}),gemini_appnav.manager(n),gemini_sizing.appResizer(),gemini_pdf.init(),gemini_share.init(),gemini_popup.init(),gemini_add.init(),$.validator.setDefaults({ignore:".ignore"}),$("#help-link").colorbox({href:csVars.Url+"tour",transition:"none",initialWidth:"870px",initialHeight:"538px",width:"870px",height:"538px",close:"close",overlayClose:!0,escKey:!0,opacity:"0.8"}),$(".dropdown").click(function(){if($(".cs-menu-dropdown",$(this)).is(":visible"))$(".cs-menu-dropdown",$(this)).hide();else{if($(".cs-menu-dropdown").hide(),$(".cs-menu-dropdown",$(this)).slideDown(100),gemini_keyboard.bindEscape(".cs-menu-dropdown",function(){gemini_keyboard.unbindEscape(".cs-menu-dropdown"),$(".cs-menu-dropdown").hide()}),$(this).attr("id")=="all-projects-menu-box"&&gemini_master.resizedProjectMenu==!1&&(gemini_sizing.padProjectsMenu(),gemini_master.resizedProjectMenu=!0),$(this).attr("id")=="user-menu")$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"right top",at:"right top",offset:"0 "+($(this).height()+4),collision:"none"});else if($(this).attr("id")=="project-menu-dropdown"){var t=$(this).height()+8;$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"left top",at:"left top",offset:"0 "+t,collision:"none"})}else $(".cs-menu-dropdown",$(this)).position({of:$(this),my:"left top",at:"left top",offset:"0 "+$(this).height(),collision:"none"});csVars.IsOpera&&($(".cs-menu-dropdown",$(this)).css("left","auto"),$(".cs-menu-dropdown",$(this)).css("top","auto"))}}),window.onbeforeunload=null,gemini_ui.chosen("select:not(.no-chosen)",null),Modernizr.input.placeholder||$("input[type=text]").each(function(){$(this).val()==""&&$(this).attr("placeholder")!=""&&($(this).addClass("search_box_placeholder"),$(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val(""),$(this).removeClass("search_box_placeholder")}),$(this).blur(function(){$(this).val()==""&&($(this).val($(this).attr("placeholder")),$(this).addClass("search_box_placeholder"))}))});var t=$("#footer-messaging").is(":visible"),i=$('*:contains("Countersoft Gemini")',"#footer-messaging");t&&i.length||$("body").css("background-color","red"),gemini_master.handleClickAway()},tour:function(n,t,i){i=="home"&&(_.contains(t,"home")||$("#tour-joyride-home").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","home")}})),i=="planner"&&(_.contains(t,"planner")||$("#tour-joyride-planner").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","planner")}})),i=="timeline"&&(_.contains(t,"timeline")||$("#tour-joyride-timeline").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","timeline")}})),i=="roadmap"&&(_.contains(t,"roadmap")||$("#tour-joyride-roadmap").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","roadmap")}})),i=="items"&&(_.contains(t,"items-1")||$("#tour-joyride-items-1").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","items-1")}}),_.contains(t,"items-1")&&!_.contains(t,"items-2")&&$("#tour-joyride-items-2").joyride({postRideCallback:function(){gemini_ajax.postCall("account/tour/update","items-2")}}))},handleClickAway:function(){$("#card-data").click(function(n){$(".cs-menu-dropdown").hide(),$("#card-context-menu").hide(),$(n.target).attr("id")!="card-data-clear"&&n.stopPropagation()}),$(".export-to-container").click(function(n){$(n.target).is("a")&&$(this).fadeOut("fast"),n.stopPropagation()}),$("#page-options-box .options").click(function(n){n.stopPropagation()}),$("#subscribe-dialog").click(function(n){$(".cs-menu-dropdown").hide(),$("#card-context-menu").hide(),n.stopPropagation()}),$("#share-dialog").click(function(n){$(".cs-menu-dropdown").hide(),$("#card-context-menu").hide(),n.stopPropagation()}),$(".cs-menu-dropdown").click(function(n){$("#card-context-menu").hide(),n.stopPropagation()}),$("body").click(function(n){$("#card-data").is(":visible")&&$("#card-data").fadeOut("fast"),$(".export-to-container").is(":visible")&&$(".export-to-container").fadeOut("fast"),$("#column-picker").is(":visible")&&$(n.target).closest("#column-picker").length==0&&$("#column-picker").fadeOut("fast"),$("#subscribe-dialog").is(":visible")&&$("#subscribe-dialog").fadeOut("fast"),$("#share-dialog").is(":visible")&&$("#share-dialog").fadeOut("fast"),$("#items-grid #comments").is(":visible")&&$("#items-grid #comments").fadeOut("fast"),$("#planner-context-popup-new-card").is(":visible")&&$(n.target).closest(".add-to-swimlane").length==0&&$(n.target).closest("#planner-context-popup-new-card").length==0&&$("#planner-context-popup-new-card").fadeOut("fast"),$(".cs-menu-dropdown").is(":visible")&&$(n.target).closest("#user-menu").length==0&&$(n.target).closest("#all-projects-menu-box").length==0&&$(n.target).closest("#project-menu-dropdown").length==0&&$(".cs-menu-dropdown").fadeOut("fast"),$(n.target).hasClass("control-icon")||$(n.target).hasClass("ordering")||$("#page-options-box .options").is(":visible")&&$("#page-options-box .options").fadeOut("fast"),$(n.target).parent().attr("id")!="attribute-options-trigger"&&$(n.target).closest("#attribute-options-picker").length==0&&$(n.target).attr("class")!="search-choice-close"&&$("#attribute-options-picker").is(":visible")&&$("#attribute-options-picker").fadeOut("fast")})}};var gemini_account={initLogin:function(){if($("#regular-form").validate({}),$("#openid-form").validate({}),$("#forgot-password-form").validate({}),$("#Username").focus(),$("#openid-provider-openid").addClass("openid-provider-button-selected"),$("#openid-signin").click(function(){$("#openid-form").valid()&&($("#spinner").spin(gemini_ui.spinnerOptions),gemini_account.DisableFormSubmit("openid-form"))}),window.location.hash.length!=0){accessToken=window.location.hash.substring(1),graphUrl="https://graph.facebook.com/me?"+accessToken+"&callback=gemini_account.displayUser";var n=document.createElement("script");n.src=graphUrl,document.body.appendChild(n)}$(".help-box").click(function(n){n.preventDefault(),n.stopPropagation();var t=$(".help-box").position();$(".help-popup").css("left",t.left),$(".help-popup").css("top",t.top),$(".help-popup").slideDown()}),$("body").click(function(n){if($(n.target).attr("id")!="email"){if($(n.target).closest("div").hasClass("help-popup"))return;$(".help-popup").slideUp()}})},initLoginWait:function(){if($("#spinner").spin(gemini_ui.spinnerOptions),window.location.hash.length!=0){accessToken=window.location.hash.substring(1),graphUrl="https://graph.facebook.com/me?"+accessToken+"&callback=gemini_account.displayUser";var n=document.createElement("script");n.src=graphUrl,document.body.appendChild(n)}},initRegister:function(){$("#regular-form").validate({rules:{confirmpassword:{required:!0,equalTo:"#regular-password"}}}),$("#Username").focus()},initProfile:function(n){$("#regular-form").validate({rules:{confirmpassword:{equalTo:"#regular-password"}}}),$("#Firstname").focus(),$("#api-key").click(function(){gemini_ajax.jsonCall("account","apikey",function(n){$("#ApiKey").val(n.Result.Data)})}),n&&gemini_popup.toast(n)},displayUser:function(n){$.ajax({type:"POST",url:csVars.Url+"account/registerfb",data:{user:n},success:function(n){window.location=n.Message=="Missing"?csVars.Url+"account/profile":csVars.Url},error:function(){}})},DisableFormSubmit:function(n){$("#"+n).submit(function(){$("input[type=submit]",this).attr("disabled","disabled")})},openIdUrl:function(n){var t="",i=!1,r;$("openid-provider-button").removeClass("openid-provider-button-selected"),n=="openid"?(t="<Your Account>.myopenid.com",$("openid-provider-openid").addClass("openid-provider-button-selected"),$("#openid-inputs").show()):n=="google"?(t="https://www.google.com/accounts/o8/id",i=!0,$("openid-provider-google").addClass("openid-provider-button-selected")):n=="yahoo"&&(t="https://me.yahoo.com",i=!0),t&&(r=$("#openid-provider"),r.val(t).focus(),i&&$("#openid-signin").trigger("click"))}};var waitForFinalEvent=function(){var n={};return function(t,i,r){r||(r="Don't call this twice without a uniqueId"),n[r]&&clearTimeout(n[r]),n[r]=setTimeout(t,i)}}(),gemini_commons={visibleYes:function(n){n.removeClass("visible-no").addClass("visible-yes")},visibleNo:function(n){n.removeClass("visible-yes").addClass("visible-no")},isMobile:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?!0:!1},isIe7or8:function(){return csVars.IEVersion!=-1&&(csVars.IEVersion==7||csVars.IEVersion==8)},trim:function(n){for(var t=0,i=n.length-1;t<n.length&&n[t]==" ";)t++;while(i>t&&n[i]==" ")i-=1;return n.substring(t,i+1)},stopClick:function(n){n.preventDefault(),n.stopPropagation()},isEmpty:function(n){return n===""||n==null||n==undefined||n.length==0},hasValue:function(n){return!gemini_commons.isEmpty(n)},guidGenerator:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},setCookie:function(n,t,i){var r=new Date,u;r.setDate(r.getDate()+i),u=escape(t)+(i==null?"":"; expires="+r.toUTCString()),document.cookie=n+" = "+u+"; path=/"},url:function(){return $(document).data("root")},inputKeyHandler:function(n,t,i,r){$(n).bind("keydown.inputKeyHandler",function(n){switch(n.keyCode){case 13:t&&(gemini_commons.stopClick(n),t());break;case 27:i&&(gemini_commons.stopClick(n),i());break;default:r&&r(n)}})},inputKeyHandlerUnbind:function(n){$(n).unbind("keydown.inputKeyHandler")},openUrlInTab:function(n){window.open(n,"_blank")},openUrl:function(n){window.open(n)},openProjectUrlInTab:function(n){window.open(csVars.Url+csVars.ProjectUrl+n,"_blank")},openProjectUrl:function(n){window.open(csVars.Url+csVars.ProjectUrl+n)},openIssueUrlInTab:function(n){window.open(csVars.Url+csVars.ProjectUrl+"item/"+n,"_blank")},openIssueUrlInTabProj:function(n,t){window.open(csVars.Url+"project/All/"+t+"/item/"+n,"_blank")},openIssueUrl:function(n){window.open(csVars.Url+csVars.ProjectUrl+"item/"+n,"_self")},showAddItem:function(){$("#plus-header").click()},refreshPage:function(){window.location.reload()},translateMessage:function(n,t,i,r){$.ajax({type:"POST",url:csVars.Url+"resources/get",data:{keys:JSON.stringify(t)},success:function(t){$(t.Result.Data).each(function(t,i){n=n.replace("[["+i.Key+"]]",i.Value)}),i(n,r)}})},htmlEncode:function(n){return $("<div/>").text(n).html()},htmlDecode:function(n){return $("<div/>").html(n).text()},PAGE_TYPE:{Custom:0,Items:1,Planner:2,Roadmap:3,Changelog:4,Burndown:5,Testing:6,Reports:7,Documents:8,Activity:9,None:10,Item:11,ActivityOverdue:12,ActivityDueToday:13,ActivityDueTomorrow:14,ActivityOpenedRecently:15,ActivityClosedRecently:16,MyWork:17,MyWatched:18,Timeline:19,Calendar:20}};var gemini_documents={init:function(n,t,i,r){if($("#tree").dynatree({onActivate:function(n){gemini_documents.document_FolderList(n.data.key)},debugLevel:0,persist:!1,generateIds:!0,clickFolderMode:1,fx:{height:"toggle",duration:200},initAjax:{url:gemini_ajax.getUrl(csVars.ProjectUrl+"documents","LoadTree"),data:{}},onRender:function(){r||gemini_documents.contextMenu(".dynatree-node")},onPostInit:function(){for(var r=$("#tree").dynatree("getRoot").getChildren(),u,i=0;i<r.length;i++)r[i].isStatusNode()||(u=r[i]);u!=null&&gemini_documents.document_FolderList(u.data.key)}}),$("#folders").resizable({handles:"e"}),$("#DocumentFolderRenamer input").blur(function(){$("#DocumentFolderRenamer").fadeOut()}),gemini_documents.document_uploader=null,!r){gemini_commons.inputKeyHandler("#DocumentFolderRenamer input",function(){var n=$("#DocumentFolderRenamer #NodeId").val(),t=$("#DocumentFolderRenamer #ParentNodeId").val(),i=$("#DocumentFolderRenamer #NewName").val();gemini_documents.document_FolderRename(n,i,t),$("#DocumentFolderRenamer").fadeOut()},function(){$("#DocumentFolderRenamer").fadeOut();var n=$("#tree").dynatree("getTree").selectKey("new");n&&n.remove()}),gemini_documents.document_uploader=new qq.FileUploader({element:$("#page-documents #fileupload-hit")[0],action:gemini_ajax.getUrl(csVars.ProjectUrl+"documents","UploadFile"),debug:!1,onComplete:function(n,t,i){var u=i.fileId,r=i.folderId;gemini_documents.document_FolderList(r)},taxonomy:{uploadButton:n,dropZone:t}}),$.extend(gemini_documents.document_taxonomy,{uploadButton:n,dropZone:t,deleteText:i});$(document).on("click","span.delete-action",function(){var n=$(this).attr("data-id"),t=$(this).closest("tr").children("td:eq(0)").children("a").text();gemini_commons.translateMessage("[[Delete]] : "+t+"?",["Delete"],function(t){gemini_popup.modalConfirm(t,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"documents","DeleteDocument",gemini_documents.document_removeDocument,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{documentId:n})})})});$(document).on("click","span.refresh-action",function(){var n=$(this).attr("data-id");$(".qq-upload-button input").prop("multiple",""),gemini_documents.document_uploader.setParams({documentId:n}),$(".qq-upload-button input").click(),$(".qq-upload-button input").prop("multiple","multiple")});$(document).on("click","span.description-action",function(){var r=$(this).closest("table").find("td input:text");$.each(r,function(n,t){$(t).parent().html($(t).val())});var u=$(this).attr("data-id"),n=$(this).closest("tr").children("td:eq(1)"),i=n.text(),t=$("<input type='text' name='document-description' id='document-description' class='width-100' value='"+i+"'><\/input>");t.bind("blur",function(){n.html(i)}),gemini_commons.inputKeyHandler(t,function(){var i=$(t).val();gemini_ajax.postCall(csVars.ProjectUrl+"/documents","savedescription",function(t){t.Success?(n.empty(),n.html(i)):n.empty()},null,{fileId:u,description:i})},function(){n.html(i)}),n.empty().append(t),t.focus()})}},document_taxonomy:{},document_removeDocument:function(n){if(n.Success){var t=n.Result.Data.id;$("#filelist-container tr[data-id='"+t+"']").remove()}gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},document_uploader:null,document_FolderListed:function(n){$("#page-documents #filelist-container").html(n)},document_FolderList:function(n){gemini_documents.document_uploader!=null&&gemini_documents.document_uploader.setParams({folderId:n});var t={key:n};gemini_ajax.call(csVars.ProjectUrl+"documents","GetFolderContents",gemini_documents.document_FolderListed,null,t)},document_FolderRename:function(n,t,i){var r={key:n=="new"?-1:n,name:t,parent:i};i>0?gemini_ajax.call(csVars.ProjectUrl+"documents","rename",gemini_documents.document_FolderCreated,null,r):gemini_ajax.call(csVars.ProjectUrl+"documents","rename",gemini_documents.document_FolderRenamed,null,r)},document_FolderCreated:function(n){var t=$("#tree").dynatree("getTree").selectKey("new"),i=n.Result.Data.BaseEntity.ParentDocumentId;t.remove(),t=$("#tree").dynatree("getTree").selectKey(i),t.addChild({title:n.Result.Data.BaseEntity.Name,key:n.Result.Data.BaseEntity.Id,isFolder:n.Result.Data.BaseEntity.IsFolder,expand:!1})},document_FolderRenamed:function(n){var t=$("#tree").dynatree("getTree").selectKey(n.Result.Data.BaseEntity.Id);t.data.title=n.Result.Data.BaseEntity.Name,t.render()},document_FolderDeleted:function(n){var t=$("#tree").dynatree("getTree").selectKey(n);t.remove()},document_FolderDeleting:function(n){gemini_ajax.call(csVars.ProjectUrl+"documents","DeleteFolder",function(){gemini_documents.document_FolderDeleted(n.data.key)},null,{folderId:n.data.key})},document_menuRenameFolder:function(n,t){var r=$(n),u=r.parent("li").attr("id").replace("dynatree-id-",""),e=$("#tree").dynatree("getTree").selectKey(u),i=$("#DocumentFolderRenamer"),f;i.show(),i.position({my:"left top",at:"left top",of:r,offset:"+35 -2",collision:"none"}),f=$("#folders").width()-r.position().left-38,i.css("width",f),i.children("input").val(e.data.title).focus().select(),i.children("#NodeId").val(u),i.children("#ParentNodeId").val(t)},document_menuCreateFolder:function(n){var u=$(n),t=u.parent("li").attr("id").replace("dynatree-id-",""),i=$("#tree").dynatree("getTree").selectKey(t),f=i.addChild({title:"",key:"new",isFolder:!0}),r;i.expand(),r=$("#dynatree-id-new span"),gemini_documents.document_menuRenameFolder(r,t)},document_menuDeleteFolder:function(n){var i=$(n),r=i.parent("li").attr("id").replace("dynatree-id-",""),t=$("#tree").dynatree("getTree").selectKey(r);gemini_popup.modalConfirm(gemini_documents.document_taxonomy.deleteText+": "+t.data.title,null,function(){gemini_documents.document_FolderDeleting(t)},null)},contextMenu:function(n){!0&&$(n,"#page-documents").contextMenu({menu:"document-folder-context-menu"},function(n,t){n=="view"||(n=="new"?gemini_documents.document_menuCreateFolder(t):n=="edit"?gemini_documents.document_menuRenameFolder(t,null):n=="delete"&&gemini_documents.document_menuDeleteFolder(t))},function(){})}};gemini_items={init:function(n,t){gemini_filter.init(n),gemini_edit.initEdit(0,n,"#cs-popup","#cs-popup-content","#data",gemini_items.refreshRow),gemini_items.bindContextMenu();$("#data").on("click","#page-options-box #bulk-update",function(){gemini_popup.centerPopup(csVars.ProjectUrl+"bulk","",{},null,t)});$("#data").on("click","#tabledata tr:not(.drop-zone) td:not(:first-child)",function(){gemini_edit.initEditing($(this))});$("#page-content-zone .layout .items-data-container").length>0&&(gemini_items.resizeMainItemsGrid(),$(window).resize(function(){gemini_items.resizeMainItemsGrid()})),gemini_commons.inputKeyHandler("#pageSize",function(){var n=$("#pageSize").val();!isNaN(n)&&parseInt(n)==n&&n.indexOf(".")==-1&&n>0&&gemini_filter.executeFilter()})},resizeMainItemsGrid:function(){var i=$("#page-content-zone .layout").width(),n=0,t;$("#page-content-zone .filter-container").is(":visible")&&(n=$("#page-content-zone .filter-container").width()+10),t=i-n,$("#page-content-zone .layout .items-data-container").css("width",t+"px")},refreshRow:function(n,t){$('tr[data-issue-id="'+t+'"]').replaceWith(n.Result.Html),gemini_items.bindContextMenu(),gemini_filter.initTableDnD()},pageCard:"",pinItem:function(n,t){var i=csVars.Url+"cards/issue";$.ajax({type:"POST",url:i,data:{mode:t,issueId:n},dataType:"json",success:function(n){$("#card-holder").html(n.Result.Data),t&&gemini_appnav.addCardAnimate(),gemini_appnav.resizer(),gemini_appnav.initCardActions()}})},removeCardAnimate:function(n){$("#card-"+n).effect("transfer",{to:$("#contents")},650)},addCardAnimate:function(){$("#card-"+gemini_appnav.pageCard.Id).effect("shake",{times:1,distance:5,direction:"up"},300),$("#contents").effect("transfer",{to:$("#card-"+gemini_appnav.pageCard.Id)},650)},postDelete:function(n){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall(csVars.ProjectUrl+"item","deleteissue/"+n.issueId,gemini_items.PostDeleteResponse,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},postDeleteProj:function(n,t){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall(csVars.ProjectUrl+"item","deleteissue/"+n+"/"+t,gemini_items.PostDeleteResponse,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},PostDeleteResponse:function(n){if(n.Success){var t=$("#pager-next").data("page")-1;$("#card-holder").html(n.Result.Data.navdata),gemini_filter.getFilteredItemsPage(t)}gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_appnav.initCardActions()},bindContextMenu:function(){$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),$("tr[id^='tr-issue-'] td","#tabledata").contextMenu({menu:"item-grid-context-menu"},function(n,t){var r=$(t).parent().data("issue-id"),e=$(t).parent().data("data-issue-id"),f=$(t).parent().attr("data-project-code"),u=$(t).parent().attr("data-project-id");n!="view"||$('#item-grid-context-menu a[href="#view"]').parent().hasClass("disabled")?n=="new"||(n!="edit"||$('#item-grid-context-menu a[href="#edit"]').parent().hasClass("disabled")?n!="comment"||$('#item-grid-context-menu a[href="#comment"]').parent().hasClass("disabled")?n=="share"?gemini_share.showShare("left top","left bottom","0 0",t,r,"{}"):n=="follow"?gemini_ajax.call("project/All/"+u+"/item","addwatcher/"+r+"/0"):n=="pin"?gemini_items.pinItem(r,!1):n!="delete"||$('#item-grid-context-menu a[href="#delete"]').parent().hasClass("disabled")||gemini_popup.modalConfirm("Delete Item "+f+"-"+r+"?",null,function(){gemini_items.postDeleteProj(r,u)}):($("#cs-popup-center-content").css("width","725px"),$("#cs-popup-center-content").css("height","475px"),gemini_popup.centerPopup("project/All/"+u+"/item/"+r+"/editcommenteditor","popup")):gemini_edit.initEditing(t)):gemini_commons.openIssueUrlInTabProj(r,u)},function(n){gemini_ajax.call(csVars.ProjectUrl+"projects","getprojectpermissions/"+$(n).parent().data("issue-id"),function(n){n.success&&(n.Result.Data.canview?$("#item-grid-context-menu").enableContextMenuItems("#view"):$("#item-grid-context-menu").disableContextMenuItems("#view"),n.Result.Data.canedit?$("#item-grid-context-menu").enableContextMenuItems("#edit"):$("#item-grid-context-menu").disableContextMenuItems("#edit"),n.Result.Data.candelete?$("#item-grid-context-menu").enableContextMenuItems("#delete"):$("#item-grid-context-menu").disableContextMenuItems("#delete"),n.Result.Data.cancomment?$("#item-grid-context-menu").enableContextMenuItems("#comment"):$("#item-grid-context-menu").disableContextMenuItems("#comment"))},null,null)})}};gemini_item={pageType:0,pendingChanges:!1,editingMode:!1,issueId:0,triggerXHR:null,initItem:function(n,t,i,r,u){var e,o;gemini_item.pageType=i,gemini_item.issueId=t,r&&(gemini_edit.initEdit(t,i,"#cs-popup","#cs-popup-content","#item-attributes"),gemini_edit.initEdit(t,i,"#cs-popup","#cs-popup-content","#view-item-content-pane")),$(".widget-header").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),$(".item-content-widget").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),gemini_ui.expanders("#cs-sections"),gemini_ui.collapseStarting("section-widget-","test-","history-","watchers-section","link-section","attachments-section","customfields-section","dependencies-section","sourcecode-section","timelog-section","watchers-section"),gemini_ui.expand($(".expander","#cs-sections").first().parent()),$(".item-nav a").click(function(){gemini_ui.expand($($(this).attr("href")+"-section","#cs-sections")),$(".item-nav a").removeClass("selected"),$(this).addClass("selected")}),$("#cs-sections article[data-gemini-app-id='9C12B8ED-D0FD-4975-A317-614EFF97AAF2']").length!=0&&($("#cs-sections article[data-gemini-app-id='9C12B8ED-D0FD-4975-A317-614EFF97AAF2'] .fonticon-arrow-down").length>0&&$("#cs-sections article[data-gemini-app-id='9C12B8ED-D0FD-4975-A317-614EFF97AAF2'] .expander").click(),$("#cs-sections article[data-gemini-app-id='9C12B8ED-D0FD-4975-A317-614EFF97AAF2'] .expander").remove(),$("#cs-sections article[data-gemini-app-id='9C12B8ED-D0FD-4975-A317-614EFF97AAF2'] h3").click(function(n){n.stopPropagation()})),gemini_item.attachDependencyEvents(t),gemini_item.attachLinksEvents(t),gemini_item.attachWatchersEvents(t),e=$("#attachmentupload-hit")[0],e!=undefined&&e!=null&&gemini_item.AttachmentFileUploader(e,t,""),o=$("#phantom-fileuploader")[0],o!=undefined&&o!=null&&gemini_item.AttachmentFileUploader(o,t,u);$(document).on("click",".attachment-article span.thumbnail-close-image",function(n){var i,r;n.preventDefault(),i=$(this).attr("data-id"),$(this).parents("div:eq(3)").hasClass("section-header")&&(r=$(this).parents("div:eq(1)").find(".thumbnail-name a").html(),gemini_commons.translateMessage("[[Delete]] "+r+"?",["Delete"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"item/"+t,"deleteattachment",gemini_item.deleteItemAttachment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{attachmentId:i})})}))});$(document).on("click","#item-action-types .action-button-delete",function(){gemini_commons.translateMessage("[[Delete]]? ",["Delete"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"item","deleteissue/"+t+"/0",function(n){n.Success&&(window.location.href=n.Result.Data.redirecturl)},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},null)})})});$(document).on("click","#item-action-types .action-button-edit",function(){$("#item-attributes .attribute:eq(0)").click()});$(document).on("click","#item-action-types .action-button-move",function(){gemini_edit.setProjectFieldDisplay(!0),$("#item-attributes .project.attribute").click()});$(document).on("click","#item-action-types .action-button-copy",function(n){gemini_commons.stopClick(n),$("#cs-popup-center-content").css("width","405px"),$("#cs-popup-center-content").css("height","125px"),gemini_commons.translateMessage("[[Copy]]",["Copy"],function(n){gemini_popup.centerPopup(csVars.ProjectUrl+"item/"+t+"/copyissue","popup/0",null,null,n)})});$(document).on("click","#item-action-types .action-button-vote",function(){gemini_ajax.call(csVars.ProjectUrl+"item/"+t,"voteissue",function(n){n.Success&&($("#item-attributes").html(n.Result.Data.Html),$("#item-action-types .action-button-vote").hide(),gemini_popup.toast(n.Result.Data.Voted))})});$(document).on("click","#item-action-types #action-follow-unfollow",function(){gemini_ajax.call(csVars.ProjectUrl+"item/addwatcher/"+t,"/0",function(n){if(n.Success){var t=$("#action-follow-unfollow","#item-action-types").attr("title"),i=$("#action-follow-unfollow","#item-action-types").attr("data-alt-title");$("#action-follow-unfollow","#item-action-types").hasClass("color-gold")?$("#action-follow-unfollow","#item-action-types").removeClass("color-gold"):$("#action-follow-unfollow","#item-action-types").addClass("color-gold"),$("#action-follow-unfollow","#item-action-types").attr("title",i),$("#action-follow-unfollow","#item-action-types").attr("data-alt-title",t),gemini_item.replaceContent(n.Result.Data),gemini_item.attachWatchersEvents(n.Result.Data.issueId)}})});gemini_item.attachDelteXHover(),gemini_item.attachCommentsEditWindowEvents(t),gemini_item.attachCommentsTinyMcEvents(t,"comments-wysiwyg-content");$(document).on("click",".comments-article span.delete",function(n){n.preventDefault();var i=$(this).attr("data-id");gemini_commons.translateMessage("[[Delete]] [[Comment]]? ",["Delete","Comment"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"item/"+t,"deletecomment",gemini_item.deleteComment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{commentId:i})})})});$(document).on("click",".comments-article span.thumbnail-close-image",function(n){n.preventDefault();var i=$(this).attr("data-id");gemini_commons.translateMessage("[[Remove]] "+$(this).parents(".thumbnail").find(".thumbnail-name a").html()+"?",["Remove"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(csVars.ProjectUrl+"item/"+t,"deleteattachment",gemini_item.deleteCommentAttachment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{attachmentId:i})})})});$(document).on("click",".description-article .fonticon-edit",function(n){gemini_commons.stopClick(n),$("#cs-popup-center-content").css("width","725px"),$("#cs-popup-center-content").css("height","380px"),gemini_popup.centerPopup(csVars.ProjectUrl+"item/"+t+"/editdescription","popup",null)});$(document).on("click",".source-control-article .fonticon-plus",function(n){gemini_commons.stopClick(n),$("#cs-popup-center-content").css("width","420px"),$("#cs-popup-center-content").css("height","100px"),gemini_popup.centerPopup(csVars.ProjectUrl+"item/"+t+"/editsourcecontrol","popup",null)});$(document).on("click",".issue-time-entries-article .fonticon-plus",function(n){gemini_commons.stopClick(n),$("#cs-popup-center-content").css("width","500px"),$("#cs-popup-center-content").css("height","350px"),gemini_popup.centerPopup(csVars.ProjectUrl+"item/"+t+"/edittimeentry","popup/",{timeid:0})});$(document).on("click",".issue-time-entries-article .action-button-edit",function(n){gemini_commons.stopClick(n),$("#cs-popup-center-content").css("width","350px"),$("#cs-popup-center-content").css("height","250px"),gemini_popup.centerPopup(csVars.ProjectUrl+"item/"+t+"/edittimeentry","popup/",{timeid:$(this).parents("tr:eq(0)").attr("data-id")})});$(document).on("click",".source-control-article .action-button-delete",function(){var i=$(this).parents("tr:eq(0)").attr("data-id");gemini_commons.translateMessage("[[Delete]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").html()+"?",["Delete"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"item/"+t,"deletesourcecontrol/"+i,function(n){n.Success&&gemini_item.replaceContent(n.Result.Data),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")}),function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")}})})});$(document).on("click",".issue-time-entries-article .action-button-delete",function(){var i=$(this).parents("tr:eq(0)").attr("data-id"),r="[[Delete]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").text()+" - "+$(this).parents("tr:eq(0)").find("td:eq(3)").html()+" "+$(this).parents("tr:eq(0)").find("td:eq(4)").html()+"?";gemini_commons.translateMessage(r,["Delete"],function(n){gemini_popup.modalConfirm(n,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"item/"+t,"deletetimeentry/"+i,function(n){if(n.Success){var t=$(".dependencies-article .fonticon-arrow-right").length;gemini_item.replaceContent(n.Result.Data),t&&gemini_ui.expandCollapse($(".expander",".dependencies-article").first().parent())}gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})});$(document).on("click",".comments-article .toolbar .button",function(n){if(n.preventDefault(),$(".comments-wysiwyg-container").is(":visible")){$(".comments-article .cs-comment-add-close").click();return}gemini_ui.expand("#comments-section"),$(".comments-wysiwyg-container").css("display","inline-block"),$("#comments-wysiwyg-content").val("");var t=$("#comments-wysiwyg-content").parents("form:eq(0)").attr("class"),i=$("#comments-wysiwyg-content").parents("form:eq(0)").find(".option-row:eq(0) .file-upload-button").val();$("#comments-wysiwyg-content").parents("form:eq(0)").find(".option-row:eq(0) .file-upload-button").replaceWith("<input class='file-upload-button' type='file' name='comment-attachment'>"),tinyMCE.execCommand("mceFocus",!1,"comments-wysiwyg-content"),$(".comments-article .comments-wysiwyg-container .buttons .button-secondary").width()!=$(".comments-article .comments-wysiwyg-container .buttons .button-primary").width()&&gemini_sizing.sameWidth(".comments-article .comments-wysiwyg-container .buttons input",50)});$(document).on("click",".comments-wysiwyg-container.comment-editing-mode",function(){if($(this).parents(".comments-wysiwyg-container.comment-editing-mode").length>0){var t=$(this).parents(".comment").attr("alt");$(this).parents(".comments-wysiwyg-container").replaceWith(t)}else $(this).parents(".comments-wysiwyg-container").css("display","none"),$(this).parents(".comments-wysiwyg-container").find($("#comments-wysiwyg-content")).val(""),$(this).parents(".comments-wysiwyg-container").find($(".file-upload-button")).val("")});$(document).on("click",".cs-comment-add-save",function(n){$(this).parents(".comments-wysiwyg-container").find($(".wysiwyg-container textarea")).val()==""?n.preventDefault():($(".comments-wysiwyg-container").length==1?gemini_ui.startBusy(".comments-article .comments-wysiwyg-container:eq(0) .cs-comment-add-save"):gemini_ui.startBusy(".comments-article .comments-wysiwyg-container:eq(1) .cs-comment-add-save"),n.preventDefault(),$(".comments-form").submit())});$(document).on("click",".comments-article .cs-comment-add-close",function(){$(this).parents(".comment").hasClass("comment-editing-mode")?($(this).parents(".comment").find(".comments-wysiwyg-container").before($(this).parents(".comment").attr("alt")),$(this).parents(".comment").removeClass("comment-editing-mode"),$(this).parents(".comments-wysiwyg-container").remove()):$(this).parents(".comments-wysiwyg-container").css("display","none")})},deleteComment:function(n){if(n.Success){$(".comments-article [data-id='"+n.Result.Data.id+"']").remove();var t=parseInt($("#comments-section h3").attr("title"))-1;$("#comments-section h3").html($("#comments-section").attr("title")+"&nbsp("+t+")"),$("#comments-section h3").attr("title",t),gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_item.replaceContent(n.Result.Data)}},AttachmentFileUploader:function(n,t,i){var r='<li><span class="qq-upload-file"><\/span><span class="qq-upload-spinner"><\/span><span class="qq-upload-size"><\/span><a class="qq-upload-cancel" href="#">[[Cancel]]<\/a><span class="qq-upload-failed-text">[[Failed]]<\/span><span class="fonticon-cross"><\/span><\/li>';gemini_commons.translateMessage(r,["Cancel","Failed"],function(r){gemini_item.attachmentUploader=new qq.FileUploader({element:n,action:gemini_ajax.getUrl(csVars.ProjectUrl+"Item/"+t,"UploadAttachment"),debug:!1,onComplete:function(n,i,r){r.success&&(r.Result==undefined?gemini_item.replaceContent(r):gemini_item.getItemAttachments(t),$(".attachment-article .qq-upload-list .qq-upload-success").hide()),$(".qq-upload-fail .fonticon-cross").click(function(){$(this).parent().remove()})},taxonomy:{uploadButton:"+",dropZone:i},fileTemplate:r})})},getItemAttachments:function(n){gemini_item.attachmentUploader.setParams({IssueId:n});var t={id:n};gemini_ajax.call(csVars.ProjectUrl+"item/"+n,"Attachments",function(n){gemini_item.replaceContent(n.Result.Data)},null,t)},deleteItemAttachment:function(n){if(n.success){$(".attachments [data-id='"+n.Result.Data.id+"']").remove();var t=parseInt($("#attachments-section h3").attr("title"))-1;$("#attachments-section h3").html($("#attachments-section").attr("title")+"&nbsp("+t+")"),$("#attachments-section h3").attr("title",t),gemini_item.replaceContent(n.Result.Data),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")}},deleteCommentAttachment:function(n){n.success&&$(".comments-article [data-id='"+n.Result.Data.id+"']").remove(),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},getAppControlValue:function(n,t,i,r,u){var f=gemini_ui.getSpinnerSmall();$("#"+t+"-"+i).html(f.Markup),eval(f.JS),$.ajax({type:"POST",url:csVars.Url+"issue/apps/submit/popup/"+n+"/"+t+"/"+i+"/"+r,async:!0,data:u,success:function(n){n.Success&&(gemini_commons.isEmpty(n.Result.Markup)&&(n.Result.Markup="&nbsp;"),$("#"+t+"-"+i).html(n.Result.Markup))}})},attachDelteXHover:function(){$(".attachment-article .thumbnail, .comments-article .thumbnail").hover(function(n){n.stopPropagation(),$(".thumbnail-close-image a",$(this)).show()},function(n){n.stopPropagation(),$(".thumbnail-close-image a",$(this)).hide()}),$(".section-content .comment-wrapper ").hover(function(){$(this).parent().find(".delete a").css("visibility","visible"),$(this).parent().find(".action-button-edit").css("visibility","visible")},function(){$(this).parent().find(".delete a").css("visibility","hidden"),$(this).parent().find(".action-button-edit").css("visibility","hidden")})},attachCommentsTinyMcEvents:function(n,t){gemini_ui.htmlEditor("#"+t,null,gemini_item.setPendingChanges);var i={dataType:"json",success:function(n){n.success&&gemini_item.replaceContent(n)}};t!="comments-wysiwyg-content"&&tinyMCE.execCommand("mceFocus",!1,t),$(".comments-form").ajaxForm(i)},attachCommentsEditWindowEvents:function(n){$(".comments-article .action-button-edit").click(function(){var t=$(this).parents("div:eq(0)").find(".comment"),f,e;if(!$(t).hasClass("comment-editing-mode")){var o=$(".attachment",$(t)).detach(),u=$(t).html(),i=$(".comments-article .comments-wysiwyg-container").length+1,s=1,r=$(t).parent().find(".author-box .control-icon").attr("data-group");(r==undefined||r==null)&&(r=s),f=$(".comments-article:eq(0) #visibility").clone().attr("id","visibility"+i).removeClass("chzn-done").val(r),$(t).attr("alt",u),$(t).addClass("comment-editing-mode"),e="<div class='comments-wysiwyg-container'><form class='comments-form "+i+"' action='"+$(t).attr("data-url")+"' method='post' enctype='multipart/form-data'><div class='wysiwyg-container'><textarea id='comments-wysiwyg-content"+i+"' name='commentsWysiwygContent'>"+u+"<\/textarea><\/div><div class='comment-extra-options'><div class='option-row'><span class='left comment-label'>[[Attachments]]<\/span>  <input type='file' class='file-upload-button' name='comment-attachment'/><\/div><div class='option-row'><span class='left comment-label'>[[Visibility]]<\/span><\/div><\/div><div class='cs-comment-wysiwyg-option'><div class='buttons'><input type='button' value='[[Cancel]]' class='button-secondary button-popup cs-comment-add-close right'><input type='submit' value='[[Update]]' class='button-primary button-popup cs-comment-add-save right'><\/div><\/div><\/form><\/div>",gemini_commons.translateMessage(e,["Update","Attachments","Visibility","Cancel"],function(r){t.html(r),t.append(o),t.find(".comments-wysiwyg-container").css("display","inline-block"),t.find(".comment-extra-options .option-row:eq(1)").append(f),t.find(".comments-wysiwyg-container .option-row:eq(1) select").length==0&&t.find(".comments-wysiwyg-container .option-row:eq(1)").hide(),gemini_ui.chosen(".comments-article .option-row .input-size8"),gemini_item.attachCommentsTinyMcEvents(n,"comments-wysiwyg-content"+i),gemini_item.attachDelteXHover()})}})},replaceContent:function(n){$("#progress-indicator").addClass("hide"),$(n.Data).each(function(){var t,i;this.Key=="AssociatedAttachments"?($(this.Value).insertAfter($(".attachment-article")),$(".clear-attachment:eq(0)").remove(),t=$(".attachment-article"),$(".toolbar",t[1]).replaceWith($(".toolbar",t[0])),$("#phantom-fileuploader",t[1]).replaceWith($("#phantom-fileuploader",t[0])),$(t[0]).remove(),gemini_item.attachDelteXHover()):this.Key=="AssociatedHistory"?($(".clear-history-article").remove(),$(".history-article").replaceWith(this.Value),gemini_ui.expandCollapse($(".expander",".history-article").first().parent())):this.Key=="AssociatedComments"?($(".comments-article .qq-upload-list .qq-upload-success").hide(),$(this.Value).insertAfter($(".clear-comment")),$(".clear-comment:eq(0)").remove(),i=$(".comments-article"),$(".toolbar",i[0]).replaceWith($(".toolbar",i[1])),$(i[1]).remove(),gemini_ui.chosen(".comments-article .option-row .input-size8"),gemini_item.attachCommentsEditWindowEvents(n.issueId),gemini_item.attachCommentsTinyMcEvents(n.issueId,"comments-wysiwyg-content"),gemini_item.attachDelteXHover(),$("#comments-wysiwyg-content").val("")):this.Key=="Title"?$("h2:last-child","#content-header-navigation-text").html(this.Value):this.Key=="Description"?($(".clear-description-article").remove(),$(".description-article").replaceWith(this.Value)):this.Key=="AssociatedHierarchy"?($(".clear-dependencies-article").remove(),$(".dependencies-article").replaceWith(this.Value),gemini_item.attachDependencyEvents(n.issueId)):this.Key=="AssociatedLinks"?($(".clear-links-article").remove(),$(".links-article").replaceWith(this.Value)):this.Key=="AssociatedWatchers"?($(".clear-watchers-article").remove(),$(".watchers-article").replaceWith(this.Value)):this.Key=="AssociatedSourceControl"?($(".clear-source-control-article").remove(),$(".source-control-article").replaceWith(this.Value)):this.Key=="AssociatedTime"?($(".clear-issue-time-entries-article").remove(),$(".issue-time-entries-article").replaceWith(this.Value)):this.Key=="AttributePane"?$("#item-attributes").html(this.Value):this.Key=="ItemNav"&&$("#view-item .item-nav").html(this.Value)})},attachWatchersEvents:function(n){$("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").blur(function(){$("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").val("")}),$("#watchers-find-item-container input").keypress(function(n){n.keyCode==27&&($("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").val(""))}),$(".watchers-article .toolbar .fonticon-plus").click(function(n){n.preventDefault();var t=$(".watchers-article .expander").position();$("#watchers-find-item-container").show().css("left",t.left).css("top",t.top+15),$("#watchers-find-item-container input").focus()}),$(".watchers-article .section-content .action-button-delete").click(function(){var i=$(this).parents("tr:eq(0)").attr("data-id");gemini_commons.translateMessage("[[Remove]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").html()+"?",["Remove"],function(t){gemini_popup.modalConfirm(t,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(csVars.ProjectUrl+"item","deletewatcher/"+n+"/"+i,function(n){n.Success&&(gemini_item.replaceContent(n.Result.Data),gemini_item.attachWatchersEvents(n.Result.Data.issueId)),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})}),$("#watchers-find-item").autocomplete({source:function(n,t){$.ajax({url:csVars.Url+csVars.ProjectUrl+"account/getusersdropdown",dataType:"json",data:{term:n.term},success:function(n){for(var r=[],i=0;i<n.Result.Data.length;i++)r[r.length]={label:n.Result.Data[i].label,value:n.Result.Data[i].value};t(r)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(t,i){return $("#watchers-find-item").val(i.item.label),gemini_ajax.jsonCall(csVars.ProjectUrl+"item","addwatcher/"+n+"/"+i.item.value,function(n){n.Success&&(gemini_item.replaceContent(n.Result.Data),gemini_item.attachWatchersEvents(n.Result.Data.issueId),gemini_ui.flashContent(".watchers-article [data-id='"+n.Result.Data.userId+"']"))}),!1},focus:function(n,t){this.value=t.item.label,n.preventDefault()}})},attachDependencyEvents:function(n){$(".dependencies-article .dependency").hover(function(){$(this).hasClass("open")&&$(".fonticon-plus:not(.noshow)",$(this)).css("visibility","visible"),($(this).hasClass("open")||$(this).hasClass("closed"))&&!$(this).is(":first-child")&&$(".fonticon-cross:not(.noshow)",$(this)).css("visibility","visible")},function(){$(".fonticon-plus:not(.noshow)",$(this)).css("visibility","hidden"),$(".fonticon-cross:not(.noshow)",$(this)).css("visibility","hidden")});var t=!1;$(".dependencies-article .dependency .fonticon-plus").click(function(){var i=$(this).position();$("#dependencies-find-item-container").show().css("left",i.left).css("top",i.top+15),$("#dependencies-find-item-container input").focus(),t=$(this).parent().attr("data-id")}),$(".dependencies-article .toolbar .fonticon-plus").click(function(i){i.preventDefault();var r=$(".dependencies-article .expander").position();$("#dependencies-find-item-container").show().css("left",r.left).css("top",r.top+15),$("#dependencies-find-item-container input").focus(),t=n}),$(".dependencies-article .dependency .fonticon-cross").click(function(){var i=$(this).parent().attr("data-id"),r=$(this).parents("div:eq(1)").find(".thumbnail-name a").html();gemini_commons.translateMessage("[[Remove]] "+$(this).parent().find(".item-links span:first").html()+"?",["Remove"],function(t){gemini_popup.modalConfirm(t,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(csVars.ProjectUrl+"items","deletedependency/"+n+"/"+i,function(n){n.Success&&gemini_item.replaceContent(n.Result.Data),setTimeout(function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},1250)})})})}),$("#dependencies-find-item-container input").blur(function(){gemini_item.hideDependencyFindItem()}),$("#dependencies-find-item-container input").keypress(function(n){n.keyCode==27&&gemini_item.hideDependencyFindItem()}),gemini_item.hideDependencyFindItem(),$("#dependencies-find-item").autocomplete({source:function(t,i){$.ajax({url:csVars.Url+csVars.ProjectUrl+"item/"+n+"/getissuesdropdown",dataType:"json",data:{term:t.term,action:"dependency"},success:function(n){for(var r=[],t=0;t<n.Result.Data.length;t++)r[r.length]={label:n.Result.Data[t].value+" - "+n.Result.Data[t].label,value:n.Result.Data[t].value};i(r)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(i,r){gemini_ajax.jsonCall(csVars.ProjectUrl+"items","adddependency/"+n+"/"+t+"/"+r.item.value,function(n){n.Success&&(gemini_item.replaceContent(n.Result.Data),gemini_ui.flashContent(".dependencies-article [data-id='"+n.Result.Data.childIssueId+"']"))}),gemini_item.hideDependencyFindItem()}})},hideDependencyFindItem:function(){$("#dependencies-find-item-container").hide(),$("#dependencies-find-item-container input").val("")},attachLinksEvents:function(n){$(".links-article #links-find-item-container .fonticon-cross").click(function(){$("#links-find-item-container").hide(),$("#links-find-item").val("")}),$(".links-article #links-find-item-container form").validate(),$(".links-article .toolbar .fonticon-plus").click(function(n){n.preventDefault();var t=$(".links-article .expander").position();$("#links-find-item-container").show().css("left",t.left).css("top",t.top+15),$("#links-find-item-container #links-find-item").focus()}),$("#links-find-item-container").hide(),$("#links-find-item").keyup(function(){$(this).val()==""&&$("#links-find-item-id").val("")}),$(".links-article .fonticon-tick").click(function(){$("#links-find-item-id").val()!=""&&$("#links-find-item").val()!=""?gemini_ajax.jsonCall(csVars.ProjectUrl+"item/"+n,"addlink/"+$("#links-find-item-id").val()+"/"+$(".links-article #linktypes").val(),function(n){n.Success&&(gemini_item.replaceContent(n.Result.Data),gemini_item.attachLinksEvents(n.Result.Data.issueId),gemini_ui.chosen(".links-article #links-find-item-container #linktypes"),$("#links-find-item-container #links-find-item").val(""),$("#links-find-item-container").hide(),gemini_ui.flashContent(".links-article [data-id='"+n.Result.Data.linkedIssueId+"']"))}):$(".links-article #links-find-item-container form").valid()}),$(".links-article .section-content .action-button-delete").click(function(){var t=$(this).parents("tr:eq(0)").attr("data-id");gemini_commons.translateMessage("[[Remove]] [[Link]] "+$(this).parents("tr:eq(0)").find("td:eq(1) a").html()+"?",["Remove","Link"],function(i){gemini_popup.modalConfirm(i,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(csVars.ProjectUrl+"item/"+n,"deletelink/"+t,function(n){n.Success&&(gemini_item.replaceContent(n.Result.Data),gemini_item.attachLinksEvents(n.Result.Data.issueId),gemini_ui.chosen(".links-article #links-find-item-container #linktypes")),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})}),$("#links-find-item").keypress(function(n){n.keyCode==27&&$(".links-article #links-find-item-container .fonticon-cross").click()}),$("#links-find-item").autocomplete({source:function(t,i){$.ajax({url:csVars.Url+csVars.ProjectUrl+"item/"+n+"/getissuesdropdown",dataType:"json",data:{term:t.term,action:"link"},success:function(n){for(var r=[],t=0;t<n.Result.Data.length;t++)r[r.length]={label:n.Result.Data[t].value+" - "+n.Result.Data[t].label,value:n.Result.Data[t].value};i(r)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(n,t){return $("#links-find-item-id").val(t.item.value),$("#links-find-item").val(t.item.label),!1}})}};var gemini_ajax={getUrl:function(n,t){var i=csVars.Url+n+"/"+t;return i+=i.indexOf("?")==-1?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id},call:function(n,t,i,r,u,f){var e=gemini_ajax.getUrl(n,t);return $.ajax({type:"GET",url:e,data:u,success:function(n){i!=null&&i!=undefined&&typeof i=="function"&&(f!=null&&f!=undefined?i.call(this,n,f):i.call(this,n)),ajaxXHR=null},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i),r!=null&&r!=undefined&&typeof r=="function"&&r.call(this),ajaxXHR=null}})},jsonCall:function(n,t,i,r,u,f){var e=csVars.Url+n+"/"+t;return e+=e.indexOf("?")==-1?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id,gemini_ui.cursorWait(),$.ajax({type:"GET",url:e,data:u,dataType:"json",success:function(n){gemini_ui.cursorDefault(),i!=null&&i!=undefined&&typeof i=="function"&&(f!=null&&f!=undefined?i.call(this,n,f):i.call(this,n)),ajaxXHR=null},error:function(n,t,i){gemini_ui.cursorDefault(),gemini_diag.log("FAILED, Status="+n.status+" -> "+i),r!=null&&r!=undefined&&typeof r=="function"&&r.call(this),ajaxXHR=null}})},postCall:function(n,t,i,r,u,f){var e=csVars.Url+n+"/"+t;return e+=e.indexOf("?")==-1?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id,$.ajax({type:"POST",url:e,data:u,success:function(n){i!=null&&i!=undefined&&typeof i=="function"&&(f!=null&&f!=undefined?i.call(this,n,f):i.call(this,n)),ajaxXHR=null},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i),r!=null&&r!=undefined&&typeof r=="function"&&r.call(this),ajaxXHR=null}})}};var gemini_share={init:function(){$("#share-page").click(function(){if($("#share-page").hasClass("selected")){$("#share-page").toggleClass("selected"),$("#share-dialog").fadeOut("fast");return}gemini_share.showShare("right top","left bottom","10 -12",this,gemini_appnav.pageCard.Id,JSON.stringify(gemini_appnav.pageCard))})},EscapeCardDropdowns:function(n,t){$(t).fadeOut("fast"),gemini_keyboard.unbindEscape(t)},showShare:function(n,t,i,r,u,f){$.ajax({type:"POST",url:csVars.Url+"share/start/"+u,data:f,dataType:"json",success:function(u){$("#share-page").toggleClass("selected"),$("#share-dialog").html(u.Result.Data),$("#share-submit").click(function(){$.ajax({type:"POST",url:csVars.Url+"share/submit",data:$("#share-form").serialize(),success:function(){$("#share-dialog").fadeOut("fast"),$("#share-page").toggleClass("selected")},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})}),$("#share-dialog").fadeIn("fast"),$("#share-dialog").position({my:n,at:t,of:r,offset:i,collision:"none"}),gemini_keyboard.bindEscape("#share-dialog",gemini_share.EscapeCardDropdowns)},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})},showSubscribe:function(n,t,i,r,u,f){$.ajax({type:"POST",url:csVars.Url+"subscribe/start/"+u,data:f,dataType:"json",success:function(u){$("#subscribe-dialog").html(u.Result.Data),$("#subscribe-submit").click(function(){$.ajax({type:"POST",url:csVars.Url+"subscribe/submit",data:$("#subscribe-form").serialize(),success:function(){$("#subscribe-dialog").fadeOut("fast")}})}),$("#subscribe-dialog").fadeIn("fast"),$("#subscribe-dialog").position({my:n,at:t,of:r,offset:i,collision:"none"}),gemini_keyboard.bindEscape("#subscribe-dialog",gemini_share.EscapeCardDropdowns)}})}};var gemini_appnav={pageCard:"",pinPage:function(){var n=csVars.Url,t=!1,i;$("#pin-page").hasClass("selected")?(n=n+"cards/remove",t=!0):n=n+"cards/add",i=JSON.stringify(gemini_appnav.pageCard),t&&gemini_appnav.removeCardAnimate(gemini_appnav.pageCard.Id),$.ajax({type:"POST",url:n,data:i,dataType:"json",success:function(n){$("#pin-page").toggleClass("selected"),$("#card-holder").html(n.Result.Data),gemini_appnav.pageCard=n.Result.PageCard,t?gemini_appnav.hidePinnedPageActions():(gemini_appnav.addCardAnimate(),gemini_appnav.showPinnedPageActions()),gemini_appnav.resizer(),gemini_appnav.initCardActions()},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})},duplicate:function(n){if(n!=null){var t=csVars.Url+"cards/duplicate/";n=JSON.stringify(n),$.ajax({type:"POST",url:t,data:n,dataType:"json",success:function(n){$("#card-holder").html(n.Result.Data),gemini_appnav.resizer(),gemini_appnav.initCardActions(),window.location.href=csVars.Url+n.Result.PageCard.Url+"?card="+n.Result.PageCard.Id},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})}},update:function(n){n!=null&&(n=JSON.stringify(n),$.ajax({type:"POST",url:csVars.Url+"cards/update/",data:n,dataType:"json",success:function(n){gemini_popup.toast(n.Result.Message)},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}}))},removeCardAnimate:function(n){$("#card-"+n).effect("transfer",{to:$("#contents")},650)},addCardAnimate:function(){$("#card-"+gemini_appnav.pageCard.Id).effect("shake",{times:1,distance:5,direction:"up"},300),$("#contents").effect("transfer",{to:$("#card-"+gemini_appnav.pageCard.Id)},650)},showPinnedPageActions:function(){$("#repin-pin").show(),$("#save-pin").show(),$("#repin-pin").unbind("click").bind("click",function(){gemini_appnav.pageCard!=null&&gemini_appnav.duplicate(gemini_appnav.pageCard)}),$("#save-pin").unbind("click").bind("click",function(){gemini_appnav.pageCard!=null&&gemini_appnav.update(gemini_appnav.pageCard)})},hidePinnedPageActions:function(){$("#repin-pin").hide(),$("#save-pin").hide(),$("#repin-pin").unbind("click"),$("#save-pin").unbind("click")},initCardActions:function(){$(".card-small:not(.card-system)").each(function(){gemini_appnav.hover(this),gemini_appnav.contextMenu(this)}),$("#card-"+gemini_appnav.pageCard.Id).addClass("card-small-selected"),$(".card-small a").click(function(n){$(".card-title-edit",$(this)).length>0&&n.preventDefault(),n.target.className=="fonticon-arrow-down"&&(n.preventDefault(),n.button=2,$(this).closest(".card-small").trigger("mousedown",n).trigger("mouseup",[n]))})},resizer:function(){var n=0,t=82;$("#card-holder").children().each(function(){n=$(this).position().top+$(this).height()}),n>t?(n+=10,$("#playlist-more").show(),$("#playlist-more").unbind("click").bind("click",function(){$("#playlist").hasClass("playlist-expanded")?($("#playlist").removeClass("playlist-expanded").animate({height:t+"px"},"fast"),$("#playlist-more > span").addClass("fonticon-arrow-down").removeClass("fonticon-arrow-up")):($("#playlist").addClass("playlist-expanded").animate({height:n+"px"},"fast"),$("#playlist-more > span").addClass("fonticon-arrow-up").removeClass("fonticon-arrow-down"))})):($("#playlist-more").unbind("click"),$("#playlist-more").hide())},manager:function(n){var t=csVars.IEVersion==-1||csVars.IEVersion>=9?250:0;$("#card-holder").sortable({forcePlaceholderSize:!0,placeholder:"drag-placeholder",connectWith:".card-small",items:".card-small:not(.card-system)",delay:t,start:function(n,t){$(t.helper).addClass("dragging")},stop:function(n,t){$(t.item).effect("shake",{times:1,distance:5,direction:"up"},300),$(t.helper).removeClass("dragging")},update:function(){var i="";$("#card-holder").children().each(function(){i+=$(this).data("card-id"),i+="|"}),$.ajax({type:"POST",url:csVars.Url+"cards/sort",data:{sequence:i},dataType:"json",success:function(){},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})}}),gemini_appnav.initCardActions(),gemini_appnav.callback(),gemini_appnav.resizer(),$("#pin-page").hasClass("selected")?gemini_appnav.showPinnedPageActions():gemini_appnav.hidePinnedPageActions(),n&&$("#pin-page").length>0&&($("#content-header").draggable({cursor:"pointer",distance:30,cursorAt:{botom:5,left:5},helper:function(){return $('<span class="page-ghost-card"/>').text(gemini_appnav.pageCard.Key+" - "+gemini_appnav.pageCard.Title)},drag:function(){}}),$("#header").droppable({drop:function(n,t){$(t.helper).hasClass("card-small")||$("#pin-page").click()}}))},callback:function(){var n=1e4;setInterval(function(){$.ajax({type:"GET",url:csVars.Url+"cards/fetch",success:function(n){var t,u,i,r;if(n.Result!=undefined&&n.Result!=null&&n.Result.Data!=undefined&&n.Result.Data!=null)for(t=0,t=0;t<n.Result.Data.length;t++)u=n.Result.Data[t].Id,i=n.Result.Data[t].BadgeCount,i>0&&(r="[data-badge-id='"+u+"']",$(r).attr("data-counter",i),$(r).html(n.Result.Data[t].BadgeCountLabel))},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})},n)},escapeCardHover:function(n,t){$("#card-data").fadeOut("fast"),gemini_keyboard.unbindEscape(t)},hover:function(n){$(n).hoverIntent({interval:500,over:function(){var t=this;(gemini_keyboard.bindEscape("#card-holder",gemini_appnav.escapeCardHover),$(this).find(".card-options-icon").show(),$(n).find(".badge-count").data("counter")!=0)&&$.ajax({type:"GET",url:csVars.Url+"cards/data/"+$(n).data("card-id"),success:function(i){i.Success&&($("#card-data").html(i.Result.Data),$("#card-data").fadeIn("fast"),$("#card-data").position({of:t,my:"left top",at:"left bottom",offset:"0 -2",collision:"none"}),$("#card-data-clear").click(function(){$.ajax({type:"POST",url:csVars.Url+"cards/clearcount",data:{cardId:$(n).data("card-id")},dataType:"json",success:function(){$(t).find(".badge-count").empty(),$(t).find(".badge-count").attr("data-counter","0")},error:function(){}})}))},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})},out:function(){$(this).find(".card-options-icon").hide()}})},contextMenu:function(n){$(n).contextMenu({menu:"card-context-menu"},function(n,t){var u=$(t).find(".card-name"),f=u.html(),o=u.width(),s=u.height(),r=$(t).data("card-id"),e;n=="rename"&&$(".card-title-edit",t).length==0&&(e='<input class="card-title-edit" type="text" style="height:16px; width:85px" value="'+f+'"><\/input>',u.html(e),$(".card-title-edit",t).focus().select(),gemini_commons.inputKeyHandler("#"+$(t).attr("id")+" .card-title-edit",function(){var n=$(".card-title-edit",t).val();$.ajax({type:"POST",url:csVars.Url+"cards/rename/"+r,data:{cardTitle:n},dataType:"json",success:function(){u.html(n),gemini_appnav.pageCard.Id==r&&(gemini_appnav.pageCard.Title=n)},error:function(){}})},function(){u.html(f)})),n=="share"&&gemini_share.showShare("left top","left bottom","0 0",t,r,"{}"),n=="subscribe"&&gemini_share.showSubscribe("left top","left bottom","0 0",t,r,"{}"),n=="remove"&&(gemini_appnav.removeCardAnimate(r),$.ajax({type:"POST",url:csVars.Url+"cards/delete/"+r,data:"{}",dataType:"json",success:function(n){gemini_appnav.pageCard.Id!=0&&gemini_appnav.pageCard.Id==r&&($("#pin-page").toggleClass("selected"),gemini_appnav.pageCard=n.Result.PageCard),$("#card-holder").html(n.Result.Data),gemini_appnav.resizer(),gemini_appnav.initCardActions()},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}}))},function(){})}};var gemini_pdf={init:function(){$("#pdf-action").click(function(){var t=$(this).data("pdf");t.length>0&&window.open(t)})}};var gemini_sizing={padProjectsMenu:function(){var n=-1,t=$(".cs-menu-dropdown .menu-project-code");t.each(function(){$(this).width()>n&&(n=$(this).width())}),t.each(function(){$(this).width(n+10)})},sameHeight:function(n){var t=Math.max.apply(Math,$(n).map(function(){return $(this).height()}).get());t!=0&&$(n).each(function(){$(this).height(t)})},sameWidth:function(n,t){var i=0;(i=Math.max.apply(Math,$(n).map(function(){return $(this).width()}).get()),i!=0)&&(t!=null&&t>0&&(i=i+t),$(n).each(function(){$(this).width(i)}))},appResizer:function(){$(window).resize(function(){waitForFinalEvent(function(){gemini_appnav.resizer()},500,"playlist-resize"),waitForFinalEvent(function(){gemini_sizing.stretchWindow()},500,"stretch-window")})},stretchWindow:function(){var n=$("header").height(),t=$("footer").height();$("#contents").css("min-height","0"),$("#contents").css("min-height",$(window).height()-t-n-10)},textWidth:function(n){var t=$(n).html(),r="<span>"+t+"<\/span>",i;return $(n).html(r),i=$(n).find("span:first").width(),$(n).html(t),i},availableHeight:function(){var n=$(window).height(),t=$("header").height(),i=$("#content-header").height(),r=$("footer").height(),u=t+i+r;return Math.floor(n-u-100)},windowResized:function(n,t){$(window).resize(function(){waitForFinalEvent(function(){n()},500,t)})}};var planner={settings:{container:"#planner ul",itemSelector:".plan-card",placeholder:"drag-placeholder"},readOnly:!1,currentDraggedCard:null,animations:[],selectedContextCard:null,pageEffect:"helix",escapeDropdowns:function(n,t){$(t).hide(),gemini_keyboard.unbindEscape(n)},initialize:function(n){if(planner.readOnly=n,gemini_edit.initEdit(0,1,"#cs-popup","#cs-popup-content","#data",planner.refreshPlannerLaner),n||($("#AxisFlipped").click(function(){var n=$("#Axis1Selected option:selected","#planner-control-box").val(),t=$("#Axis2Selected option:selected","#planner-control-box").val();return $("#Axis1Selected","#planner-control-box").val(t),$("#Axis2Selected","#planner-control-box").val(n),$("#Axis1Selected").trigger("liszt:updated"),$("#Axis2Selected").trigger("liszt:updated"),planner.saveData(),!1}),$(".control-icon","#planner-control-box").click(function(){var t=$(this),n=t.find("+ .options");n.is(":visible")?(n.hide(),gemini_keyboard.unbindEscape("#page-options-box .options")):(t.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),n.show(),gemini_keyboard.bindEscape("#page-options-box .options",planner.escapeDropdowns)),n.position({of:t,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})),$("#PlannerLevel","#planner-control-box").click(function(n){var i=0,r,t,u;return n.offsetX==undefined?(r=$(this).parent().offset(),i=n.clientX-r.left):i=n.offsetX,t=Math.floor(i/28),t==undefined&&(t=2),t<0&&(t=0),t>4&&(t=4),u=$(this),u.removeClass("level-0 level-1 level-2 level-3 level-4").addClass("level-"+t),planner.saveData(),!1}),!n){$("#planner-control-box").on("click","div.sort",function(){var n=$(this),t=n.hasClass("asc");return t?(n.removeClass("asc").addClass("desc"),n.removeClass("fonticon-ahead-arrow").addClass("fonticon-behind-arrow")):(n.removeClass("desc").addClass("asc"),n.removeClass("fonticon-behind-arrow").addClass("fonticon-ahead-arrow")),planner.saveData(),!1});$("#planner-control-box").on("change","input,select",function(){return planner.saveData(),!1})}$(window).resize(function(){return planner.adjustScrollBars(),!1}),planner.addSortDirections();var t="<div id='dropTip' class='tooltip'><div id='dropTipText'><\/div><\/div>";return $("body").prepend(t),planner.showInfoTip(),planner.bindCardTitleChange(),planner.addArrowDownEvents(),planner.saveData(),!1},refreshPlannerLaner:function(n,t){var i=$("#"+t).parent(),r=i.find(".plan-card"),u=i.parent().find(".plan-card");cardId=parseInt(r[0].id),oldId=newId=parseInt(i.parents("ul:eq(0)").attr("id").replace("cell_","")),dropIndex=u.index(r),processedMove=u.length>1?!0:!1,planner.currentDraggedCard=$(this),planner.postDragData({id:cardId,oldCellId:oldId,newCellId:newId,index:dropIndex,clone:!1,shift:!1}),setTimeout("planner.completeUpdateCall()",50)},allowEffects:function(){$("#planner").addClass(planner.pageEffect)},disableEffects:function(){$("#planner").removeClass(planner.pageEffect)},waitCursor:function(){$("#planner-box").css({cursor:"wait"})},normalCursor:function(){$("#planner-box").css({cursor:"default"})},post:function(n,t,i){var r,u;planner.waitCursor(),n!="pagecell"&&gemini_ui.visualProgressStart("#planner"),r=i.projectId!="undefined"&&i.projectId>0?"project/All/"+i.projectId+"/planner":csVars.ProjectUrl+"planner";var f=planner.availableHeight(),e=$(window).width(),o=$("#SaveViewSelected").val();return i=$.extend(i,{height:f,width:e,viewId:parseInt(o)}),u=planner.updateError,gemini_ajax.postCall(r,n,t,u,i),!1},postData:function(n){return planner.animations=[],planner.post("update",planner.updatePlanner,{changes:n}),!1},postPageData:function(n,t){return planner.animations=[],planner.post("pagecell",planner.updateCell,{cell:n,pageUp:t}),!1},postAddCardData:function(n){return planner.animations=[],planner.post("add",planner.updateCell,n),!1},postDragData:function(n){return planner.animations=[],planner.post("resequence",planner.updateAllCells,n),!1},postDelete:function(n){return planner.animations=[],planner.post("delete",planner.updateAllCells,n),!1},updateError:function(){return planner.allowEffects(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),planner.currentDraggedCard!=null&&(planner.currentDraggedCard.sortable("cancel"),planner.currentDraggedCard=null),!1},updatePlanner:function(n){var t=$("#planner-box").data("jsp"),i;return t!=undefined&&t.destroy(),i=$("#planner-box"),i.html(n),planner.bindPagingEvents("#planner"),setTimeout("planner.completeUpdateCall()",50),planner.contextMenu(".plan-card"),planner.addToSwimlane(),gemini_ui.visualProgressFinish("#planner"),!1},updateAllCells:function(n){var t=n.split("\t"),u=t.length,r;for(i=u;i--;)r=t[i],planner.updateCellMarkup(r);setTimeout(function(){planner.runAnimations()},25),planner.bindAllCellMenusAndEvents(),planner.addArrowDownEvents(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner")},updateCell:function(n){planner.updateCellMarkup(n),setTimeout(function(){planner.runAnimations()},25),planner.bindAllCellMenusAndEvents(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner")},updateCellMarkup:function(n){var i=n.match(/'(.*?)'/),t="#"+i[0].replace("'","").replace("'",""),r=$(t,"#planner");return r.replaceWith(n),gemini_ui.visualProgressFinish("#planner"),planner.animations.push(t),!1},completeUpdateCall:function(){return planner.adjustAllSwimLaneHeights(),planner.addTriggers(),planner.adjustScrollBars(),planner.showInfoTip(),planner.addArrowDownEvents(),planner.readOnly||planner.enableCardDrag(),planner.allowEffects(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),!1},runAnimations:function(){var n,i,t,r;for(planner.allowEffects(),n=planner.animations,i=n.length,t=i;t--;)r=n[t],$(r).find("li").removeClass("future")},bindAllCellMenusAndEvents:function(){var n,r,t;for(planner.adjustAllSwimLaneHeights(),n=planner.animations,r=n.length,i=r;i--;)t=n[i],planner.contextMenu(t+" .plan-card"),planner.bindPagingEvents(t);planner.readOnly||(planner.enableCardDrag(),planner.addToSwimlane())},bindCardTitleChange:function(){if(!planner.readOnly){var n=$("#planner-context-popup-new-card");gemini_commons.inputKeyHandler("#planner-context-popup-new-card > .card-title",function(){n.hide();var t=planner.selectedContextCard.hasClass("plan-card")?planner.selectedContextCard.parent():planner.selectedContextCard,i=t.parent(),r=planner.selectedContextCard.attr("data-project-id"),u=$(".card-title",n).val(),f=parseInt(i.attr("id").replace("cell_","")),e=i.find("li"),o=parseInt(e.index(t));planner.postAddCardData({projectId:r,cell:f,title:u,index:o})},function(){n.hide()})}},bindPagingEvents:function(n){$(n).off("click","div.paging-up");$(n).on("click","div.paging-up",function(){var n=$(this).parent().parent(),t=parseInt(n[0].id.replace("cell_",""));return planner.postPageData(t,!1),!1});$(n).off("click","div.paging-down");$(n).on("click","div.paging-down",function(){var n=$(this).parent().parent(),t=parseInt(n[0].id.replace("cell_",""));return planner.postPageData(t,!0),!1})},adjustAllSwimLaneHeights:function(){var f=$("div.axis-divider","#planner"),t=[],i=0,n,r,u;f.each(function(){var n=0,r=$(this);r.find("> ul").each(function(){var i,t=0,r=$(this);r.find("> li").each(function(){i=$(this).height()+9,t+=i}),t+=20,t+=Math.floor(i),t>n&&(n=t)}),t.push(n-20),i+=n}),n=0,r=planner.availableHeight(),i<r&&(n=Math.floor((r-i)/t.length)-t.length*18,n<0&&(n=0)),u=0,f.each(function(){var i=$(this);i.find("> ul").each(function(){$(this).css("min-height",t[u]+n)}),u++})},adjustScrollBars:function(){var n=planner.availableHeight(),t=$(window).width();return $("#planner-box").css("height",n),$("#planner-box").css("width",t-25),$("#planner-box").jScrollPane({verticalDragMinHeight:50,horizontalDragMinWidth:50,skipDivWrap:!1}),!1},addSortDirections:function(){return planner.toggleSortArrows("#Axis1Sort"),planner.toggleSortArrows("#Axis2Sort"),planner.toggleSortArrows("#OrderBySort"),planner.toggleSortArrows("#ThenBySort"),!1},toggleSortArrows:function(n){var t=$(n,"#planner-control-box");planner.isDescending(n)?t.removeClass("fonticon-ahead-arrow").addClass("fonticon-behind-arrow"):t.removeClass("fonticon-behind-arrow").addClass("fonticon-ahead-arrow")},isDescending:function(n){var t=$(n,"#planner-control-box");return t.hasClass("desc")},addTriggers:function(){var n=$("#Axis1Selected option:selected").val(),t=$("#Axis2Selected option:selected").val(),i,r,u,f;$("#Axis2Selected option").show(),n==t&&($("#Axis2Selected option:first-child","#planner-control-box").attr("selected","selected"),t="",$("#Axis2Selected").trigger("liszt:updated")),i=$("#Axis1Selected option[value="+n+"]").index(),$("li[id^=Axis2Selected_chzn_o_]",".chzn-results").show(),$("li[id^=Axis2Selected_chzn_o_"+(i+1)+"]",".chzn-results").hide(),$("#DateRangeSelected","#planner-control-box").attr("disabled","disabled"),$("#lblDateRangeSelected","#planner-control-box").attr("disabled","disabled"),(n=="DueDate"||n=="StartDate"||t=="DueDate"||t=="StartDate")&&($("#DateRangeSelected","#planner-control-box").removeAttr("disabled"),$("#lblDateRangeSelected","#planner-control-box").removeAttr("disabled")),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#Axis2Sort",value:"",enable:!1}),r=$("#OrderBySelected option:selected").val(),u=$("#ThenBySelected option:selected").val(),$("#OrderBySelected","#planner-control-box").TriggerContol({target:"#ThenBySelected",label:"#lblThenBySelected",value:"",enable:!1}),$("#ThenBySelected").trigger("liszt:updated"),$("#ThenBySelected option").show(),r==u&&($("#ThenBySelected option:first-child","#planner-control-box").attr("selected","selected"),u="",$("#ThenBySelected").trigger("liszt:updated")),i=$("#OrderBySelected option[value="+r+"]").index(),$("li[id^=ThenBySelected_chzn_o_]",".chzn-results").show(),$("li[id^=ThenBySelected_chzn_o_"+i+"]",".chzn-results").hide(),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#Axis2Sort",value:"",enable:!1}),$("#ThenBySelected","#planner-control-box").TriggerContol({target:"#ThenBySort",value:"",enable:!1}),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#AxisFlipped",value:"",enable:!1}),f=$("#AutoLimit","#planner-control-box").val(),f>0&&$("#SwimLaneLimits","#planner-control-box").val(0),$("#AutoLimit","#planner-control-box").TriggerContol({target:"#SwimLaneLimits",value:"0",enable:!0})},availableHeight:function(){var n=$(window).height(),t=$("header").height(),i=$("#content-header").height(),r=$("#planner-control-box").height(),u=$("#filter").height(),f=$("footer").height(),e=t+i+r+u+f;return Math.floor(n-e-100)},enableCardDrag:function(){var n=this.settings,t=!1,i=!1,r=!1,e,o,s,u,f,h=function(){return $("> li",n.container)}();return $("ul","#planner").sortable({connectWith:$(n.container),handle:n.itemSelector,placeholder:n.placeholder,forcePlaceholderSize:!0,revert:"invalid",revertDuration:150,opacity:.7,cancel:".fixed",containment:"#planner",change:function(n,t){var r=$(t.placeholder).index(),u=$(t.placeholder).parent(),i=$(".fixed",u);r==0&&i.prev().insertAfter(i),planner.showLaneName(n,t.placeholder)},receive:function(e,o){var s=o.item,l=o.sender,h,c;i=e.altKey||e.ctrlKey,r=e.shiftKey,h=s.find(n.itemSelector),c=s.parent().find(n.itemSelector),u=parseInt(h[0].id),newId=parseInt(s.context.parentElement.id.replace("cell_","")),oldId=parseInt(l.context.id.replace("cell_","")),f=c.index(h),t=!0},start:function(n,i){planner.disableEffects(),$("body").addClass("dragging"),$(i.helper).addClass("dragging"),updates={},t=!1},stop:function(e,o){var s=o.item,h,c,l;$("body").removeClass("dragging"),$(o.item).css({width:""}).removeClass("dragging"),t||(i=e.altKey||e.ctrlKey,r=e.shiftKey,h=s.find(n.itemSelector),c=s.parent().find(n.itemSelector),u=parseInt(h[0].id),oldId=newId=parseInt(s.context.parentElement.id.replace("cell_","")),f=c.index(h),t=c.length>1?!0:!1),t==!0&&(planner.currentDraggedCard=$(this),planner.postDragData({id:u,oldCellId:oldId,newCellId:newId,index:f,clone:i,shift:r})),l=$("#dropTip","body"),l.hide("fast")}}),!1},showLaneName:function(n,t){var i=$("#dropTip","body"),f=i.find("#dropTipText"),e=t.parent().parent(),u=e.find(".axis-label"),o=$(".axis-label-header",t.parent()),s=o.find(".plan-header"),r=s.text();return u.text().length>0&&(r=r+" ("+u.text()+")"),f.text(r),$(i).fadeIn("fast"),$(i).position({of:t,my:"top",at:"bottom",offset:"8px 0",collision:"none"}),!1},saveData:function(){var i,r,f,t=0,n=[],o,e,s,u,h;for(r=$("select","#planner-control-box"),f=r.length,i=f;i--;)_this=r[i],n[t++]=_this.id+":'"+_this.value+"'";for(r=$("input","#planner-control-box"),f=r.length,i=f;i--;)_this=r[i],_this.id!="dummy"&&_this.id.length!=0&&(n[t++]=_this.id+":'"+_this.value+"'");return o=$("#PlannerLevel","#planner-control-box").attr("class"),e=o.indexOf("level-"),e!=-1&&(s=o.substring(e+6,e+7),u=parseInt(s),u=u<0?0:u>4?4:u,n[t++]="PlannerLevel:'"+u+"'"),n[t++]="Axis1Sort:"+(planner.isDescending("#Axis1Sort")?"'desc'":"'asc'"),n[t++]="Axis2Sort:"+(planner.isDescending("#Axis2Sort")?"'desc'":"'asc'"),n[t++]="OrderBySort:"+(planner.isDescending("#OrderBySort")?"'desc'":"'asc'"),n[t++]="ThenbySort:"+(planner.isDescending("#ThenbySort")?"'desc'":"'asc'"),h="{"+n.join(",")+"}",planner.postData(h),!1},addArrowDownEvents:function(){$("#planner .plan-card").unbind("mouseenter").unbind("mouseleave"),$("#planner .plan-card").removeProp("hoverIntent_t"),$("#planner .plan-card").removeProp("hoverIntent_s"),$("#planner .card-options-icon span").unbind("click"),$("#planner .plan-card").hoverIntent({interval:350,over:function(){$(".card-options-icon",this).show()},out:function(){$(".card-options-icon",this).hide()}}),$("#planner .card-options-icon span").click(function(n){n.preventDefault(),n.button=2,$(this).closest(".plan-card").trigger("mousedown",n).trigger("mouseup",[n])})},showInfoTip:function(){$(".plan-header, .axis-label","#planner").hoverIntent({interval:350,over:function(){var i=$("body").hasClass("dragging"),t;i||(t=$(this).parent().find(".info-tip"),$(t).fadeIn("fast"),$(t).position({of:$(this),my:"left top",at:"left bottom",offset:"8px 0",collision:"none"}))},out:function(){var t=$(this).parent().find(".info-tip");$(t).hide()}})},contextMenu:function(n){planner.readOnly||$(n,"#planner").contextMenu({menu:"planner-context-menu"},function(n,t){var o=planner.selectedContextCard=$(t),u=planner.selectedContextCard.attr("id"),e=planner.selectedContextCard.attr("data-project-id"),r,f;n!="view"||$('#planner-context-menu a[href="#view"]').parent().hasClass("disabled")?n=="new"?(r=$("#planner-context-popup-new-card"),r.width(200),r.height(110),r.show(),f=$(".card-title",r),f.width(r.width()-2),f.height(r.height()-2),f.focus().select(),f.val(""),r.position({my:"center top",at:"center middle",of:o,offset:"0 10",collision:"none"}),gemini_keyboard.bindEscape("#planner-context-popup-new-card",planner.escapeDropdowns)):n!="edit"||$('#planner-context-menu a[href="#edit"]').parent().hasClass("disabled")?n!="comment"||$('#planner-context-menu a[href="#comment"]').parent().hasClass("disabled")?n!="delete"||$('#planner-context-menu a[href="#delete"]').parent().hasClass("disabled")?n=="share"?gemini_share.showShare("left top","left bottom","0 0",t,u,"{}"):n=="follow"?gemini_ajax.call("project/All/"+e+"/item","addwatcher/"+u+"/0"):n=="pin"&&gemini_items.pinItem(u,!1):gemini_commons.translateMessage("[[Delete]] "+o.find(".title").text()+"?",["Delete"],function(n){gemini_popup.modalConfirm(n,null,function(){planner.postDelete({issueId:u})})}):($("#cs-popup-center-content").css("width","725px"),$("#cs-popup-center-content").css("height","475px"),gemini_popup.centerPopup("project/All/"+e+"/item/"+u+"/editcommenteditor","popup")):($(t).parent().data("issue-id",u),gemini_edit.initEditing(t)):gemini_commons.openIssueUrlInTabProj(u,e)},function(n){gemini_ajax.call(csVars.ProjectUrl+"projects","getprojectpermissions/"+n.attr("id"),function(n){n.success&&(n.Result.Data.canview?$("#planner-context-menu").enableContextMenuItems("#view"):$("#planner-context-menu").disableContextMenuItems("#view"),n.Result.Data.canedit?$("#planner-context-menu").enableContextMenuItems("#edit"):$("#planner-context-menu").disableContextMenuItems("#edit"),n.Result.Data.candelete?$("#planner-context-menu").enableContextMenuItems("#delete"):$("#planner-context-menu").disableContextMenuItems("#delete"),n.Result.Data.cancomment?$("#planner-context-menu").enableContextMenuItems("#comment"):$("#planner-context-menu").disableContextMenuItems("#comment"))},null,null)})},addToSwimlane:function(){$(".add-to-swimlane",".axis-label-header").click(function(){var t,i;planner.selectedContextCard=$(this).parent(),t=$("#planner-context-popup-new-card"),t.width(200),t.height(110),t.show(),i=$(".card-title",t),i.width(t.width()-2),i.height(t.height()-2),i.focus().select(),i.val(""),t.position({my:"center top",at:"center middle",of:$(this).closest(".axis-label-header"),offset:"0 10",collision:"none"})})}};var testing={boxTag:"#items-filter",scopeTag:"#cs-template",initialize:function(){return gemini_ui.expanders(),testing.rowClicks(),testing.filterClicks(),gemini_ui.expandCollapse("#section-history"),!1},waitCursor:function(){$("#testing-box").css({cursor:"wait"})},normalCursor:function(){$("#testing-box").css({cursor:"default"})},post:function(n,t,i){testing.waitCursor();var r=csVars.ProjectUrl+"testing",u=planner.updateError;return gemini_ajax.postCall(r,n,t,u,i),!1},postDefault:function(n){testing.post("update",testing.filteringUpdate,n)},updateError:function(){return testing.normalCursor(),!1},filteringUpdate:function(n){testing.normalCursor();var t=$("#cs-sections",testing.scopeTag);return t.html(n),Gemini.Trigger(self.onTestEvent,{item:n,column:testing.scopeTag}),!1},saveData:function(){var t,i,r,u=0,n={};return filters=$("ul.filter-attribute li.attribute",testing.boxTag),n.viewType=$(testing.boxTag).data("view"),n.filterList=[],filters.each(function(){var t={},i;t.title=$(this).attr("id"),t.type=$(this).data("type"),t.list=[],i=$(this).find("ul.filter-data li input"),i.each(function(){var i,r,n,u;item=$(this),i=item.attr("type"),r=item.attr("id"),i=="checkbox"?(u=$("#"+item.attr("id")+":checked",$(this).parent()).length,n=u!=0):n=item.text(),t.list.push({id:r,selected:n})}),n.filterList.push(t)}),testing.postDefault({changes:JSON.stringify(n)}),!1},resetFilterBoxes:function(n){if($(n).attr("type")=="checkbox")if($(n).parent().index()!=0||$(n).hasClass("options-filter")){var t=$(n).parent().parent().find('input[type="checkbox"]:first');$(t).hasClass("options-filter")||$(t).attr("checked",!1)}else $(n).is(":checked")&&$(n).parent().parent().find('input[type="checkbox"]:not(:first)').attr("checked",!1)},dismissFilterPopop:function(n,t){var i="";$(n).find("input:checked").each(function(){i+=$(this).parent().find("label").attr("title"),i+=", "}),i.length>0?i=i.substring(0,i.lastIndexOf(",")):($(n).find("input[type=text]").each(function(){$(this).val().length&&(i+=$(this).val(),i+=", ")}),i.length>0&&(i=i.substring(0,i.lastIndexOf(",")))),i.length==0?(t.find(".label").attr("title",""),t.find(".label").html("&nbsp;")):(t.find(".label").attr("title",i),t.find(".label").html(i)),$(n).fadeOut("fast"),t.removeClass("selected")},executeFilter:function(){testing.saveData()},filterClicks:function(){$(".header, .label, .icon",testing.boxTag).disableSelection();$(".filter-changer",testing.boxTag).on("change",function(){testing.resetFilterBoxes(this),testing.executeFilter()});$(".header, .label, .icon",testing.boxTag).on("click",function(){if(!$(this).hasClass(".filter-data")){var t=$(this).parent(),i=t.find(".filter-data");$(i).is(":visible")?(gemini_filter.dismissFilterPopop(i,t),$(this).hasClass("filter-changer-text")&&testing.executeFilter()):($(".filter-data:visible").each(function(){testing.dismissFilterPopop(this,$(this).parent())}),$(i).jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}),$(i).slideDown("fast"),t.addClass("selected")),t.find(".icon").toggleClass("fonticon-tick"),t.find(".icon").toggleClass("fonticon-arrow-down")}});$(".filter-data").each(function(){testing.dismissFilterPopop(this,$(this).parent())})},rowClicks:function(){$("tbody td",testing.scopeTag).on("click",function(){var i=$(this).parent(),r=$(this).find("a"),t;if(r.length==0)return t=i.find("td.cs-link a, td.cs-title-link a"),t.each(function(){var n=$(this).attr("href");return window.location=n,!1}),!1})}};var gemini_diag={log:function(n){return}};var gemini_ui={showPopOut:function(n){$(n).is(":visible")?$(n).fadeOut("fast"):($(n).slideDown("fast"),$(n+" :input:visible:enabled:first").focus(),$(document).keyup(function(t){t.keyCode==27&&$(n).fadeOut("fast")}))},cursorWait:function(){$("body").css("cursor","wait")},cursorDefault:function(){$("body").css("cursor","default")},visualProgressStart:function(n){$(n).css("opacity","0.6")},visualProgressFinish:function(n){$(n).css("opacity","1")},getSpinner:function(n){return gemini_commons.isEmpty(n)&&(n=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+n+"' style='margin-bottom:7px;height:30px;'>&nbsp;<\/div>",JS:"$('#spinner-"+n+"').spin(gemini_ui.spinnerOptions);"}},getSpinnerSmall:function(n){return gemini_commons.isEmpty(n)&&(n=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+n+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;<\/div>",JS:"$('#spinner-"+n+"').spin(gemini_ui.spinnerOptionsSmall);"}},getSpinnerProgress:function(n){return gemini_commons.isEmpty(n)&&(n=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+n+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;<\/div>",JS:"$('#spinner-"+n+"').spin(gemini_ui.spinnerProgressOptions);"}},getSpinnerProgress2:function(n){return gemini_commons.isEmpty(n)&&(n=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+n+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;<\/div>",JS:"$('#spinner-"+n+"').spin(gemini_ui.spinnerProgress2Options);"}},spinnerOptions:{lines:6,length:0,width:7,radius:6,color:"#000",speed:1.3,trail:60,shadow:!1},spinnerOptionsSmall:{lines:6,length:0,width:4,radius:4,color:"#000",speed:1.3,trail:60,shadow:!1},spinnerProgressOptions:{lines:17,length:1,width:3,radius:7,corners:0,rotate:47,color:"#fff",speed:1.2,trail:53,shadow:!1},spinnerProgress2Options:{lines:10,length:1,width:3,radius:7,corners:0,rotate:47,color:"#000",speed:1.2,trail:10,shadow:!1},tinyCounter:function(n,t,i,r,u,f,e){var l=$(n),s=$("<canvas />").appendTo(l).css({position:"absolute",top:i+"px",left:t+"px"}).get(0),h,o,c;s.width=r,s.height=r,h=r/2,o=s.getContext("2d"),o.width=r,o.height=r,o.save(),o.fillStyle=u,o.beginPath(),o.rect(0,0,r,r),o.closePath(),o.fill(),c=""+e,o.fillStyle=f,o.beginPath(),o.font="8pt Calibri",o.textAlign="center",o.textBaseline="middle",o.fillText(c,h,h),o.closePath(),o.fill()},tinyPercent:function(n,t,i,r,u,f,e,o){var a=$(n).get(0),s=Raphael(a),h,l;s.customAttributes.arc=function(n,t,i,r,u){var e=this.paper.width>this.paper.height?this.paper.height:this.paper.width;e>u&&(e=u);var f=(e-t)/2,h=i+Math.floor(this.paper.width/2),c=r+Math.floor(this.paper.height/2)-f,o=360/100*n,s=(90-o)*Math.PI/180,l=f*Math.cos(s),a=f*Math.sin(s),v=[["M",h,c],["a",f,f,0,+(o>180),1,l-.0001,f-a]];return{path:v}},f=f||0,e=e||0,h=s.width>s.height?s.height:s.width,o=o||h,h>o&&(h=o);var c=h*.15,v=(h-c)/2,y={stroke:Raphael.color(i),"stroke-width":c},p=s.path().attr(y).attr({arc:[0,c,f,e,o]});p.animate({arc:[t,c,f,e,o]},u,">"),tx=s.width/2+f,ty=s.height/2+e,l={font:""+(v-c)+"px Helvetica",opacity:.75},s.text(tx,ty,Math.floor(t)).attr(l).attr({fill:r})},datePicker:function(n,t,i){(i==null||i==undefined)&&(i=function(){return!0}),$(n).each(function(){var u=$(this).data("date-format"),n,r;u==undefined&&(u="m/d/Y"),n=$(this).prop("value"),n==undefined&&(n=""),r=this,$(r).DatePicker({format:u,setDate:new Date,date:n,current:n,starts:csVars.FirstDayOfWeek,flat:!1,position:"right",onBeforeShow:function(){var n=$(this).prop("value");n==undefined&&(n=""),$(r).DatePickerSetDate(n,!0),$(".datepicker").addClass("z-index-max")},onChange:function(n){$(r).val(n),$(r).DatePickerHide(),t&&t(n)},onHide:i})})},expanders:function(n){$(n).on("click","div.section-header > div:first-child > div:first-child",function(){gemini_ui.expandCollapse($(this))})},expandCollapse:function(){for(var r=arguments.length,t,i,n=0;n<r;n++)elem=$(arguments[n]).parent(),t=$("span.expander",elem),t.toggleClass("fonticon-arrow-right").toggleClass("fonticon-arrow-down"),i=$("> div.section-content",elem.parent()),i.toggleClass("expanded").toggleClass("collapsed");return!1},expand:function(){for(var r=arguments.length,t,i,n=0;n<r;n++)elem=$(arguments[n]).parent(),t=$("span.expander",elem),t.removeClass("fonticon-arrow-right").addClass("fonticon-arrow-down"),i=$("> div.section-content",elem.parent()),i.removeClass("collapsed").addClass("expanded");return!1},collapse:function(){for(var r=arguments.length,t,i,n=0;n<r;n++)elem=$(arguments[n]).parent(),t=$("span.expander",elem),t.removeClass("fonticon-arrow-down").addClass("fonticon-arrow-right"),i=$("> div.section-content",elem.parent()),i.removeClass("expanded").addClass("collapsed");return!1},collapseStarting:function(){for(var t=arguments.length,n=0;n<t;n++)matching=$('[id^="'+arguments[n]+'"]'),matching.each(function(){var n=$(this).parent(),i=$("span.expander",n),t;i.removeClass("fonticon-arrow-down").addClass("fonticon-arrow-right"),t=$("> div.section-content",n.parent()),t.removeClass("expanded").addClass("collapsed")});return!1},htmlEditor:function(n,t,i){$(n).tinymce({script_url:csVars.AssetsPath+"scripts/tiny_mce/tiny_mce.js",theme:"advanced",plugins:"pdw,autolink,lists,pagebreak,style,layer,table,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,advlist",height:"325",theme_advanced_buttons1:"pdw_toggle,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect",theme_advanced_buttons2:"cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,|,insertdate,inserttime,preview,|,forecolor,backcolor",theme_advanced_buttons3:"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",theme_advanced_buttons4:"insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!1,theme_advanced_path:!1,oninit:t,onchange_callback:i,content_css:csVars.AssetsPath+"scripts/tiny_mce/themes/advanced/skins/default/content.css",pdw_toggle_on:1,pdw_toggle_toolbars:"2,3,4",template_external_list_url:"lists/template_list.js",external_link_list_url:"lists/link_list.js",external_image_list_url:"lists/image_list.js",media_external_list_url:"lists/media_list.js"})},destroyHtmlEditor:function(n){$(n).each(function(){tinyMCE.execCommand("mceRemoveControl",!1,$(this).attr("id"))})},chosen:function(n,t,i){(i==null||i==undefined)&&(i=!1),$(n).chosen({stay_open:!0,topmost_container:t,fix_popup:i})},setDropdownValue:function(n,t){$(n).val(t).trigger("liszt:updated")},destroyJScrollPane:function(n){var t=$(n).data("jsp");t!=undefined&&t.destroy()},getTableTHForTD:function(n){var t=$(n);return t.closest("table").find("th").eq(t.index())},triggerChecked:function(n,t,i){$(n).click(function(){$(n).is(":checked")?t.length&&$(t).removeAttr("disabled"):i.length&&$(i).attr("disabled","disabled")})},disableButton:function(n){$(n).attr("disabled","disabled"),$(n).attr("disabled",!0),$(n).addClass("button-disabled").removeClass("button-primary")},enableButton:function(n){$(n).removeAttr("disabled"),$(n).attr("disabled",!1),$(n).addClass("button-primary").removeClass("button-disabled")},togglePageOverlay:function(n){$(n).toggleClass("page-overlay")},flashContent:function(n){$(n).removeClass("cs-flash-remove"),$(n).addClass("cs-flash"),setTimeout(function(){$(n).removeClass("cs-flash"),$(n).addClass("cs-flash-remove")},3e3)},toggleCheckbox:function(n,t,i,r){$(n).click(function(){$(this).is(":checked")?$(t).each(function(){$(this).attr("checked","checked"),i&&i(this)}):$(t).each(function(){$(this).removeAttr("checked"),r&&r(this)})})},inlineEdit:function(n,t,i){$(n).editable(csVars.Url+i,{placeholder:"",dateFormat:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).attr("data-date-format")},detectType:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("edit-type")},validationRequired:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("required")},validationEmail:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("email")},loadurl:csVars.Url+t,loaddata:function(){var n=gemini_ui.getTableTHForTD(this),t=$(n).data("field");return{id:$(this).parent().data("id"),property:t}},submitdata:function(){var n=gemini_ui.getTableTHForTD(this),t=$(n).data("field");return{id:$(this).parent().data("id"),property:t}},height:"14px"})},startBusy:function(n){var t,i;$(n).attr("disabled","disabled"),t=gemini_ui.getSpinnerProgress(),$("#progress-indicator").html(t.Markup),i=$(n).outerWidth(),$(n).attr("data-progress",$(n).val()),$(n).css("width",i).val(" "),$("#progress-indicator").css("width",i).css("z-index",2147483640),$("#progress-indicator > div").css("margin","0 auto"),$("#progress-indicator").removeClass("hide"),$("#progress-indicator").position({of:$(n),my:"center center",at:"center center",offset:"0 0",collision:"none"}),eval(t.JS)},stopBusy:function(n){$("#progress-indicator").addClass("hide"),$("#progress-indicator").css("top",-200).css("left",-200),$(n).val($(n).attr("data-progress")),$(n).removeAttr("disabled")},startBusy2:function(n,t){var i,r;$(n).attr("disabled","disabled"),i=gemini_ui.getSpinnerProgress2(),$(t).html(i.Markup),r=$(n).outerWidth(),$(n).attr("data-progress",$(n).val()),$(n).css("width",r).val(" "),$("#progress-indicator").css("width",r).css("z-index",2147483640),$("#progress-indicator > div").css("margin","0 auto"),$("#progress-indicator").removeClass("hide"),$("#progress-indicator").position({of:$(n),my:"center center",at:"center center",offset:"0 0",collision:"none"}),eval(i.JS)},stopBusy2:function(n){$("#progress-indicator").addClass("hide"),$("#progress-indicator").css("top",-200).css("left",-200),$(n).val($(n).attr("data-progress")),$(n).removeAttr("disabled")},userAutocomplete:function(n){$(n).autocomplete({source:function(n,t){$.ajax({url:csVars.Url+csVars.ProjectUrl+"account/getusersdropdown",dataType:"json",data:{term:n.term,returnValue:"FullnameRUsername"},success:function(n){for(var r=[],i=0;i<n.Result.Data.length;i++)r[r.length]={label:n.Result.Data[i].label,value:n.Result.Data[i].value};t(r)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(n,t){return $(this).val(t.item.value),!1},focus:function(n,t){this.value=t.item.label,n.preventDefault()}})}};var gemini_filter={pageType:0,dropZoneIndex:0,rowDragIndex:0,currentExecuteRequest:null,executeEndPoint:null,executeData:null,refreshTable:null,init:function(n){gemini_filter.pageType=n,$("#items-filter .header,#items-filter .label,#items-filter .icon").disableSelection();$("#items-filter").on("change",".filter-changer",function(){gemini_filter.resetFilterBoxes(this),gemini_filter.executeFilter()});$(document).on("click","#grid-import-data",function(){$("#cs-popup-center-content").css("width","800px"),$("#cs-popup-center-content").css("height","380px"),gemini_popup.centerPopup(csVars.ProjectUrl+"items/importdatap","popup")});var t=$("#filter-limit","#items-filter");parseInt(t.val())>parseInt(t.attr("data-filterlimit"))&&$("#filter-project-specific .custom-filter").hide();$(document).on("click","#expand-collapse-filter",function(n){n.preventDefault(),$("#filter-project-specific .custom-filter").is(":visible")?$("#filter-project-specific .custom-filter").hide():$("#filter-project-specific .custom-filter").show()});$(".project-filter").change(function(){gemini_filter.resetFilterBoxes(this),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/filteredprojectchanged",data:$("#filter-form").serialize(),success:function(n){n.Success&&($("#filter-project-specific").html(n.Result.Data),gemini_items.resizeMainItemsGrid(),$(".filter-data","#filter-project-specific").each(function(){gemini_filter.dismissFilterPopop(this,$(this).parent())}),gemini_filter.attachDatePickers(),gemini_filter.executeFilter())},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})});$("#items-filter").on("click",".header, .label, .icon",function(){var t=$(this),i,r;(t.hasClass("icon")&&(t=$(t.prev("div"))),t.hasClass(".filter-data"))||(i=t.parent(),r=i.find(".filter-data"),$(r).is(":visible")?(gemini_filter.dismissFilterPopop(r,i),t.hasClass("filter-changer-text")&&gemini_filter.executeFilter(),gemini_keyboard.unbindEscape("#items-filter li.selected .header")):($(".filter-data:visible").each(function(){gemini_filter.dismissFilterPopop(this,$(this).parent())}),$(r).slideDown("fast",function(){$(r).jScrollPane({})}),i.addClass("selected"),gemini_keyboard.bindEscape("#items-filter li.selected .header",gemini_filter.EscapeDropdowns)),i.find(".icon").toggleClass("fonticon-tick"),i.find(".icon").toggleClass("fonticon-arrow-down"))});$(".filter-data").each(function(){gemini_filter.dismissFilterPopop(this,$(this).parent())});$("#data").on("click","#pager-next",function(){var n=$("#pager-next").data("page");gemini_filter.getFilteredItemsPage(n)});$("#data").on("click","#pager-prev",function(){var n=$("#pager-prev").data("page")-2;n>=0&&gemini_filter.getFilteredItemsPage(n)});gemini_filter.pageType!=2&&gemini_filter.initDataTable(),gemini_ui.userAutocomplete("#ReportedBy"),gemini_ui.userAutocomplete("#WatchedBy"),gemini_filter.attachDatePickers(),gemini_filter.bindFilterShowHide(),gemini_filter.bindExportToShowHide()},EscapeDropdowns:function(n,t){t=="#items-filter li.selected .header"?$(t).click():$(t).fadeOut("fast"),gemini_keyboard.unbindEscape(t)},bindExportToShowHide:function(){$(document).on("click",".export-to-container a",function(){$(".export-to-container").hide(),gemini_keyboard.unbindEscape(".export-to-container")});$(document).on("click","#grid-export-excel",function(){$(".export-to-container").is(":visible")?($(".export-to-container").fadeOut("fast"),gemini_keyboard.unbindEscape(".export-to-container")):($(".export-to-container").slideDown("fast"),$(".export-to-container").position({my:"right top",my:"right top",at:"right bottom",of:$("#grid-export-excel"),offset:"0 6",collision:"none"}),gemini_keyboard.bindEscape(".export-to-container",gemini_filter.EscapeDropdowns))})},bindFilterShowHide:function(){$("#items-filter").is(":visible")?$("#page-options-box .filterdown").hide():$("#page-options-box .filterup").hide(),$("#page-options-box .filterup").click(function(){$(this).hide(),$("#column-picker").fadeOut("fast"),$("#page-options-box .filterdown").show(),$("#filter-container").removeClass("filter-width"),$(".filter-container").length>0?($("#items-filter").parents("td:eq(0)").hide(),$(window).trigger("resize")):$("#items-filter").parent().hide(),$("#header").slideUp(600),$("#top-right-box").slideUp(600),$("#data.items-data-container").addClass("width-100")}),$("#page-options-box .filterdown").click(function(){$(this).hide(),$("#data.items-data-container").removeClass("width-100"),$("#column-picker").fadeOut("fast"),$("#page-options-box .filterup").show(),$("#filter-container").addClass("filter-width"),$(".filter-container").length>0?$("#items-filter").parents("td:eq(0)").show():$("#items-filter").parent().show(),$("#header").slideDown(600),$("#top-right-box").slideDown(600),$("#pager-next").length>0&&(setTimeout(function(){$(window).trigger("resize")},50),$(window).trigger("resize"))})},resetFilterBoxes:function(n){if($(n).is("input")&&$(n).attr("type")=="checkbox")if($(n).parent().index()!=0||$(n).hasClass("options-filter")){var t=$(n).parent().parent().find('input[type="checkbox"]:first');$(t).hasClass("options-filter")||$(t).attr("checked",!1)}else $(n).is(":checked")&&$(n).parent().parent().find('input[type="checkbox"]:not(:first)').attr("checked",!1)},attachDatePickers:function(){gemini_ui.datePicker("#filter-form #CreatedFrom"),gemini_ui.datePicker("#filter-form #CreatedTo"),gemini_ui.datePicker("#filter-form #RevisedFrom"),gemini_ui.datePicker("#filter-form #RevisedTo"),gemini_ui.datePicker("#filter-form #ClosedFrom"),gemini_ui.datePicker("#filter-form #ClosedTo"),gemini_ui.datePicker("#filter-form #ResolvedFrom"),gemini_ui.datePicker("#filter-form #ResolvedTo"),gemini_ui.datePicker("#filter-form #StartFrom"),gemini_ui.datePicker("#filter-form #StartTo"),gemini_ui.datePicker("#filter-form #DueFrom"),gemini_ui.datePicker("#filter-form #DueTo")},initDataTable:function(){var u=$("#tabledata").dataTable({bFilter:!1,bPaginate:!1,bInfo:!1,aaSorting:[],fnSortCallback:gemini_filter.sortColumn,sDom:"Rlfrtip",oColReorder:{fnColReorderCallback:function(n,t){if(n!=t){var i=$($("#tabledata").find("thead").find("tr")[0].cells[n]).data("id"),r=$($("#tabledata").find("thead").find("tr")[0].cells[t]).data("id");$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/reordercolumns/"+gemini_filter.pageType,data:{from:i,to:r},success:function(n){if(n.Success)if(gemini_filter.refreshTable!=null)gemini_filter.executeFilter();else{var t=$("#pager-next").data("page");gemini_filter.getFilteredItemsPage(t-1)}},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})}}}}),i;gemini_filter.initTableDnD();for(var t=$("#Sort").val().split("|"),n=0,r=[],n=0;n<t.length;n+=2)t[n]!=""&&(i=$("#tabledata").find('[data-id="'+t[n]+'"]'),i.length>0&&r.push([i.index(),t[n+1]==0?0:1]));u.fnSetSort(r);$("#tabledata").on("click",".parent",function(n){var t,i;if(gemini_commons.stopClick(n),$(this).hasClass("fonticon-arrow-down"))gemini_ajax.postCall(csVars.ProjectUrl+"items/"+$(this).parent().parent().data("issue-id"),"fetchdependants",gemini_filter.showDependants,null,$("#filter-form").serialize()),$(this).removeClass("fonticon-arrow-down"),$(this).addClass("fonticon-arrow-up");else{for(t=$(this).parent().parent().next();$(t).hasClass("dependant");)i=t,t=$(t).next(),$(i).remove();$(this).removeClass("fonticon-arrow-up"),$(this).addClass("fonticon-arrow-down")}});gemini_items.bindContextMenu()},initTableDnD:function(){$("#tabledata").tableDnD({dragHandle:".dragHandle",onDrop:function(n,t){var i=$(".drop-zone").index();i<t.rowIndex&&gemini_filter.rowDragIndex>t.rowIndex||(i<t.rowIndex?($(".dragHandle",t).addClass("item-drag-handle"),$(".dragHandle",t).removeClass("item-drag-handle-selected")):($(".dragHandle",t).addClass("item-drag-handle-selected"),$(".dragHandle",t).removeClass("item-drag-handle")),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/resequence",data:{issueId:$(t).data("issue-id"),afterIssueId:t.rowIndex==1||i<t.rowIndex?0:$(n.rows[t.rowIndex-1]).data("issue-id"),newIndex:i<t.rowIndex?-1:t.rowIndex-1,oldIndex:gemini_filter.rowDragIndex-1},success:function(n){n.Success},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}}))},onDragStart:function(n,t){gemini_filter.rowDragIndex=t.parentNode.parentNode.rowIndex,$(".dependant","#tabledata").remove()},onDragClass:"highlight-hover"})},showDependants:function(n){$("#tr-issue-"+n.Result.IssueId).after(n.Result.Dependants),$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),gemini_items.bindContextMenu()},getFilteredItemsCurrentPage:function(){gemini_filter.getFilteredItemsPage($("#pager-next").data("page")-1)},getFilteredItemsPage:function(n){gemini_filter.currentExecuteRequest==null&&($("#items-grid").css("opacity","0.6"),gemini_filter.currentExecuteRequest=$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/"+n+"?card="+gemini_appnav.pageCard.Id,data:$("#filter-form").serialize(),success:function(n){gemini_filter.currentExecuteRequest=null,n.Success&&($("#pager-next").data("page",n.Result.CurrentPage),$("#pager-prev").data("page",n.Result.CurrentPage),$("#data").html(n.Result.Data),gemini_filter.initDataTable(),gemini_filter.bindFilterShowHide()),$("#items-grid").css("opacity","1")},error:function(n,t,i){$("#items-grid").css("opacity","1"),gemini_filter.currentExecuteRequest=null,gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}}))},dismissFilterPopop:function(n,t){var i="",r=!1;$(n).find("input:checked").each(function(){i+=$(this).parent().find("label").attr("title"),i+=", "}),i.length>0?i=i.substring(0,i.lastIndexOf(",")):($(n).find("input[type=text]").each(function(){$(this).val().length&&(i+=$(this).val(),i+=", ")}),i.length>0&&(r=!0,i=i.substring(0,i.lastIndexOf(",")))),r&&(i=gemini_commons.htmlEncode(i)),i.length==0?(t.find(".label").attr("title",""),t.find(".label").html("&nbsp;")):(t.find(".label").attr("title",i),t.find(".label").html(i)),$(n).fadeOut("fast"),t.removeClass("selected")},sortColumn:function(n){for(var i="",t=0;t<n.aaSorting.length;t++){if(i+n.aoColumns[n.aaSorting[t][0]].sGeminiId=="0")return;i=i+n.aoColumns[n.aaSorting[t][0]].sGeminiId+"|"+n.aaSorting[t][2]+"|"}$("#Sort").val(i),gemini_filter.executeFilter()},executeFilter:function(){var n,t;gemini_filter.currentExecuteRequest!=null&&gemini_filter.currentExecuteRequest.abort(),$("#contents").toggleClass("cursor-busy"),$("#items-grid").css("opacity","0.6"),n="items/executefilter",gemini_filter.executeEndPoint!=null&&(n=gemini_filter.executeEndPoint),n=n.indexOf("?")!=-1?n+"&card="+gemini_appnav.pageCard.Id:n+"?card="+gemini_appnav.pageCard.Id,t=gemini_filter.pageType==gemini_commons.PAGE_TYPE.Items?gemini_filter.executeData==null?$("#filter-form").serialize()+"&"+$("#pageSize").serialize():gemini_filter.executeData():gemini_filter.executeData==null?$("#filter-form").serialize():gemini_filter.executeData(),gemini_filter.currentExecuteRequest=$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+n,data:t,success:function(n){if(gemini_filter.currentExecuteRequest=null,n.Success){if($("#contents").toggleClass("cursor-busy"),gemini_filter.pageType==gemini_commons.PAGE_TYPE.Planner){planner.saveData();return}gemini_filter.refreshTable==null?($("#data").html(n.Result.Data),gemini_filter.bindFilterShowHide()):gemini_filter.refreshTable(n.Result.Data),gemini_filter.initDataTable(),gemini_items.resizeMainItemsGrid(),n.Result.SavedCard!=null&&(gemini_appnav.pageCard.Options=n.Result.SavedCard.Options)}else $("#items-grid").css("opacity","1")},error:function(n,t,i){gemini_filter.currentExecuteRequest=null,$("#contents").toggleClass("cursor-busy"),$("#items-grid").css("opacity","1"),gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})},gridColumnPickerInit:function(n){$("#column-picker-list").jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}),$("#grid-column-picker").click(function(){$("#column-picker").is(":visible")?($("#column-picker").fadeOut("fast"),gemini_keyboard.unbindEscape("#column-picker")):$.ajax({type:"GET",url:csVars.Url+csVars.ProjectUrl+"items/getcolumns/"+gemini_filter.pageType,success:function(t){t.Success&&($("#column-picker").css({top:$("#grid-column-picker").position().top+$("#grid-column-picker").height()+8,left:$("#grid-column-picker").position().left-225}),$("#column-picker").html(t.Result.Data),$("#column-picker").slideDown("fast"),$("#colmun-picker-submit").click(function(){$("#column-picker").fadeOut("fast"),gemini_ui.startBusy("#column-picker #colmun-picker-submit"),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/setcolumns/"+gemini_filter.pageType,data:$("#column-picker-form").serialize(),success:function(t){if(t.Success)if(n)n();else{var i=$("#pager-next").data("page")-1;gemini_filter.getFilteredItemsPage(i)}gemini_ui.stopBusy("#column-picker #colmun-picker-submit")},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i),gemini_ui.stopBusy("#column-picker #colmun-picker-submit")}})}),gemini_keyboard.bindEscape("#column-picker",gemini_filter.EscapeDropdowns))},error:function(n,t,i){gemini_diag.log("FAILED, Status="+n.status+" -> "+i)}})})}};var gemini_projects={initAllProjects:function(){$(".projects-list").disableSelection(),$(".projects-dropdown-toggle").click(function(){var t=$(this).find(".projects-dropdown-box"),i=$(this).find(".toggle-image");$(t).is(":visible")?($(t).fadeOut("fast"),$(i).addClass("fonticon-arrow-right"),$(i).removeClass("fonticon-arrow-down")):($(".toggle-image").each(function(){$(this).removeClass("fonticon-arrow-down"),$(this).addClass("fonticon-arrow-right")}),$(i).removeClass("fonticon-arrow-right"),$(i).addClass("fonticon-arrow-down"),$(".projects-dropdown-box").hide(),$(t).show(),$(t).position({of:this,my:"left top",at:"left bottom",offset:"0 -2",collision:"none"}),$(t).jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}))})},initSettings:function(n){$(".cs-pill","#project-administration").unbind("click").click(function(t){gemini_commons.stopClick(t),$(".cs-pill","#project-administration").each(function(){$(this).addClass("cs-pill-inactive"),$(this).removeClass("cs-pill-active")}),$(this).addClass("cs-pill-active"),$(this).attr("data-tab")=="components"?gemini_projects.settingsComponents(n):$(this).attr("data-tab")=="versions"?gemini_projects.settingsVersions(n):$(this).attr("data-tab")=="defaults"?gemini_projects.settingsDefaults(n,0):$(this).attr("data-tab")=="cflookup"&&gemini_projects.settingsCFLookup(n,0)}),$(".cs-pill","#project-administration").first().click()},settingsComponents:function(n){gemini_ajax.jsonCall("project/"+n+"/settings","components",function(n){$("#setting-zone","#project-administration").html(n.Result.Html)})},settingsVersions:function(n){gemini_ajax.jsonCall("project/"+n+"/settings","versions",function(n){$("#setting-zone","#project-administration").html(n.Result.Html)})},settingsDefaults:function(n,t){gemini_ajax.jsonCall("project/"+n+"/settings","defaults",function(n){$("#setting-zone","#project-administration").html(n.Result.Html)},null,{typeId:t})},settingsCFLookup:function(n,t){gemini_ajax.jsonCall("project/"+n+"/settings","cflookup",function(n){$("#setting-zone","#project-administration").html(n.Result.Html)},null,{id:t,projectId:n})}};var gemini_activity={callback:[],initTimeline:function(){$("#timeline-datepicker").DatePicker({flat:!1,calendars:2,starts:1,mode:"range",format:"d B",date:[new Date($("#timeline-from-date").val()),new Date($("#timeline-to-date").val())],onBeforeShow:function(){},onChange:function(n,t){$("#timeline-datepicker").text(n.join(" - ")),$("#timeline-from-date").val(moment(t[0]).format("DD MMM YYYY")),$("#timeline-to-date").val(moment(t[1]).format("DD MMM YYYY"))},onHide:function(){$("#timeline-options").submit()}}),gemini_activity.sizeTimelanes(),$(window).resize(function(){waitForFinalEvent(function(){gemini_activity.sizeTimelanes()},500,"timelane-resize")})},sizeTimelanes:function(){$(".timelane").height($("#page-content-zone").height()-200),$(".timelane").jScrollPane({})},loadCalendarItems:function(n,t){var i=[];n.Result.SavedCard!=null&&(gemini_appnav.pageCard.Options=n.Result.SavedCard.Options),$(n.Result.Events).each(function(){i.push({title:this.Title,start:this.Start,end:this.End,url:this.Url,color:this.Color,id:this.Id,editable:this.Editable,allDay:this.AllDay,className:this.ClassName,backgroundColor:this.BackgroundColor,borderColor:this.BorderColor,textColor:this.TextColor,resizable:this.Resizable,draggable:this.Draggable,refId:this.RefId,description:this.Description,colorText:this.ColorText})}),t(i)},initCalendar:function(){gemini_appnav.pageCard!=null&&gemini_appnav.pageCard.Id!=0;var n=jQuery.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));$("#widget-calendar").fullCalendar({editable:!0,year:n.Year,month:n.Month-1,date:n.Day-1,defaultView:n.CurrentView,header:{left:"",center:"",right:""},firstDay:1,timeFormat:"H:mm",aspectRatio:2,eventDrop:function(n,t,i,r,u){if(!0||confirm("Are you sure about this drop change?")){var s={id:n.id,daysOffset:t,minutesOffset:i};gemini_ajax.call(csVars.ProjectUrl+"calendar","dropSave",function(n){n.Success||u()},u,s)}else u()},eventResize:function(n,t,i,r){if(!0||confirm("Are you sure about this resize change?")){var o={id:n.id,daysOffset:t,minutesOffset:i};gemini_ajax.call(csVars.ProjectUrl+"calendar","resizeSave",function(n){n.Success||r()},r,o)}else r()},eventRender:function(n,t){t.find("div.fc-event-inner").wrapInner('<div class="event-content" title="'+n.colorText+'" />'),t.find("div.fc-event-inner div.event-content").append('&nbsp;<span class="CalendarItemTitle">'+n.description+"<\/span>")},viewDisplay:function(n){$("#calendar-title").html("<h2>"+n.title+"<\/h2>")}}),$("#calendar-control-box #calendar-month").bind("click",function(){gemini_activity.changeView("month")}),$("#calendar-control-box #calendar-basicweek").bind("click",function(){gemini_activity.changeView("basicWeek")}),$("#calendar-control-box #calendar-agendaweek").bind("click",function(){gemini_activity.changeView("agendaWeek")}),$("#calendar-control-box #calendar-basicday").bind("click",function(){gemini_activity.changeView("basicDay")}),$("#calendar-control-box #calendar-prev").bind("click",function(n){n.preventDefault(),$("#widget-calendar").fullCalendar("prev")}),$("#calendar-control-box #calendar-next").bind("click",function(n){n.preventDefault(),$("#widget-calendar").fullCalendar("next")}),$("#calendar-control-box #IncStartDate").bind("click",function(){gemini_activity.amendSource($(this).is(":checked"),0)}),$("#calendar-control-box #IncDueDate").bind("click",function(){gemini_activity.amendSource($(this).is(":checked"),1)}),$("#calendar-control-box #IncGantt").bind("click",function(){gemini_activity.amendSource($(this).is(":checked"),2)}),$("#calendar-control-box #ColorBySelected").change(function(){$("#widget-calendar").fullCalendar("refetchEvents")}),$("#ColorBySelected").val(n.ColorMode),n.ShowStart&&gemini_activity.amendSource(!0,0),n.ShowDue&&gemini_activity.amendSource(!0,1),n.ShowDuration&&gemini_activity.amendSource(!0,2),gemini_activity.changeView(n.CurrentView),$(".control-icon","#calendar-control-box").click(function(){var t=$(this),n=t.find("+ .options");n.is(":visible")?n.hide():(t.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),n.show()),n.position({of:t,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})},changeView:function(n){var t=$("#widget-calendar").fullCalendar("getView").name.toLowerCase();$("#widget-calendar").fullCalendar("changeView",n),$("#calendar-"+t).removeClass(t+"-selected").addClass(t),$("#calendar-"+n.toLowerCase()).addClass(n.toLowerCase()+"-selected")},amendSource:function(n,t){switch(t){case 0:$("#IncGantt").prop("checked",!1),$("#IncStartDate").prop("checked",n),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[2]);break;case 1:$("#IncGantt").prop("checked",!1),$("#IncDueDate").prop("checked",n),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[2]);break;case 2:$("#IncStartDate").prop("checked",!1),$("#IncDueDate").prop("checked",!1),$("#IncGantt").prop("checked",n),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[0]),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[1])}n?$("#widget-calendar").fullCalendar("addEventSource",gemini_activity.calendarSources[t]):$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[t])},calendarSources:[function(n,t,i){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","StartDate",gemini_activity.loadCalendarItems,null,{start:Math.round(n.getTime()/1e3),end:Math.round(t.getTime()/1e3),options:gemini_activity.getOptions()},i)},function(n,t,i){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","DueDate",gemini_activity.loadCalendarItems,null,{start:Math.round(n.getTime()/1e3),end:Math.round(t.getTime()/1e3),options:gemini_activity.getOptions()},i)},function(n,t,i){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","Gantt",gemini_activity.loadCalendarItems,null,{start:Math.round(n.getTime()/1e3),end:Math.round(t.getTime()/1e3),options:gemini_activity.getOptions()},i)}],getOptions:function(){var n=$("#widget-calendar").fullCalendar("getDate"),t={Year:n.getFullYear(),Month:n.getMonth()+1,Day:n.getDate()+1,CurrentView:$("#widget-calendar").fullCalendar("getView").name,ShowStart:$("#IncStartDate").is(":checked"),ShowDue:$("#IncDueDate").is(":checked"),ShowDuration:$("#IncGantt").is(":checked"),ColorMode:$("#ColorBySelected").val()};return JSON.stringify(t)}};var gemini_popup={buttonModalResized:!1,init:function(){$(document).bind("cbox_complete",function(){gemini_popup.buttonModalResized||(gemini_sizing.sameWidth(".button-modal",33),gemini_popup.buttonModalResized=!0)})},close:function(n){gemini_commons.stopClick(n),$.colorbox.close(),$("#modal-button-yes","#modal-confirm").unbind("click"),$("#modal-button-no","#modal-confirm").unbind("click"),gemini_keyboard.unbindEscape("#colorbox #modal-button-no"),gemini_keyboard.unbindNo("#colorbox #modal-button-no"),gemini_keyboard.unbindYes("#colorbox #modal-button-yes")},modalTranslatedConfirm:function(n,t,i,r,u){$.ajax({type:"POST",url:csVars.Url+"resources/get",data:{keys:JSON.stringify(u)},success:function(u){$(u.Result.Data).each(function(t,i){n=n.replace("[["+i.Key+"]]",i.Value)}),gemini_popup.modalConfirm(n,t,i,r)}})},modalConfirm:function(n,t,i,r){var u="{}",f;t!=null&&(u=t),$(".message","#modal-confirm").html(n),$("#modal-button-yes","#modal-confirm").click(function(n){gemini_popup.close(n),i&&i()}),$("#modal-button-no","#modal-confirm").click(function(n){gemini_popup.close(n),r&&r()}),f=$.extend({},{inline:!0,href:"#modal-confirm",overlayClose:!1,escKey:!1,initialWidth:"400px",width:"400px",initialHeight:"150px",height:"150px"},u),$.colorbox(f),gemini_keyboard.bindEscape("#colorbox #modal-button-no"),gemini_keyboard.bindNo("#colorbox #modal-button-no"),gemini_keyboard.bindYes("#colorbox #modal-button-yes")},centerPendingChanges:!1,centerPopup:function(n,t,i,r,u,f,e,o){u||(u="Save"),f||(f="Cancel"),$("#popup-button-yes","#cs-popup-center").show(),$("#popup-button-no","#cs-popup-center").show(),$("#popup-button-yes","#cs-popup-center").unbind(),$("#popup-button-no","#cs-popup-center").unbind(),$("#popup-button-yes","#cs-popup-center").attr("value",u),$("#popup-button-no","#cs-popup-center").attr("value",f),e&&$("#popup-button-yes","#cs-popup-center").hide(),o&&$("#popup-button-no","#cs-popup-center").hide(),gemini_ajax.call(n,t,function(n){var t,i,r,u;n.Success&&($("#cs-popup-center").css("display","inline-block"),t=$("#cs-popup-center-content"),n.Result==undefined?t.html(n):t.html(n.Result.Html),$("#cs-popup-center-buttons").css("top","auto"),i=$("#cs-popup-center-content").height()+$("#cs-popup-center-buttons").height()+50,r=$("#cs-popup-center-content").width()+20,$("#cs-popup-center-buttons").css("top",$("#cs-popup-center-buttons").position().top+"px"),$("#cs-popup-center").css("display","block"),u={inline:!0,href:"#cs-popup-center",transition:"none",width:Math.max(r,300)+"px",height:Math.max(i,80)+"px",overlayClose:!1,escKey:!1,opacity:"0.8"},$.colorbox(u),$("#cs-popup-center-content input[type='text']:first").focus(),$("#cs-popup-center-content input[type='text']:first").click(),gemini_keyboard.bindEscape("#colorbox #popup-button-no"))},null,i,r)},popupCallback:function(n,t){$("#popup-button-yes","#cs-popup-center").click(function(n){gemini_popup.centerSave(n,t)}),$("#popup-button-no","#cs-popup-center").click(function(n){t&&t.noCallback&&t.noCallback(),n.preventDefault(),gemini_popup.popupClose(n,t)})},centerSave:function(n,t){t&&t.yesCallback&&t.yesCallback(),n.preventDefault(),gemini_popup.centerPendingChanges=!1},popupClose:function(n){n&&gemini_commons.stopClick(n),$.colorbox.close(),gemini_popup.centerPendingChanges=!1,gemini_keyboard.unbindEscape("#colorbox #popup-button-no"),$("#popup-button-yes","#cs-popup-center").unbind(),$("#popup-button-no","#cs-popup-center").unbind(),$("#cs-popup-center").css("display","none")},toast:function(n,t){if(!$(".toast").is(":visible")){$(".toast").css({top:$(window).scrollTop()+50,"z-index":1e4}),t!=null&&t!=undefined&&t==!0&&($(".toast").addClass("error"),$(".fonticon-tick",".toast").addClass("fonticon-cross").removeClass("fonticon-tick")),$(".toast-message").html(n),$(".toast").fadeIn("fast"),$("body").off("click",".toast");$("body").on("click",".toast",function(){$(this).hide()});setTimeout(function(){$(".toast").fadeOut("slow",function(){t!=null&&t!=undefined&&t==!0&&($(".toast").removeClass("error"),$(".fonticon-cross",".toast").addClass("fonticon-tick").removeClass("fonticon-cross"))})},2500)}}};var gemini_help={initTour:function(){$(window).ready(function(){gemini_help.setView($(".topic:first","#tour-box")),$(".topic","#tour-box").click(function(){gemini_help.setView($(this)),$(".topic","#tour-box").each(function(){$(this).removeClass("selected-topic")}),$(this).addClass("selected-topic")}),$(".topic","#tour-box").first().addClass("selected-topic"),$("#hide-tour-popup").click(function(){$(this).is(":checked")&&gemini_ajax.postCall("account","hidetour")})})},setView:function(n){var t=n.data("url");gemini_commons.isIe7or8()&&(t=n.data("url").replace(".html","IE.html")),$("iframe","#tour-box").attr("src",t)}};gemini_add={pendingChanges:!1,editingMode:!1,newItemRenderedCallback:null,newItemCreatedCallback:null,init:function(){gemini_keyboard.initKeyboard(),$("#plus-header").click(function(){$(".fonticon-plus",$(this)).length>0&&($("#cs-popup-add").is(":visible")?($(".fonticon-plus",$(this)).removeClass("selected"),gemini_add.hide()):($(".fonticon-plus",$(this)).addClass("selected"),gemini_keyboard.bindEscape("#cs-popup-add #cs-popup-add-close"),gemini_add.show()))})},triggerChange:function(n){var t,i;(gemini_edit.triggerXHR!=null&&gemini_edit.triggerXHR.abort(),t=$(n).data("trigger"),t=="*"||(i="|"+$(n).val()+"|",t.indexOf(i)!=-1))&&(gemini_ui.destroyHtmlEditor(".wysiwyg-editor"),gemini_edit.triggerXHR=gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_commons.PAGE_TYPE.Item,gemini_add.populateAddItem,null,$("#inline-edit-form").serialize(),$('[data-attribute-id="'+$(n).attr("id")+'"]').parent().parent()))},triggerCustomfieldChange:function(n){var r=$(n).data("customfield-trigger"),i,t;r!=""&&(i=$(n).attr("id").replace("cf_",""),t="",$(n).find("option:selected").each(function(){t+=$(this).val()+"|"}),t.length>0&&(t=t.slice(0,-1)),gemini_ajax.postCall("project","cascadeddata",gemini_add.cascadeUpdate,null,{fieldid:i,value:t,projectid:$("#ProjectName","#cs-popup-add").find("option:selected").val(),issueid:$("#id","#cs-popup-add").val()}))},cascadeUpdate:function(n){for(var e=n.Result.Data,t,u,i,f,r=0;r<e.length;r++){for(t=e[r],u="",$("#"+t.Key).find("option:selected").each(function(){u+="|"+$(this).val()+"|"}),$("#"+t.Key).empty(),i=0;i<t.Value.length;i++)f="",(t.Value[i].Selected||u.indexOf("|"+t.Value[i].Value+"|")>=0)&&(f=" selected='selected' "),$("#"+t.Key).append("<option "+f+"value='"+t.Value[i].Value+"'>"+t.Value[i].Text+"<\/option>");$("#"+t.Key).trigger("liszt:updated"),$("#"+t.Key).change()}},populateAddItem:function(n){$("#full-item").html(n),$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"}),$(".checked-select","#cs-popup-add-content").jScrollPane({}),gemini_ui.datePicker("#cs-popup-add-content .datepicker"),$("select:not(.no-chosen)","#cs-popup-add-content").chosen({stay_open:!0,topmost_container:null,fix_popup:!0}),$("input","#full-item").change(gemini_add.setPendingChanges),$("input[type=text]","#full-item").keyup(gemini_add.setPendingChanges),$("select","#full-item").change(gemini_add.setPendingChanges),$("#cs-popup-add-content").find("*[data-trigger]").change(function(){gemini_add.triggerChange(this)}),$("#cs-popup-add-content").find("*[data-customfield-trigger]").change(function(){gemini_add.triggerCustomfieldChange(this)}),$("#cs-popup-add-content").find("*[data-customfield-trigger]").each(function(){$(this).data("customfield-trigger")=="P"&&gemini_add.triggerCustomfieldChange(this)}),$(".chzn-results","#cs-popup-add-content").jScrollPane({}),gemini_ui.htmlEditor(".wysiwyg-editor",null,gemini_add.setPendingChanges),gemini_ui.userAutocomplete("#cs-popup-add-content .user-autocomplete"),$("#full-item #inline-edit-form tr").each(function(){$(this).find("textarea").length>0&&$("td:eq(0)",$(this)).css("vertical-align","top")});var t={dataType:"json",success:function(n){n.success&&gemini_add.postIssueCreate(n),gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},error:function(){gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")}};$("#inline-edit-form","#cs-popup-add").ajaxForm(t),gemini_add.newItemRenderedCallback&&(gemini_add.newItemRenderedCallback(),gemini_add.newItemRenderedCallback=null)},show:function(){var n,t;gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_commons.PAGE_TYPE.Item,gemini_add.populateAddItem),window.onbeforeunload=gemini_add.warn,$("#cs-popup-add-content").html('<div id="cs-template"><div id="quick-items" class="nestedSortable pill-content hide"><\/div><div id="full-item" class="pill-content"><\/div><\/div>'),$("#cs-popup-add").show(),$("#cs-popup-add-zone").show(),$("#cs-popup-add").position({my:"right top",at:"right bottom",of:$("#plus-header"),offset:"0 -1",collision:"none"}),n=gemini_sizing.availableHeight(),$("#cs-popup-add").css("height",n),t=n-$("#cs-popup-add-buttons").height()-60,$("#cs-popup-add-content").jScrollPane({contentWidth:"700px"}),$(".jspContainer","#cs-popup-add-content").css("height",t),$("#cs-popup-add .cs-pills span").removeClass("cs-pill-active"),$("#cs-popup-add .cs-pills span:eq(0)").addClass("cs-pill-active"),$("input","#cs-popup-add").change(gemini_add.setPendingChanges),$("input[type=text]","#cs-popup-add").keyup(gemini_add.setPendingChanges),$("select","#cs-popup-add").change(gemini_add.setPendingChanges),$("#cs-popup-add-save").unbind("click"),$("#cs-popup-add-close").unbind("click"),$("#cs-popup-add-save").click(gemini_add.save),$("#cs-popup-add-close").click(gemini_add.hide),$(".cs-pill","#cs-popup-add").disableSelection(),$(".cs-pill","#cs-popup-add").click(function(){$(".cs-pill","#cs-popup-add").addClass("cs-pill-inactive").removeClass("cs-pill-active"),$(this).addClass("cs-pill-active"),$(".pill-content","#cs-popup-add-content").hide(),$("#"+$(this).data("tab-id")).show(),$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"})}),$("#quick-items").liManipulator({debug:!1,events:{onAddText:gemini_add.setPendingChanges}})},setPendingChanges:function(){gemini_add.pendingChanges=!0,$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"})},save:function(){var t;$("#quick-items .limTextContainer input").length>0&&$.trim($("#quick-items .limTextContainer input").val())!=""&&(t=$("#quick-items .limTextContainer input").val(),$("#quick-items .limTextContainer").parent().html("<div><span class='fonticon-drag-handle valign-text-bottom margin-right-5' style='color:#C4C4C4;'><\/span>"+t+"<\/div>"));var r=!$("#full-item").is(":visible")||$("#inline-edit-form","#cs-popup-add").valid(),i=$("#quick-items").liManipulator("data"),n=$("#quick-items").is(":visible");i.length>0&&(n&&gemini_ui.startBusy("#cs-popup-add #cs-popup-add-save"),gemini_ajax.postCall(csVars.ProjectUrl+"items","dump/SaveItemDump",function(t){r&&t.Success&&gemini_add.postIssueCreate(t),n&&gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},function(){n&&gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},{items:JSON.stringify(i)})),$("#full-item").is(":visible")&&($("#inline-edit-form","#cs-popup-add").valid()?(gemini_ui.startBusy("#cs-popup-add #cs-popup-add-save"),$("#inline-edit-form","#cs-popup-add").submit()):$(".error","#cs-popup-add").first().focus())},postIssueCreate:function(n){gemini_add.pendingChanges=!1,gemini_add.hide(),gemini_ajax.postCall("account","actions",function(n){if($("#user-actions-history-box").html(n.Result.Data),$("#pager-next").length>0){var t=$("#pager-next").data("page")-1;t<0&&(t=0),gemini_filter.getFilteredItemsPage(t)}gemini_ui.flashContent("#user-actions-history-box")},null),gemini_add.newItemCreatedCallback&&gemini_add.newItemCreatedCallback(n.Result.Item.Id)},warn:function(){if(gemini_add.pendingChanges)return"Unsaved changes."},hide:function(){gemini_add.pendingChanges?gemini_popup.modalConfirm("Save changes?",null,function(){gemini_add.save()},function(){gemini_add.pendingChanges=!1,gemini_add.hide()}):($("#cs-popup-add").hide(),$(".fonticon-plus",$("#plus-header")).removeClass("selected"),gemini_add.pendingChanges=!1,gemini_add.editingMode=!1,$("#cs-popup-add-content").empty(),$("#cs-popup-add-content").data("jsp",""),gemini_keyboard.unbindEscape("#cs-popup-add #cs-popup-add-close"))}};gemini_edit={pageType:0,popupContainer:"",formContainer:"",pendingChanges:!1,editingMode:!1,issueId:0,triggerXHR:null,refreshFunction:null,clickedElement:null,includeProjectsField:!1,initEditing:function(n){var t,i;gemini_edit.editingMode?gemini_edit.hideEditingPopup():(gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?gemini_edit.issueId=$(n).parent().data("issue-id"):n=this,t="{}",gemini_edit.includeProjectsField&&(t={includeProjectsField:gemini_edit.includeProjectsField}),i=$.extend({},{id:gemini_edit.issueId},t),gemini_edit.pendingChanges=!1,gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_edit.pageType,gemini_edit.showEditingPopup,null,i,n))},setPendingChanges:function(){gemini_edit.pendingChanges=!0,$("#cs-popup-content").data("jsp").reinitialise({})},saveEditing:function(){$("#inline-edit-form",gemini_edit.formContainer).valid()?(gemini_ui.startBusy("#cs-popup #cs-popup-save"),$("#inline-edit-form",gemini_edit.formContainer).submit()):$(".error:not(label)","#cs-popup-content").first().focus()},refresh:function(n,t){gemini_edit.pendingChanges=!1,gemini_edit.hideEditingPopup(),gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item?($("#item-attributes").html(n.Result.Html),$(".widget-header").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),$(n.Result.Sections).each(function(){var t,i;this.Key=="Title"?$("h2:last-child","#content-header-navigation-text").html(this.Value):this.Key=="reload"?window.location=n.Result.RedirectUrl:this.Key=="AssociatedHistory"?(t=$("#history").parent(),$(this.Value).insertBefore(t),$(".section-content",t).hasClass("collapsed")&&gemini_ui.collapseStarting("history-"),t.remove()):this.Key=="AssociatedCustomFields"&&(i=$("#additional").parent(),$(this.Value).insertBefore(i),$(".section-content",i).hasClass("collapsed")&&gemini_ui.collapseStarting("customfields-"),i.remove())})):gemini_edit.refreshFunction(n,t)},showEditingPopup:function(n,t){var f,o,v,s,h,c,y,l,u,e,i,r,a;if(typeof n!="object"||n.success){gemini_edit.triggerXHR=null,gemini_edit.clickedElement=t;try{$("#cs-popup-content",gemini_edit.popupContainer).html(n)}catch(p){}if(gemini_ui.datePicker("#cs-popup-content .datepicker"),gemini_ui.chosen("#cs-popup-content select:not(.no-chosen)",null,!0),$("#cs-popup-content",gemini_edit.popupContainer).data("jsp",""),$(gemini_edit.popupContainer).show(),f=gemini_sizing.availableHeight(),gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item&&(f-=200),$(gemini_edit.popupContainer).css("height",f),o=f-$("#cs-popup-buttons").height()-20,$(".checked-select").jScrollPane({}),$("#cs-popup-content",gemini_edit.popupContainer).jScrollPane({}),$(".jspContainer","#cs-popup-content").css("height",o),$(".jspPane","#cs-popup-content").css("min-height",o-10),gemini_ui.htmlEditor(".wysiwyg-editor",null,gemini_edit.setPendingChanges),gemini_ui.userAutocomplete("#cs-popup-content .user-autocomplete"),$("#cs-popup-content",gemini_edit.popupContainer).jScrollPane("reinitialise"),v={dataType:"json",success:function(n){n.success&&gemini_edit.refresh(n,gemini_edit.issueId),gemini_ui.stopBusy("#cs-popup #cs-popup-save")},error:function(){gemini_ui.stopBusy("#cs-popup #cs-popup-add-save")}},$("#inline-edit-form",gemini_edit.formContainer).ajaxForm(v),$("#inline-edit-form",gemini_edit.formContainer).validate({ignoreTitle:!0,submitHandler:function(){}}),gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item?$(gemini_edit.popupContainer).position({my:"left top",at:"right top",of:$(".attributes-pane"),offset:"0 0",collision:"none"}):(s=$(t).parent(),h="0 -500",$("#planner-box").length>0&&(s=$("#planner-box"),h="0 0"),$(gemini_edit.popupContainer).position({my:"left top",at:"left top",of:s,offset:h,collision:"none"}),$("#tabledata").length>0&&(c=$("#tabledata").position().top,c>$(gemini_edit.popupContainer).position().top&&$(gemini_edit.popupContainer).css("top",c+"px"))),y=$(gemini_edit.popupContainer).position().top,l=window.pageYOffset,l>y&&$(gemini_edit.popupContainer).css("top",l+"px"),gemini_edit.editingMode=!0,$("input",gemini_edit.popupContainer).change(gemini_edit.setPendingChanges),$("input[type=text]",gemini_edit.popupContainer).keyup(gemini_edit.setPendingChanges),$("select",gemini_edit.popupContainer).change(gemini_edit.setPendingChanges),$("#cs-popup-save",gemini_edit.popupContainer).unbind("click"),$("#cs-popup-close",gemini_edit.popupContainer).unbind("click"),$("#cs-popup-save",gemini_edit.popupContainer).click(gemini_edit.saveEditing),$("#cs-popup-close",gemini_edit.popupContainer).click(gemini_edit.hideEditingPopup),window.onbeforeunload=gemini_edit.warnLoseChanges,gemini_commons.inputKeyHandler($(document),null,gemini_edit.hideEditingPopup),u=$("#cs-popup-content",gemini_edit.popupContainer).data("jsp"),gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item){if(e=$(t).find(".attribute-header"),$(e).length==0&&(e=t),i=$(e).data("attribute-id"),$("#"+i,"#cs-popup-content").length==0)return;$("*[name='"+i+"']","#cs-popup-content").is("select")?(u.scrollToY($("#"+i+"_chzn","#cs-popup-content").position().top),$('*[name="'+i+'"] + div',"#cs-popup-content").focus().mousedown()):(u.scrollToY($("#"+i,"#cs-popup-content").position().top),$("*[name='"+i+"'][type!='hidden']","#cs-popup-content").is(":checkbox")?$("#"+i,"#cs-popup-content").focus():$("#"+i,"#cs-popup-content").focus().click()),$("#"+i,"#cs-popup-content").parent().addClass("highlight-underline"),$("#"+i,"#cs-popup-content").parent().siblings().addClass("highlight-underline")}else{if(r=$(t).closest("table").find("th").eq($(t).index()),$("#"+$(r).data("id"),"#cs-popup-content").length==0)return;$("*[name='"+$(r).data("id")+"'][type!='hidden']","#cs-popup-content").is("select")?(u.scrollToY($('*[name="'+$(r).data("id")+'"] + div',"#cs-popup-content").position().top),$('*[name="'+$(r).data("id")+'"] + div',"#cs-popup-content").focus().mousedown()):(u.scrollToY($("#"+$(r).data("id"),"#cs-popup-content").position().top),$("*[name='"+$(r).data("id")+"'][type!='hidden']","#cs-popup-content").is(":checkbox")?$("#"+$(r).data("id"),"#cs-popup-content").focus():$("#"+$(r).data("id"),"#cs-popup-content").focus().click()),$("#"+$(r).data("id"),"#cs-popup-content").parent().addClass("highlight-underline"),$("#"+$(r).data("id"),"#cs-popup-content").parent().siblings().addClass("highlight-underline"),a=$(t).closest("tr"),($(a).hasClass("dependant")||$(a).find(".parent").length==1)&&($(".dependant","#tabledata").remove(),$(".parent","#tabledata").removeClass("fonticon-arrow-up").addClass("fonticon-arrow-down"))}$("#cs-popup-content").find("*[data-trigger]").change(function(){gemini_edit.triggerChange(this)}),$("#cs-popup-content").find("*[data-customfield-trigger]").change(function(){gemini_edit.triggerCustomfieldChange(this)}),$("#cs-popup-content").find("*[data-customfield-trigger]").each(function(){$(this).data("customfield-trigger")=="P"&&gemini_edit.triggerCustomfieldChange(this)}),$(".chzn-results","#cs-popup-content").jScrollPane({}),gemini_keyboard.bindEscape("#cs-popup #cs-popup-close")}},triggerChange:function(n){var t,r,i;(gemini_edit.triggerXHR!=null&&gemini_edit.triggerXHR.abort(),t=$(n).data("trigger"),t=="*"||(r="|"+$(n).val()+"|",t.indexOf(r)!=-1))&&(i=$("#inline-edit-form",gemini_edit.formContainer).serialize(),gemini_edit.includeProjectsField&&(i+="&includeProjectsField="+encodeURIComponent(gemini_edit.includeProjectsField)),gemini_ui.destroyHtmlEditor(".wysiwyg-editor"),gemini_edit.triggerXHR=gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_edit.pageType,gemini_edit.showEditingPopup,null,i,$('[data-attribute-id="'+$(n).attr("id")+'"]').parent().parent(),"#attributes"))},triggerCustomfieldChange:function(n){var r=$(n).data("customfield-trigger"),i,t;r!=""&&(i=$(n).attr("id").replace("cf_",""),t="",$(n).find("option:selected").each(function(){t+=$(this).val()+"|"}),t.length>0&&(t=t.slice(0,-1)),gemini_ajax.postCall("project","cascadeddata",gemini_edit.cascadeUpdate,null,{fieldid:i,value:t,projectid:null,issueid:$("#Id","#cs-popup").val()}))},cascadeUpdate:function(n){for(var e=n.Result.Data,t,u,i,f,r=0;r<e.length;r++){for(t=e[r],u="",$("#"+t.Key,"#cs-popup").find("option:selected").each(function(){u+="|"+$(this).val()+"|"}),$("#"+t.Key,"#cs-popup").empty(),i=0;i<t.Value.length;i++)f="",(t.Value[i].Selected||u.indexOf("|"+t.Value[i].Value+"|")>=0)&&(f=" selected='selected' "),$("#"+t.Key,"#cs-popup").append("<option "+f+"value='"+t.Value[i].Value+"'>"+t.Value[i].Text+"<\/option>");t.Value.length==0&&$("#"+t.Key,"#cs-popup").append("<option  value='0'>-- none --<\/option>"),$("#"+t.Key,"#cs-popup").trigger("liszt:updated"),$("#"+t.Key,"#cs-popup").change()}},warnLoseChanges:function(){if(gemini_edit.pendingChanges)return"Unsaved changes."},hideEditingPopup:function(){gemini_edit.includeProjectsField=!1,gemini_edit.pendingChanges?gemini_popup.modalConfirm("Save changes?",null,function(){gemini_edit.saveEditing()},function(){gemini_edit.pendingChanges=!1,gemini_edit.hideEditingPopup()}):($(gemini_edit.popupContainer).hide(),gemini_edit.pendingChanges=!1,gemini_edit.editingMode=!1,gemini_commons.inputKeyHandlerUnbind($(document)),$("#cs-popup-content",gemini_edit.popupContainer).empty(),$("#cs-popup-content",gemini_edit.popupContainer).data("jsp",""),gemini_keyboard.unbindEscape("#cs-popup #cs-popup-close"))},initEdit:function(n,t,i,r,u,f){gemini_edit.pageType=t,gemini_edit.issueId=n,gemini_edit.popupContainer=i,gemini_edit.formContainer=r,gemini_edit.refreshFunction=f;$(u).on("click",".attribute",gemini_edit.initEditing)},setProjectFieldDisplay:function(n){gemini_edit.includeProjectsField=n}};var gemini_admin={currentTab:"",currentSubTab:"",currentTemplate:0,tabTopSelector:"#tabs-top > .tab",tabLeftSelector:"#tabs-left",currentXHR:null,currentTable:null,initGlobal:function(n){var t=gemini_admin.tabTopSelector,i=gemini_admin.tabLeftSelector;gemini_admin.currentTemplate=n,$(t).disableSelection(),$(i).disableSelection(),gemini_sizing.sameWidth(t);$(t).on("click",function(){$(t).removeClass("selected").addClass("normal"),$(this).removeClass("normal").addClass("selected"),gemini_admin.currentTab=$(this).data("tab"),gemini_admin.getSubTab()});$(i).on("click","div:not(.help)",function(){$("#tabs-left div:not(.help)").removeClass("selected").addClass("normal"),$(this).removeClass("normal").addClass("selected"),gemini_admin.currentSubTab=$(this).data("tab"),gemini_admin.getPage()});gemini_admin.currentTab.length==0?gemini_admin.currentTab=$("#tabs-top div:first-child").data("tab"):($(t).removeClass("selected").addClass("normal"),$(t+'[data-tab="'+gemini_admin.currentTab+'"]').addClass("selected")),gemini_admin.getSubTab(gemini_admin.currentSubTab)},checkXHR:function(){gemini_admin.currentXHR!=null&&(gemini_admin.currentXHR.abort(),gemini_admin.currentXHR=null)},getSubTab:function(n){gemini_admin.checkXHR(),(n==null||n==undefined)&&(gemini_admin.currentSubTab=""),gemini_admin.currentXHR=gemini_ajax.jsonCall("configure","tab/"+gemini_admin.currentTab,gemini_admin.renderSubTabs)},renderSubTabs:function(n){$("#tabs-left-content").html(n.Result.Menu),gemini_admin.currentSubTab==""&&(gemini_admin.currentSubTab=$("#tabs-left div:first-child").data("tab")),gemini_admin.currentXHR=null,gemini_admin.getPage()},getPage:function(){gemini_admin.checkXHR(),gemini_admin.clearPage(),gemini_admin.currentXHR=gemini_ajax.postCall("configure","tab/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab,gemini_admin.renderPage,null,{template:gemini_admin.currentTemplate})},clearPage:function(){$("#configure-page-content").empty()},getTemplateId:function(){return gemini_admin.currentTemplate},getFormTemplateId:function(){return"&template="+gemini_admin.currentTemplate},renderPage:function(n){$("#configure-page-content").html(n.Result.Page),gemini_admin.currentXHR=null,gemini_ui.chosen("select",null),$("#tabs-left div:not(.help)").removeClass("selected").addClass("normal"),$('#tabs-left div:not(.help)[data-tab="'+gemini_admin.currentSubTab+'"]').removeClass("normal").addClass("selected"),gemini_admin.currentTab=="Templates"&&(gemini_admin.currentTemplate=$("#Template").val(),$("#Template").unbind("change").change(function(){gemini_admin.currentTemplate=$("#Template").val(),gemini_admin.getPage()}),$("#export-template").unbind("click").click(function(n){gemini_commons.stopClick(n),gemini_commons.openUrl(csVars.Url+"configure/template/export/"+gemini_admin.currentTemplate)}),$("#delete-template").unbind("click").click(function(n){gemini_commons.stopClick(n),gemini_popup.modalConfirm("Delete Project Template?",null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall("configure","template/delete/"+gemini_admin.currentTemplate,function(){$("#Template option").each(function(){if($(this).val()!=gemini_admin.currentTemplate)return gemini_admin.currentTemplate=$(this).val(),!1}),gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_admin.getPage()},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},null)}),$("#load-templates").unbind("click").click(function(n){gemini_commons.stopClick(n),gemini_ajax.postCall("configure","template/load/",gemini_admin.getPage)}),$("#duplicate-template").unbind("click").click(function(n){gemini_commons.stopClick(n),gemini_popup.centerPopup("configure/template/duplicate","popup",null)}))},initDatatables:function(n,t){var i={},r;t!=null&&(i=t),r=$.extend({},{bFilter:!0,bInfo:!0,bSort:!0,bPaginate:!0,bLengthChange:!1,iDisplayLength:20,sPaginationType:"full_numbers",oLanguage:{sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:""}},i),gemini_admin.currentTable=$(n).dataTable(r)},rowDragIndex:0,initTableDnD:function(n){$(n).tableDnD({dragHandle:".dragHandle",onDrop:function(n,t){gemini_ajax.postCall("configure",gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/resequence",function(){},null,{id:$(t).data("id"),template:gemini_admin.currentTemplate,afterid:t.rowIndex==1?0:$(n.rows[t.rowIndex-1]).data("id"),newIndex:t.rowIndex-1,oldIndex:gemini_admin.rowDragIndex-1})},onDragStart:function(n,t){gemini_admin.rowDragIndex=t.parentNode.parentNode.rowIndex},onDragClass:"highlight-hover",onAllowDrop:function(n,t){return $(t.children[0]).is("td")}})},initDatatablesWithEdit:function(n,t,i,r){var u={};(i==null||i==undefined)&&(i="tbody td:not([data-edit='false'])"),r!=null&&(u=r);var e=!0,s=!1,f=!1,o=$.extend({},{bFilter:!0,bInfo:!0,bSort:!0,bPaginate:!0,bLengthChange:!1,iDisplayLength:20,sPaginationType:"full_numbers",oLanguage:{sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"No data."},fnDrawCallback:function(t){e&&(t.bFiltered||t.bSorted?($(".dragHandle").hide(),f=!0):f||$(".dragHandle").show()),$(n+" "+i).editable(csVars.Url+"configure/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/saveproperty",{placeholder:"",detectType:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("edit-type")},validationRequired:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("required")},validationEmail:function(n){var t=gemini_ui.getTableTHForTD(n);return $(t).data("email")},loadurl:csVars.Url+"configure/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/getproperty",loaddata:function(){var n=gemini_ui.getTableTHForTD(this),t=$(n).data("field");return{id:$(this).parent().data("id"),property:t}},submitdata:function(){var n=gemini_ui.getTableTHForTD(this),t=$(n).data("field");return{id:$(this).parent().data("id"),property:t}},height:"14px"}),$('*[data-edit-type="color"]').length>0&&$(i).each(function(){var n=gemini_ui.getTableTHForTD(this);$(n).data("edit-type")=="color"&&$(this).click()})}},u);gemini_admin.currentTable=$(n).dataTable(o)},removeRow:function(n){var t=$(n).closest("tr"),i=t.closest("tbody"),r=gemini_admin.currentTable.fnGetPosition(t[0]);gemini_admin.currentTable.fnDeleteRow(r),i.children("tr:even").addClass("odd").removeClass("even"),i.children("tr:odd").addClass("even").removeClass("odd")},showPopup:function(n,t,i){gemini_ajax.call(n,t,function(n){$("#cs-popup-center-content").html(n.result.data.html),$("#cs-popup-center").show()},null,{id:i},null)},saveStarted:function(n){gemini_ui.togglePageOverlay("#tabs-left, #tabs-top"),gemini_ui.cursorWait(),gemini_ui.disableButton(n)},saveFinished:function(n){gemini_ui.cursorDefault(),gemini_ui.enableButton(n),gemini_popup.toast("Saved")},hideAttributeOptionsPicker:function(){var n,t;$("#attribute-options-picker").hide(),n=$("#attribute-options-picker").attr("data-field"),$("#attribute-options-picker").attr("data-field",""),t=$("#"+n).attr("id"),$("#attribute-options-picker").removeClass(t)},persistAttributeOptionsPicker:function(n,t){var i=$("#attribute-options-picker").attr("data-field"),r="";$(":selected","#attribute-options-ProjectGroup").each(function(){r=r+"|"+$(this).val()}),$("#"+i).attr("data-project-groups",r),n&&($("#field-required").is(":checked")?$("#"+i).attr("data-required","true"):$("#"+i).attr("data-required","false")),t&&t()},EscapeAttributeDdropdown:function(){gemini_admin.hideAttributeOptionsPicker()},attributeOptionsPicker:function(n,t,i,r){i?$("#option-required","#attribute-options-picker").show():$("#option-required","#attribute-options-picker").hide(),$("#option-delete","#attribute-options-picker").hide(),$("#option-apply-button","#attribute-options-picker").unbind("click"),$("#option-apply-button","#attribute-options-picker").click(function(){gemini_admin.persistAttributeOptionsPicker(i,r),gemini_admin.hideAttributeOptionsPicker()}),$(n).unbind("click"),$(n).click(function(){var u=t(this),f=$("#attribute-options-picker").attr("data-field"),e,o;if(f!=undefined&&f!=""&&gemini_admin.persistAttributeOptionsPicker(i,r),$("#attribute-options-picker").hasClass(u.attr("id"))){$("#attribute-options-picker").hide(),$("#attribute-options-picker").removeClass(u.attr("id")),$("#attribute-options-picker").attr("data-field","");return}i&&(e=u.attr("data-required"),$("#field-required").removeAttr("checked"),e=="true"&&$("#field-required").attr("checked","checked")),$("option","#attribute-options-ProjectGroup").attr("selected",!1),o=u.attr("data-project-groups").split("|"),$(o).each(function(){this!=""&&$('option[value="'+this+'"]',"#attribute-options-ProjectGroup").attr("selected",!0)}),$("#attribute-options-ProjectGroup").trigger("liszt:updated"),$("#attribute-options-picker").attr("data-field",u.attr("id")),$("#attribute-options-picker").addClass(u.attr("id")),$("#attribute-options-picker").slideDown("fast"),$("#attribute-options-picker").position({my:"left top",at:"left bottom",of:this,offset:"-10 0",collision:"none"}),gemini_keyboard.bindEscape("#attribute-options-picker",gemini_admin.EscapeAttributeDdropdown)})}};gemini_reports={init:function(n){gemini_reports.settings=n,$("#Reports").change(function(n){gemini_reports.reportChanged(n)}),gemini_ui.datePicker(".datepicker",gemini_reports.reportChanged),$(".datepicker").change(function(n){gemini_reports.reportChanged(n)}),$("#SubChart").change(function(n){gemini_reports.reportChanged(n)});var t=jQuery.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));gemini_ui.setDropdownValue("#Reports",t.SelectedReport),$("#FieldId").change(function(n){gemini_reports.reportChanged(n)}),$("#FilterId").change(function(n){gemini_reports.reportChanged(n)}),$("#ProjectId").change(function(n){gemini_reports.reportChanged(n)}),$("#TimeTypeId").change(function(n){gemini_reports.reportChanged(n)}),$("#ResourceId").change(function(n){gemini_reports.reportChanged(n)}),$("#GroupBy").change(function(n){gemini_reports.reportChanged(n)}),$(".report-summary-table-button","#report-menu").click(function(){$("#ProjectSummaryChart").val("false"),$(".report-summary-chart").fadeOut("fast",function(){$(".report-summary-table").fadeIn("fast")})}),$(".report-summary-chart-button","#report-menu").click(function(){$("#ProjectSummaryChart").val("true"),$(".report-summary-table").fadeOut("fast",function(){$(".report-summary-chart").fadeIn("fast")})}),gemini_reports.options=t,gemini_reports.setupControls(),gemini_reports.reportChanged(),$(".control-icon","#report-menu").click(function(){var t=$(this),n=t.find("+ .options");n.is(":visible")?(n.hide(),gemini_keyboard.unbindEscape("#page-options-box .options")):(t.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),n.show(),gemini_keyboard.bindEscape("#page-options-box .options",gemini_reports.escapeDropdowns)),n.position({of:t,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})},escapeDropdowns:function(n,t){$(t).hide(),gemini_keyboard.unbindEscape(n)},settings:null,options:null,reportChanged:function(){gemini_ui.cursorWait(),$("#report-content").html("<div id='cs-template'><div id='no-data'>"+gemini_reports.settings.Loading+"<\/div><\/div>"),gemini_ajax.postCall(csVars.ProjectUrl+"report","get",gemini_reports.displayReport,null,$("#ReportParams").serialize())},displayReport:function(n){if(n=="Not Found"){$("#report-content").empty(),gemini_ui.cursorDefault();return}n.Result.SavedCard!=null&&(gemini_appnav.pageCard.Options=n.Result.SavedCard.Options,gemini_reports.options=jQuery.parseJSON(n.Result.SavedCard.Options)),gemini_reports.setupControls(),$("#report-content").html(n.Result.Html),$(window).trigger("resize")},setupControls:function(){var n=gemini_reports.options;n.StartDate?$("#StartDate").show().val(n.StartDateDisplay):$("#StartDate").hide(),n.EndDate?$("#EndDate").show().val(n.EndDateDisplay):$("#EndDate").hide(),gemini_ui.setDropdownValue("#Reports",n.Reports),n.SubChart&&n.Reports==20?(gemini_ui.setDropdownValue("#HoursAllocation",n.SubChart),$("#HoursAllocationContainer").show()):$("#HoursAllocationContainer").hide(),n.Reports==40?($("#FieldFilterContainer").show(),$("#FilterContainer").show()):($("#FieldFilterContainer").hide(),$("#FilterContainer").hide()),n.Reports>=30&&n.Reports<40?$("#ProjectSummaryControlsContainer").show():$("#ProjectSummaryControlsContainer").hide(),n.Reports>=50&&n.Reports<60?($("#ResourceFilterContainer").hide(),n.Reports==52?$("#ResourceFilterContainer").show():n.Reports==51&&$("#ResourceFilterContainer").show(),$("#TimeFilterContainer").show(),$("#TimeReportExtraControls").show()):($("#ProjectFilterContainer").show(),$("#TimeFilterContainer").hide(),$("#ResourceFilterContainer").hide(),$("#TimeReportExtraControls").hide()),$("#pdf-action").data("pdf",n.PdfUrl),gemini_ui.cursorDefault()}};gemini_progress={init:function(n,t,i){$(document).on("click",".burndown .radio-check input[type='radio']",function(){window.location.href=i+"progress/burndown/"+n+"/"+$("#days").val()+"/"+$(this).val()+"?card="+gemini_appnav.pageCard.Id});$(document).on("change",".burndown #days",function(){window.location.href=i+"progress/burndown/"+n+"/"+$("#days").val()+"/"+$("#burndown-form .radio-check input[type='radio']:checked").val()+"?card="+gemini_appnav.pageCard.Id})},burddownChart:function(n,t,i,r,u){burddownChart=new Highcharts.Chart({colors:["#A00000","#20AA00","#000000"],chart:{renderTo:"burndown",type:"column"},title:{text:""},xAxis:{categories:t,labels:{align:"right",rotation:-90}},yAxis:{min:0,title:{text:n.Items},stackLabels:{}},legend:{align:"right",x:-100,verticalAlign:"top",y:20,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColorSolid||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){return"<b>"+this.x+"<\/b><br/>"+this.series.name+": "+Math.floor(this.y)+"<br/>"+(this.series.name=="Ideal"?"":n.Total+this.point.stackTotal)}},plotOptions:{column:{stacking:"normal"}},series:[{name:n.Created,data:r},{name:n.Open,data:i},{type:"spline",name:"Ideal",data:u}]})},burdupChart:function(n,t,i,r){burdupChart=new Highcharts.Chart({colors:["#A00000","#20AA00","#000000"],chart:{renderTo:"burnup",type:"line"},title:{text:""},xAxis:{categories:t,labels:{align:"right",rotation:-90}},yAxis:{min:0,title:{text:n.Items}},legend:{align:"right",x:-100,verticalAlign:"top",y:20,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){return"<b>"+this.x+"<\/b><br/>"+this.series.name+": "+this.y+"<br/>"}},series:[{name:n.Total,data:i},{name:n.Closed,data:r}]})},chart:function(n,t,i){var u=[],r,f;$(i).each(function(){u.push({y:this.Second,url:this.Third})}),r="transparent",csVars.IEVersion>=7&&csVars.IEVersion<9&&(r="rgba(255,255,255,0.1)"),f=new Highcharts.Chart({chart:{backgroundColor:r,renderTo:"status-breakdown",type:"bar",marginLeft:100},colors:["#63b6db"],title:{text:""},subtitle:{text:""},xAxis:{labels:{style:{width:"100px"}},categories:n,title:{text:null}},yAxis:{min:0,title:{text:""},labels:{enabled:!1},gridLineWidth:0},tooltip:{formatter:function(){return""+this.y}},plotOptions:{bar:{dataLabels:{enabled:!0,formatter:function(){return Math.floor(this.y*100/t)+"%"}}},series:{cursor:"pointer",point:{events:{click:function(){location.href=this.options.url}}}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-100,y:100,floating:!0,borderWidth:1,backgroundColor:"#FFFFFF",shadow:!0,itemWidth:100},credits:{enabled:!1},exporting:{enabled:!1},series:[{data:u}]})},minutes:function(n,t,i){return(n*8+t)*60+i},deltaString:function(n){mins=Math.abs(n),hours=mins>60?Math.floor(mins/60):0,mins-=hours*60,$(".delta-hours").text(hours+"h"),$(".delta-minutes").text(mins+"m")},showDelta:function(n){delta=n,delta>0?$(".delta").removeClass("behind ahead").addClass("ahead"):$(".delta").removeClass("behind ahead").addClass("behind"),gemini_progress.deltaString(delta)},showDays:function(n,t){$(".days-est").text(Math.floor(n/60)+"h "+Math.floor(n%60)+"m"),$(".days-cpt").text(Math.floor(t/60)+"h "+Math.floor(t%60)+"m")},showCompleteness:function(n){gemini_ui.tinyPercent("#statusbar .tinyProgress",Math.floor(n),"#0B0","#4c4c4c",500,0,0,50)},showGrid:function(n,t,i){gemini_filter.executeEndPoint=i,gemini_filter.executeData=function(){return $("#Sort").val()},gemini_filter.refreshTable=function(n){$("#progress-items-table").html(n),$("#items-grid").css("opacity","1")},gemini_filter.init(n),gemini_edit.initEdit(0,n,"#cs-popup","#cs-popup-content","#data",gemini_items.refreshRow),gemini_filter.gridColumnPickerInit(function(){var i="getroadmap";n==gemini_commons.PAGE_TYPE.Changelog&&(i="getchangelog"),gemini_ajax.call(csVars.ProjectUrl+"progress",i,function(n){n.Success&&($("#progress-items-table").html(n.Result.Data),gemini_filter.initDataTable())},null,{id:t})})}}